{"ast":null,"code":"var _jsxFileName = \"/Users/katarinaking/GiftWebsite/src/App.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$(),\n  _s8 = $RefreshSig$(),\n  _s9 = $RefreshSig$(),\n  _s0 = $RefreshSig$(),\n  _s1 = $RefreshSig$(),\n  _s10 = $RefreshSig$(),\n  _s11 = $RefreshSig$(),\n  _s12 = $RefreshSig$(),\n  _s13 = $RefreshSig$();\nimport React, { useRef, useState, useEffect, useCallback } from 'react';\nimport { createClient } from '@supabase/supabase-js';\n\n// Supabase Configuration\n// IMPORTANT: Replace these with your actual Supabase project URL and public anon key\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst supabaseUrl = 'https://nemluxhhfwegfpffpike.supabase.co'; // e.g., https://abcdefghijk.supabase.co\nconst supabaseAnonKey = 'sb_publishable_79L65b4HcHd9BvczzVU0xQ_BhsXsDgS'; // e.g., eyJhbGciOiJIUzI1NiI...\n\nconst supabase = createClient(supabaseUrl, supabaseAnonKey);\nif (supabaseUrl === 'YOUR_SUPABASE_URL' || supabaseAnonKey === 'YOUR_SUPABASE_ANON_KEY') {\n  console.error(\"************************************************************************************************************************\\n\" + \"SUPABASE CONFIGURATION ERROR: Your Supabase URL or Anon Key appears to be empty/placeholder.\\n\" + \"Please replace the placeholder values in `supabaseUrl` and `supabaseAnonKey` with your ACTUAL project credentials from the Supabase Dashboard.\\n\" + \"Go to Supabase Dashboard -> Project settings -> API to find these details.\\n\" + \"Without correct credentials, Supabase authentication and database interactions will NOT work.\\n\" + \"************************************************************************************************************************\");\n}\nconst playSound = (playerRef, soundType, soundSettings) => {\n  const player = playerRef.current;\n  if (typeof window.Tone === 'undefined' || !player) {\n    console.warn(`Cannot play sound. Tone.js is not defined or player is null for ${soundType}.`);\n    return;\n  }\n  const {\n    isAllSoundEnabled,\n    isClickSoundEnabled,\n    isScrollSoundEnabled,\n    isPageTransitionSoundEnabled\n  } = soundSettings;\n  if (!isAllSoundEnabled) {\n    return; // Do not play any sound if master toggle is off\n  }\n\n  // Check individual sound type settings\n  if (soundType === 'click' && !isClickSoundEnabled) return;\n  if (soundType === 'scroll' && !isScrollSoundEnabled) return;\n  if (soundType === 'pageTransition' && !isPageTransitionSoundEnabled) return;\n  if (window.Tone.context.state !== 'running') {\n    window.Tone.start().then(() => {\n      console.log('Tone.js audio context started.');\n      if (player.loaded) {\n        player.start();\n      } else {\n        console.warn(`Sound not loaded yet for ${soundType}:`, player.url);\n      }\n    }).catch(e => console.error(\"Error starting Tone.js audio context:\", e));\n  } else {\n    if (player.loaded) {\n      player.start();\n    } else {\n      console.warn(`Sound not loaded yet for ${soundType}:`, player.url);\n    }\n  }\n};\n\n// Debounce function for scroll sound\nconst debounce = (func, delay) => {\n  let timeout;\n  return function (...args) {\n    const context = this;\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func.apply(context, args), delay);\n  };\n};\n\n// Reusable ProductSection Component (used on Home page and Category pages)\nconst ProductSection = ({\n  title,\n  onSeeMoreClick,\n  onProductClick,\n  onAddProductToWishlist,\n  soundSettings,\n  clickSoundRef\n}) => {\n  _s();\n  const scrollRef = useRef(null);\n  const [showLeftArrow, setShowLeftArrow] = useState(false);\n  const [showRightArrow, setShowRightArrow] = useState(true);\n  const [products, setProducts] = useState([]); // State for products fetched from Supabase\n  const [isLoading, setIsLoading] = useState(true); // Loading state for products\n  const scrollAmount = 300; // Pixels to scroll\n\n  // Fetch products from Supabase based on the section title\n  useEffect(() => {\n    const fetchProducts = async () => {\n      setIsLoading(true);\n      let query = supabase.from('products').select('*');\n\n      // Implement filtering/ordering based on the section title\n      if (title === \"TRENDING\") {\n        query = query.order('created_at', {\n          ascending: false\n        }).limit(10); // Example: newest 10 products\n      } else if (title === \"Popular / Most Searched Items\" || title === \"Recommended for You\") {\n        query = query.order('rating', {\n          ascending: false\n        }).limit(10); // Example: highest rated\n      } else {\n        query = query.eq('category', title).limit(10); // Filter by category name\n      }\n      const {\n        data,\n        error\n      } = await query;\n      if (error) {\n        console.error(`Error fetching products for ${title}:`, error);\n      } else {\n        setProducts(data);\n      }\n      setIsLoading(false);\n    };\n    fetchProducts();\n  }, [title]); // Re-fetch when the section title changes\n\n  const checkScrollArrows = useCallback(() => {\n    if (scrollRef.current) {\n      const {\n        scrollLeft,\n        scrollWidth,\n        clientWidth\n      } = scrollRef.current;\n      setShowLeftArrow(scrollLeft > 0);\n      setShowRightArrow(scrollLeft + clientWidth < scrollWidth);\n    }\n  }, []);\n  useEffect(() => {\n    checkScrollArrows(); // Check on mount\n    const currentRef = scrollRef.current;\n    if (currentRef) {\n      currentRef.addEventListener('scroll', checkScrollArrows);\n      window.addEventListener('resize', checkScrollArrows); // Recheck on resize\n    }\n    return () => {\n      if (currentRef) {\n        currentRef.removeEventListener('scroll', checkScrollArrows);\n      }\n      window.removeEventListener('resize', checkScrollArrows);\n    };\n  }, [checkScrollArrows]);\n  const handleScrollLeft = () => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollBy({\n        left: -scrollAmount,\n        behavior: 'smooth'\n      });\n      playSound(clickSoundRef, 'click', soundSettings); // Play click sound for scrolling\n    }\n  };\n  const handleScrollRight = () => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollBy({\n        left: scrollAmount,\n        behavior: 'smooth'\n      });\n      playSound(clickSoundRef, 'click', soundSettings); // Play click sound for scrolling\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"mb-12 relative\",\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-4 ml-4 md:ml-12\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold text-[var(--primary-color)]\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        onClick: e => {\n          e.preventDefault();\n          onSeeMoreClick(title);\n          playSound(clickSoundRef, 'click', soundSettings);\n        },\n        className: \"text-sm text-[var(--primary-color)] hover:underline mr-4 md:mr-12 flex items-center space-x-1 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"See More\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: scrollRef,\n      className: \"flex overflow-x-auto overflow-y-hidden pb-16 space-x-4 custom-scrollbar px-4 md:px-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-4\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-4\",\n          children: [\" \", isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-[var(--primary-color)] text-center py-4 w-full\",\n            children: \"Loading products...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this) : products.length > 0 ? products.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-shrink-0 w-56 h-80 bg-[var(--box-bg-color)] rounded-lg shadow-md border-2 border-[var(--border-color)] flex flex-col items-center justify-between p-2 cursor-pointer transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-48 h-56 bg-[var(--main-bg-color)] rounded-md flex flex-col items-center justify-center text-[var(--primary-color)] text-lg relative mb-2\",\n              onClick: () => {\n                onProductClick(product);\n                playSound(clickSoundRef, 'click', soundSettings);\n              },\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                src: product.image_url,\n                alt: product.name,\n                className: \"w-full h-full object-cover rounded-md\",\n                onError: e => e.target.src = `https://placehold.co/240x280/D3A173/FFFFFF?text=${product.name.replace(/\\s/g, '+')}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"absolute bottom-2 text-white bg-black bg-opacity-50 px-2 py-1 rounded-md text-sm\",\n                children: [\"$\", product.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-[var(--primary-color)] text-center mb-2\",\n              children: product.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 19\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col space-y-3 w-full px-2\",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  onAddProductToWishlist(product);\n                  playSound(clickSoundRef, 'click', soundSettings);\n                },\n                className: \"px-4 py-2 bg-gray-500 text-white rounded-md shadow-md hover:bg-gray-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 w-full\",\n                children: \"Add to Wyshlist\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: product.amazon_link,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                onClick: () => playSound(clickSoundRef, 'click', soundSettings),\n                className: \"px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 text-center w-full\",\n                children: [\"Go Buy \", /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-external-link-alt ml-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 30\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 19\n            }, this)]\n          }, product.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-[var(--primary-color)] text-center py-4 w-full\",\n            children: \"No products found for this section.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), showLeftArrow && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleScrollLeft,\n      className: \"absolute left-4 md:left-12 top-1/2 -translate-y-1/2 bg-[var(--box-bg-color)] rounded-full p-2 shadow-md hover:bg-gray-100 focus:outline-none transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n      \"aria-label\": `Scroll left for ${title} section`,\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-arrow-left text-3xl text-[var(--primary-color)]\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }, this), showRightArrow && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleScrollRight,\n      className: \"absolute right-4 md:right-12 top-1/2 -translate-y-1/2 bg-[var(--box-bg-color)] rounded-full p-2 shadow-md hover:bg-gray-100 focus:outline-none transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n      \"aria-label\": `Scroll right for ${title} section`,\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-arrow-right text-3xl text-[var(--primary-color)]\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n};\n\n// Reusable Header Component\n_s(ProductSection, \"o0LA7gOYY2OG+iVSBkOgo4MQ+1Q=\");\n_c = ProductSection;\nconst Header = ({\n  toggleSidebar,\n  onSearchClick,\n  onBookmarkClick,\n  onSettingsClick,\n  onProfileClick,\n  onBack,\n  currentPage,\n  onWyshDropClick,\n  isHeaderVisible,\n  toggleHeaderVisibility,\n  user,\n  onQuizMeClick,\n  onDonateClick,\n  onFeedbackClick,\n  onSignInClick,\n  onSignUpClick,\n  soundSettings,\n  clickSoundRef\n}) => {\n  _s2();\n  const [showProfileDropdown, setShowProfileDropdown] = useState(false);\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: `w-full bg-[var(--box-bg-color)] p-4 flex justify-between items-center shadow-sm rounded-b-xl transition-transform duration-300 ${isHeaderVisible ? 'translate-y-0' : '-translate-y-full'} fixed top-0 left-0 z-30`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-4\",\n      children: [currentPage !== 'home' && currentPage !== 'cover' && currentPage !== 'create-account' && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          onBack();\n          playSound(clickSoundRef, 'click', soundSettings);\n        },\n        \"aria-label\": \"Go back\",\n        className: \"text-[var(--primary-color)] hover:text-gray-700 focus:outline-none transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-arrow-left text-xl\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          toggleSidebar();\n          playSound(clickSoundRef, 'click', soundSettings);\n        },\n        \"aria-label\": \"Open menu\",\n        className: \"text-[var(--primary-color)] hover:text-gray-700 focus:outline-none transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-bars text-xl\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2 cursor-pointer transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n        onClick: () => {\n          onWyshDropClick();\n          playSound(clickSoundRef, 'click', soundSettings);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://placehold.co/40x40/transparent/9A6E45?text=Logo\",\n          alt: \"WyshDrop Logo\",\n          className: \"h-10 w-10 object-contain\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-handwritten text-[var(--primary-color)] flex items-center space-x-1\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"WyshDrop\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"flex space-x-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        \"aria-label\": \"Search\",\n        className: \"text-[var(--primary-color)] hover:text-gray-700 focus:outline-none transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n        onClick: () => {\n          onSearchClick();\n          playSound(clickSoundRef, 'click', soundSettings);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-search text-xl\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        \"aria-label\": \"Saved Items\",\n        className: \"text-[var(--primary-color)] hover:text-gray-700 focus:outline-none transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n        onClick: () => {\n          onBookmarkClick();\n          playSound(clickSoundRef, 'click', soundSettings);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-bookmark text-xl\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        \"aria-label\": \"Settings\",\n        className: \"text-[var(--primary-color)] hover:text-gray-700 focus:outline-none transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n        onClick: () => {\n          onSettingsClick();\n          playSound(clickSoundRef, 'click', soundSettings);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-cog text-xl\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative\",\n        onMouseEnter: () => setShowProfileDropdown(true),\n        onMouseLeave: () => setShowProfileDropdown(false),\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          \"aria-label\": \"User Profile\",\n          className: \"text-[var(--primary-color)] hover:text-gray-700 focus:outline-none transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n          onClick: () => {\n            onProfileClick();\n            playSound(clickSoundRef, 'click', soundSettings);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-user-circle text-xl\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-2 text-sm hidden md:inline\",\n            children: user.username || 'Guest'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), showProfileDropdown && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute right-0 mt-2 w-48 bg-[var(--box-bg-color)] rounded-md shadow-lg py-1 z-10 border border-[var(--border-color)]\",\n          children: user.isLoggedIn ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-4 py-2 text-sm text-[var(--primary-color)] border-b border-[var(--border-color)]\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold\",\n                children: user.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: user.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                onProfileClick();\n                playSound(clickSoundRef, 'click', soundSettings);\n              },\n              className: \"block w-full text-left px-4 py-2 text-sm text-[var(--primary-color)] hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n              children: \"Go to Profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 19\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                onQuizMeClick();\n                playSound(clickSoundRef, 'click', soundSettings);\n              },\n              className: \"block w-full text-left px-4 py-2 text-sm text-[var(--primary-color)] hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n              children: \"Quiz Me \\u2728\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                onDonateClick();\n                playSound(clickSoundRef, 'click', soundSettings);\n              },\n              className: \"block w-full text-left px-4 py-2 text-sm text-[var(--primary-color)] hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n              children: \"Donate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                onFeedbackClick();\n                playSound(clickSoundRef, 'click', soundSettings);\n              },\n              className: \"block w-full text-left px-4 py-2 text-sm text-[var(--primary-color)] hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n              children: \"Feedback\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-4 py-2 text-sm text-[var(--primary-color)] border-b border-[var(--border-color)]\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold\",\n                children: \"Guest User\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: \"Sign in for full features!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                onSignInClick();\n                playSound(clickSoundRef, 'click', soundSettings);\n              },\n              className: \"block w-full text-left px-4 py-2 text-sm text-[var(--primary-color)] hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n              children: \"Sign In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                onSignUpClick();\n                playSound(clickSoundRef, 'click', soundSettings);\n              },\n              className: \"block w-full text-left px-4 py-2 text-sm text-[var(--primary-color)] hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n              children: \"Sign Up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), currentPage === 'home' &&\n      /*#__PURE__*/\n      // Only show on home page for now\n      _jsxDEV(\"button\", {\n        onClick: () => {\n          toggleHeaderVisibility();\n          playSound(clickSoundRef, 'click', soundSettings);\n        },\n        \"aria-label\": isHeaderVisible ? \"Hide header\" : \"Show header\",\n        className: \"text-[var(--primary-color)] hover:text-gray-700 focus:outline-none ml-4 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: `fas ${isHeaderVisible ? 'fa-chevron-up' : 'fa-chevron-down'} text-xl`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 222,\n    columnNumber: 5\n  }, this);\n};\n\n// Home Content Component\n_s2(Header, \"LaRCWAMyeOCgE4DSKdy7KbIXymI=\");\n_c2 = Header;\nconst HomeContent = ({\n  onSeeMoreClick,\n  onDiscoverClick,\n  isLoggedIn,\n  onAboutUsClick,\n  onProductClick,\n  onAddProductToWishlist,\n  soundSettings,\n  clickSoundRef\n}) => {\n  _s3();\n  // Added onProductClick prop\n  const purposeBanners = [\"https://placehold.co/1200x400/D3A173/FFFFFF?text=Our+Purpose+Banner+1\", \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Our+Purpose+Banner+2\", \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Our+Purpose+Banner+3\"];\n  const [currentBannerIndex, setCurrentBannerIndex] = useState(0);\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCurrentBannerIndex(prevIndex => (prevIndex + 1) % purposeBanners.length);\n    }, 3000); // Change banner every 3 seconds\n\n    return () => clearInterval(interval);\n  }, [purposeBanners.length]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex-grow w-full py-12 pt-[130px]\",\n      children: [!isLoggedIn && /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"w-full bg-[var(--box-bg-color)] py-12 mb-8 rounded-lg shadow-lg border-2 border-[var(--border-color)] text-center px-4 md:px-12\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-4xl font-bold text-[var(--primary-color)] mb-4\",\n          children: \"Your Gifting Journey Starts Here!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg text-[var(--primary-color)] max-w-2xl mx-auto mb-4\",\n          children: \"Discover and share the perfect gifts with ease. Create wishlists, get personalized recommendations, and make every occasion memorable.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            onAboutUsClick();\n            playSound(clickSoundRef, 'click', soundSettings);\n          },\n          className: \"px-6 py-3 bg-[var(--button-bg-color)] text-white font-bold rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n          children: \"Learn More About WyshDrop\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"w-full h-0 pb-[33.33%] mb-8 rounded-lg shadow-lg border-2 border-[var(--border-color)] overflow-hidden relative\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: purposeBanners[currentBannerIndex],\n          alt: \"WyshDrop Mission Banner\",\n          className: \"absolute inset-0 w-full h-full object-contain rounded-lg transition-opacity duration-1000\" // Added transition\n          ,\n          onError: e => e.target.src = \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Image+Load+Error\" // Fallback image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full mx-auto\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(ProductSection, {\n          title: \"TRENDING\",\n          onSeeMoreClick: onSeeMoreClick,\n          onProductClick: onProductClick,\n          onAddProductToWishlist: onAddProductToWishlist,\n          soundSettings: soundSettings,\n          clickSoundRef: clickSoundRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProductSection, {\n          title: \"Books\",\n          onSeeMoreClick: onSeeMoreClick,\n          onProductClick: onProductClick,\n          onAddProductToWishlist: onAddProductToWishlist,\n          soundSettings: soundSettings,\n          clickSoundRef: clickSoundRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProductSection, {\n          title: \"Accessories\",\n          onSeeMoreClick: onSeeMoreClick,\n          onProductClick: onProductClick,\n          onAddProductToWishlist: onAddProductToWishlist,\n          soundSettings: soundSettings,\n          clickSoundRef: clickSoundRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProductSection, {\n          title: \"DIY/Art\",\n          onSeeMoreClick: onSeeMoreClick,\n          onProductClick: onProductClick,\n          onAddProductToWishlist: onAddProductToWishlist,\n          soundSettings: soundSettings,\n          clickSoundRef: clickSoundRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProductSection, {\n          title: \"Tech\",\n          onSeeMoreClick: onSeeMoreClick,\n          onProductClick: onProductClick,\n          onAddProductToWishlist: onAddProductToWishlist,\n          soundSettings: soundSettings,\n          clickSoundRef: clickSoundRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProductSection, {\n          title: \"Cups/Drinks\",\n          onSeeMoreClick: onSeeMoreClick,\n          onProductClick: onProductClick,\n          onAddProductToWishlist: onAddProductToWishlist,\n          soundSettings: soundSettings,\n          clickSoundRef: clickSoundRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProductSection, {\n          title: \"Stationary\",\n          onSeeMoreClick: onSeeMoreClick,\n          onProductClick: onProductClick,\n          onAddProductToWishlist: onAddProductToWishlist,\n          soundSettings: soundSettings,\n          clickSoundRef: clickSoundRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProductSection, {\n          title: \"Music\",\n          onSeeMoreClick: onSeeMoreClick,\n          onProductClick: onProductClick,\n          onAddProductToWishlist: onAddProductToWishlist,\n          soundSettings: soundSettings,\n          clickSoundRef: clickSoundRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProductSection, {\n          title: \"Figurines / Plushies\",\n          onSeeMoreClick: onSeeMoreClick,\n          onProductClick: onProductClick,\n          onAddProductToWishlist: onAddProductToWishlist,\n          soundSettings: soundSettings,\n          clickSoundRef: clickSoundRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"relative flex flex-col items-center justify-center py-12 bg-[var(--main-bg-color)] rounded-lg shadow-inner border-2 border-[var(--border-color)] mx-4 md:mx-12\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-[var(--primary-color)] text-lg mb-4 text-center\",\n            children: \"You reached the end of this page \\u2665\\u2665\\u2665\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              onDiscoverClick();\n              playSound(clickSoundRef, 'click', soundSettings);\n            } // Added onClick to navigate to search page\n            ,\n            className: \"relative px-8 py-4 bg-[var(--button-bg-color)] text-white text-2xl font-bold rounded-full shadow-lg hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 overflow-hidden\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"relative z-10\",\n              children: \"DISCOVER\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"absolute inset-0 bg-gradient-to-r from-[var(--button-bg-color)] to-gray-700 opacity-0 hover:opacity-100 transition-opacity duration-300\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n// Quiz Modal Component\n_s3(HomeContent, \"nP7E3WIh/T5g6ogyxk6+cx3uxLA=\");\n_c3 = HomeContent;\nconst QuizModal = ({\n  isOpen,\n  onClose,\n  onQuizComplete,\n  soundSettings,\n  clickSoundRef,\n  user\n}) => {\n  _s4();\n  var _answers$currentQuest, _answers$currentQuest2;\n  // Added 'user' prop\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [answers, setAnswers] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [quizResults, setQuizResults] = useState('');\n  const questions = [{\n    id: 'recipient',\n    text: 'Who are you shopping for?',\n    type: 'radio-with-other',\n    options: ['Friend', 'Family Member', 'Partner', 'Colleague', 'Child'],\n    otherPlaceholder: 'e.g., My neighbor, My pet'\n  }, {\n    id: 'occasion',\n    text: 'What is the occasion?',\n    type: 'radio-with-other',\n    options: ['Birthday', 'Anniversary', 'Holiday', 'Graduation', 'Just Because'],\n    otherPlaceholder: 'e.g., Housewarming, Promotion'\n  }, {\n    id: 'interests',\n    text: 'What are their main interests or hobbies?',\n    type: 'text',\n    // Keeping as text for free-form input\n    placeholder: 'e.g., Reading, Gaming, Cooking, Art, Outdoors'\n  }, {\n    id: 'budget',\n    text: 'What is your approximate budget?',\n    type: 'radio',\n    // Simple radio for budget\n    options: ['Under $25', '$25 - $50', '$50 - $100', 'Over $100']\n  }, {\n    id: 'personality',\n    text: 'Describe their personality in a few words:',\n    type: 'text',\n    // Keeping as text for free-form input\n    placeholder: 'e.g., Creative, Adventurous, Cozy, Practical, Humorous'\n  }];\n  useEffect(() => {\n    if (!isOpen) {\n      // Reset state when modal closes\n      setCurrentQuestionIndex(0);\n      setAnswers({});\n      setQuizResults('');\n      setIsLoading(false);\n    }\n  }, [isOpen]);\n  const handleAnswerChange = (questionId, value, isOtherInput = false) => {\n    setAnswers(prev => {\n      const newAnswer = {\n        ...prev[questionId]\n      };\n      if (isOtherInput) {\n        newAnswer.type = 'other';\n        newAnswer.value = value;\n      } else {\n        newAnswer.type = 'option';\n        newAnswer.value = value;\n      }\n      return {\n        ...prev,\n        [questionId]: newAnswer\n      };\n    });\n  };\n  const handleNext = () => {\n    playSound(clickSoundRef, 'click', soundSettings); // Play click sound\n    const currentQuestion = questions[currentQuestionIndex];\n    const currentAnswer = answers[currentQuestion.id];\n    if (!currentAnswer || !currentAnswer.value || currentAnswer.type === 'other' && currentAnswer.value.trim() === '') {\n      alert(\"Please provide an answer before proceeding.\"); // Simple alert for required answer\n      return;\n    }\n    if (currentQuestionIndex < questions.length - 1) {\n      setCurrentQuestionIndex(prev => prev + 1);\n    } else {\n      handleSubmitQuiz();\n    }\n  };\n  const handleSubmitQuiz = async () => {\n    setIsLoading(true);\n    setQuizResults(''); // Clear previous results\n\n    // Construct prompt for LLM\n    let prompt = \"Generate 3-5 unique and creative gift ideas based on the following preferences. For each idea, provide a brief reason why it's a good fit. Format the output as a numbered list.\\n\\n\";\n    Object.keys(answers).forEach(key => {\n      const questionText = questions.find(q => q.id === key).text;\n      const answerValue = answers[key].value;\n      prompt += `${questionText}: ${answerValue}\\n`;\n    });\n    try {\n      let chatHistory = [];\n      chatHistory.push({\n        role: \"user\",\n        parts: [{\n          text: prompt\n        }]\n      });\n      const payload = {\n        contents: chatHistory\n      };\n      const apiKey = \"\"; // API key is intentionally left empty for Canvas to provide at runtime.\n      const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;\n      const response = await fetch(apiUrl, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n      const result = await response.json();\n      if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {\n        const text = result.candidates[0].content.parts[0].text;\n        setQuizResults(text);\n\n        // --- SUPABASE INTEGRATION: Save quiz answers to user profile ---\n        if (user.id) {\n          const {\n            error: updateError\n          } = await supabase.from('profiles').update({\n            has_taken_quiz: true,\n            quiz_answers: answers,\n            // 'answers' state from the quiz\n            updated_at: new Date().toISOString()\n          }).eq('id', user.id);\n          if (updateError) {\n            console.error('Error saving quiz answers to profile:', updateError);\n            alert('Failed to save quiz answers: ' + updateError.message);\n          } else {\n            console.log('Quiz answers saved to profile.');\n            onQuizComplete(answers); // Call parent handler to update hasTakenQuiz state in App.js\n          }\n        } else {\n          onQuizComplete(answers); // Still call parent even if not logged in, for local state update\n        }\n      } else {\n        setQuizResults(\"Could not generate gift ideas. Please try again.\");\n      }\n    } catch (error) {\n      console.error(\"Error calling Gemini API or saving quiz:\", error);\n      setQuizResults(\"Failed to generate gift ideas or save quiz. Please check your network connection or try again later.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  if (!isOpen) return null;\n  const currentQuestion = questions[currentQuestionIndex];\n  const currentAnswerValue = (_answers$currentQuest = answers[currentQuestion.id]) === null || _answers$currentQuest === void 0 ? void 0 : _answers$currentQuest.value;\n  const currentAnswerType = (_answers$currentQuest2 = answers[currentQuestion.id]) === null || _answers$currentQuest2 === void 0 ? void 0 : _answers$currentQuest2.type;\n  const isNextDisabled = isLoading || !currentAnswerValue || currentAnswerType === 'other' && currentAnswerValue.trim() === '';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n    onClick: () => {\n      onClose();\n      playSound(clickSoundRef, 'click', soundSettings);\n    },\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-[var(--box-bg-color)] p-6 rounded-lg shadow-lg border-2 border-[var(--border-color)] w-full max-w-lg mx-auto flex flex-col max-h-[90vh] overflow-y-auto\",\n      onClick: e => e.stopPropagation(),\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-[var(--primary-color)] mb-4 text-center\",\n        children: \"Gift Idea Quiz \\u2728\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 9\n      }, this), quizResults ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-grow overflow-y-auto custom-scrollbar p-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-[var(--primary-color)] mb-3\",\n          children: \"Your Personalized Gift Ideas:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"prose prose-sm max-w-none text-[var(--primary-color)]\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"whitespace-pre-wrap\",\n            children: quizResults\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 563,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 560,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-grow flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg text-[var(--primary-color)] mb-4 text-center\",\n          children: currentQuestion.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 13\n        }, this), currentQuestion.type === 'text' && /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"w-full p-3 border border-gray-300 rounded-md mb-4 bg-[var(--main-bg-color)] text-[var(--primary-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]\",\n          placeholder: currentQuestion.placeholder,\n          value: currentAnswerValue || '',\n          onChange: e => handleAnswerChange(currentQuestion.id, e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 15\n        }, this), currentQuestion.type === 'radio' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col space-y-2 mb-4\",\n          children: currentQuestion.options.map(option => /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"inline-flex items-center text-[var(--primary-color)]\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: currentQuestion.id,\n              value: option,\n              checked: currentAnswerValue === option,\n              onChange: () => handleAnswerChange(currentQuestion.id, option),\n              className: \"form-radio text-[var(--primary-color)] h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2 text-lg\",\n              children: option\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 590,\n              columnNumber: 21\n            }, this)]\n          }, option, true, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 579,\n          columnNumber: 15\n        }, this), currentQuestion.type === 'radio-with-other' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col space-y-2 mb-4\",\n          children: [currentQuestion.options.map(option => /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"inline-flex items-center text-[var(--primary-color)]\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: currentQuestion.id,\n              value: \"option\",\n              checked: currentAnswerType === 'option' && currentAnswerValue === option,\n              onChange: () => handleAnswerChange(currentQuestion.id, option, false),\n              className: \"form-radio text-[var(--primary-color)] h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 599,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2 text-lg\",\n              children: option\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 607,\n              columnNumber: 21\n            }, this)]\n          }, option, true, {\n            fileName: _jsxFileName,\n            lineNumber: 598,\n            columnNumber: 19\n          }, this)), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"inline-flex items-center text-[var(--primary-color)]\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: currentQuestion.id,\n              value: \"Other\",\n              checked: currentAnswerType === 'other',\n              onChange: () => handleAnswerChange(currentQuestion.id, '', true),\n              className: \"form-radio text-[var(--primary-color)] h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 611,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2 text-lg\",\n              children: \"Other:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 619,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 610,\n            columnNumber: 17\n          }, this), currentAnswerType === 'other' && /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"w-full p-3 border border-gray-300 rounded-md mt-2 bg-[var(--main-bg-color)] text-[var(--primary-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]\",\n            placeholder: currentQuestion.otherPlaceholder,\n            value: currentAnswerValue || '',\n            onChange: e => handleAnswerChange(currentQuestion.id, e.target.value, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 622,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 15\n        }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-[var(--primary-color)] my-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-spinner fa-spin mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 634,\n            columnNumber: 17\n          }, this), \" Generating ideas...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 567,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between mt-4\",\n        children: [!quizResults && currentQuestionIndex > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setCurrentQuestionIndex(prev => prev - 1);\n            playSound(clickSoundRef, 'click', soundSettings);\n          },\n          className: \"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 642,\n          columnNumber: 13\n        }, this), !quizResults && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleNext,\n          disabled: isNextDisabled,\n          className: `px-4 py-2 rounded-md transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 ${isNextDisabled ? 'bg-gray-300 text-gray-500 cursor-not-allowed' : 'bg-[var(--button-bg-color)] text-white hover:bg-opacity-90'} ${currentQuestionIndex === questions.length - 1 && !isNextDisabled ? 'mx-auto' : ''}`,\n          children: currentQuestionIndex === questions.length - 1 ? 'Get Ideas ✨' : 'Next'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 650,\n          columnNumber: 13\n        }, this), !quizResults && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            onClose();\n            playSound(clickSoundRef, 'click', soundSettings);\n          },\n          className: \"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 664,\n          columnNumber: 13\n        }, this), quizResults && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            onClose();\n            playSound(clickSoundRef, 'click', soundSettings);\n          },\n          className: \"px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 mx-auto\",\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 672,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 640,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 556,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 555,\n    columnNumber: 5\n  }, this);\n};\n\n// Search Page Component\n_s4(QuizModal, \"y2S++k7Tw/xN87wxRDzFYrwZyRA=\");\n_c4 = QuizModal;\nconst SearchPage = ({\n  handleCategoryClick,\n  onSeeMoreClick,\n  onProductClick,\n  onAddProductToWishlist,\n  onQuizMeClick,\n  soundSettings,\n  clickSoundRef\n}) => {\n  _s5();\n  // Added onProductClick prop\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showCategoryDropdown, setShowCategoryDropdown] = useState(false);\n  const [hoveredCategory, setHoveredCategory] = useState(null);\n  const [selectedBudget, setSelectedBudget] = useState('All'); // New state for budget filter\n\n  const categoriesData = [\n  // Renamed to avoid conflict with `categories` variable\n  {\n    name: \"Trending\",\n    icon: \"fas fa-fire\",\n    subcategories: [\"What's Hot Now\", \"Viral Picks\", \"New Arrivals\", \"TikTok Trends\", \"Limited Editions\"]\n  }, {\n    name: \"Books\",\n    icon: \"fas fa-book\",\n    subcategories: [\"New Arrivals\", \"Bestsellers\", \"Fantasy & Sci-Fi\", \"Romance\", \"YA\", \"Romantacy\", \"Dark Romance\", \"Manga & Graphic Novels\", \"Book Club Picks\", \"Personal Development\", \"DIY books\", \"Non-Fiction\"]\n  }, {\n    name: \"Accessories\",\n    icon: \"fas fa-gem\",\n    subcategories: [\"Jewelry\", \"Bags & Totes\", \"Hair Accessories\", \"Tech Accessories\", \"Keychains & Charms\", \"Nails\"]\n  }, {\n    name: \"DIY / Art\",\n    icon: \"fas fa-paint-brush\",\n    subcategories: [\"Journaling & Scrapbooking\", \"Painting & Drawing\", \"Crochet & Knitting\", \"Jewelry Making\", \"Customization Kits\", \"Art Tech\", \"2D / 3D DIY\", \"Clay\", \"Legoes\"]\n  }, {\n    name: \"Tech\",\n    icon: \"fas fa-laptop\",\n    subcategories: [\"Portable Audio\", \"Photography & Vlogging Gear\", \"Gaming Essentials\", \"Smart Gadgets\", \"Digital Creation Tools\"]\n  }, {\n    name: \"Cups / Drinks\",\n    icon: \"fas fa-mug-hot\",\n    subcategories: [\"Tumblers & Water Bottles\", \"Travel Mugs\", \"Coffee & Tea Accessories\", \"Smoothie Cups\", \"Novelty Drinkware\", \"Blenders\"]\n  }, {\n    name: \"Stationary\",\n    icon: \"fas fa-pencil-alt\",\n    subcategories: [\"Aesthetic Notebooks & Journals\", \"Pens & Markers\", \"Stickers & Washi Tape\", \"Desk Organizers\", \"School Essentials\", \"Planner Essentials\", \"Chargers\"]\n  }, {\n    name: \"Music\",\n    icon: \"fas fa-music\",\n    subcategories: [\"Vinyl & \" + \"CDs\", \"Kpop Merch\", \"All-day project\", \"Hit Artist Artist Merch\", \"Headphones & Earbuds\", \"Portable Speakers\", \"Instruments & Learning\"]\n  }, {\n    name: \"Figurines / Plushies\",\n    icon: \"fas fa-teddy-bear\",\n    subcategories: [\"Anime Figurines\", \"Pop Culture Collectibles\", \"Aesthetic Plushies\", \"Blind Boxes & Mystery Packs\", \"Labubu / Skullpanda\", \"Sanrio & Kawaii Characters\"]\n  }, {\n    name: \"Gift Cards\",\n    icon: \"fas fa-gift\",\n    subcategories: [\"Digital & Entertainment\", \"Experience & Self-Care\", \"Fashion & Beauty\", \"Food & Drink\"]\n  }, {\n    name: \"Blooms\",\n    icon: \"fas fa-seedling\",\n    subcategories: [\"Personalized & Unique\", \"Aesthetic-Driven Bouquets\", \"Cottagecore Chic / Wildflower Blends\", \"Bold Monochromatic / Color Pop Bouquets\", \"Dried & Preserved Arrangements\", \"Textured & Unique Blooms\", \"Miniature & Petite Bouquets\", \"Purpose-Driven Blooms\", \"Mood Booster Bouquets\", \"Self-Care & Zen Bouquets\", \"Celebrating Wins Bouquets\", \"Just Because / Friendship Blooms\", \"Sustainable & Long-Lasting\", \"Potted Plants\"]\n  }];\n  const budgetOptions = ['All', 'Under $25', '$25 - $50', '$50 - $100', 'Over $100'];\n  const handleBudgetChange = budget => {\n    setSelectedBudget(budget);\n    playSound(clickSoundRef, 'click', soundSettings);\n    // In a real app, you would trigger a product search/filter here\n    console.log(\"Filtering by budget:\", budget);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-grow w-full py-4 pt-[130px]\",\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"w-full mx-auto px-4 md:px-12 mb-8 mt-4 flex items-center\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative flex-grow\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search WyshDrop...\",\n          className: \"w-full p-3 pl-10 rounded-lg shadow-md border-2 border-[var(--border-color)] bg-[var(--box-bg-color)] text-[var(--primary-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 721,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-[var(--primary-color)]\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 728,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 720,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative ml-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setShowCategoryDropdown(!showCategoryDropdown);\n            playSound(clickSoundRef, 'click', soundSettings);\n          },\n          className: \"px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 flex items-center\",\n          children: [\"Categories \", /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-chevron-down ml-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 737,\n            columnNumber: 24\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 733,\n          columnNumber: 11\n        }, this), showCategoryDropdown && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute left-0 mt-2 w-64 bg-[var(--box-bg-color)] rounded-md shadow-lg py-1 z-10 border border-[var(--border-color)]\",\n          onMouseLeave: () => setHoveredCategory(null),\n          children: categoriesData.map(category => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            onMouseEnter: () => setHoveredCategory(category.name),\n            onMouseLeave: () => setHoveredCategory(null),\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"w-full text-left px-4 py-2 text-sm text-[var(--primary-color)] hover:bg-gray-100 flex justify-between items-center transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n              children: [category.name, category.subcategories && category.subcategories.length > 0 && /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-chevron-left text-xs ml-auto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 755,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 752,\n              columnNumber: 19\n            }, this), hoveredCategory === category.name && category.subcategories && category.subcategories.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute right-full top-0 mr-2 w-48 bg-[var(--box-bg-color)] rounded-md shadow-lg py-1 z-20 border border-[var(--border-color)]\",\n              children: category.subcategories.map((sub, idx) => /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                onClick: e => {\n                  e.preventDefault();\n                  onSeeMoreClick(sub);\n                  setShowCategoryDropdown(false);\n                  playSound(clickSoundRef, 'click', soundSettings);\n                },\n                className: \"block px-4 py-2 text-sm text-[var(--primary-color)] hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n                children: sub\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 761,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 759,\n              columnNumber: 21\n            }, this)]\n          }, category.name, true, {\n            fileName: _jsxFileName,\n            lineNumber: 746,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 741,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 732,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 719,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"w-full mx-auto px-4 md:px-12 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-semibold text-[var(--primary-color)] mb-3\",\n        children: \"Filter by Budget:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 781,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-3\",\n        children: budgetOptions.map(option => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleBudgetChange(option),\n          className: `px-4 py-2 rounded-full shadow-md transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\n                ${selectedBudget === option ? 'bg-[var(--primary-color)] text-white' : 'bg-[var(--box-bg-color)] text-[var(--primary-color)] border border-[var(--border-color)] hover:bg-gray-100'}`,\n          children: option\n        }, option, false, {\n          fileName: _jsxFileName,\n          lineNumber: 784,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 782,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 780,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full mx-auto\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(ProductSection, {\n        title: \"Popular / Most Searched Items\",\n        onSeeMoreClick: onSeeMoreClick,\n        onProductClick: onProductClick,\n        onAddProductToWishlist: onAddProductToWishlist,\n        soundSettings: soundSettings,\n        clickSoundRef: clickSoundRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 798,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 797,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full mx-auto px-4 md:px-12 py-12\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row md:space-x-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full md:w-1/2 flex flex-col space-y-4 mb-8 md:mb-0\",\n          children: categoriesData.map(category => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\" // Keep relative for positioning the dropdown\n            ,\n            onMouseEnter: () => setHoveredCategory(category.name),\n            onMouseLeave: () => setHoveredCategory(null),\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"w-full bg-[var(--box-bg-color)] p-4 rounded-lg shadow-md border-2 border-[var(--border-color)] flex items-center space-x-4 hover:bg-gray-50 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n              onClick: () => playSound(clickSoundRef, 'click', soundSettings) // Play sound on category button click\n              ,\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: `${category.icon} text-2xl text-[var(--primary-color)]`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 817,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xl font-semibold text-[var(--primary-color)]\",\n                children: category.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 818,\n                columnNumber: 19\n              }, this), category.subcategories && category.subcategories.length > 0 && /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-chevron-down text-xl ml-auto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 821,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 813,\n              columnNumber: 17\n            }, this), hoveredCategory === category.name && category.subcategories && category.subcategories.length > 0 &&\n            /*#__PURE__*/\n            // Dropdown now appears below and pushes content down\n            _jsxDEV(\"div\", {\n              className: \"w-full bg-[var(--box-bg-color)] rounded-b-lg shadow-lg py-1 z-10 border-x border-b border-[var(--border-color)]\",\n              children: category.subcategories.map((sub, idx) => /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                onClick: e => {\n                  e.preventDefault();\n                  onSeeMoreClick(sub);\n                  playSound(clickSoundRef, 'click', soundSettings);\n                } // Prevent default\n                ,\n                className: \"block px-4 py-2 text-sm text-[var(--primary-color)] hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n                children: sub\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 828,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 826,\n              columnNumber: 19\n            }, this)]\n          }, category.name, true, {\n            fileName: _jsxFileName,\n            lineNumber: 807,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 805,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full md:w-1/2 flex flex-col items-center space-y-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col items-center text-center mt-8 md:mt-0\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-3xl font-handwritten text-[var(--primary-color)] mb-2\",\n              children: \"QUIZ ME!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 847,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                onQuizMeClick();\n                playSound(clickSoundRef, 'click', soundSettings);\n              },\n              className: \"w-32 h-32 bg-[var(--button-bg-color)] text-white rounded-full flex items-center justify-center text-lg font-bold shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 group\",\n              children: \"Start Quiz \\u2728\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 849,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 846,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full mt-8\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(ProductSection, {\n              title: \"Recommended for You\",\n              onSeeMoreClick: onSeeMoreClick,\n              onProductClick: onProductClick,\n              onAddProductToWishlist: onAddProductToWishlist,\n              soundSettings: soundSettings,\n              clickSoundRef: clickSoundRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 858,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 857,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 844,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 803,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 802,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 717,\n    columnNumber: 5\n  }, this);\n};\n\n// Bookmarks Page Component\n_s5(SearchPage, \"3CC8KoBBmvjG9XDxnQm51s8zC08=\");\n_c5 = SearchPage;\nconst BookmarksPage = ({\n  bookmarkedProducts,\n  soundSettings,\n  clickSoundRef\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-grow w-full py-4 pt-[130px]\",\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"w-full h-0 pb-[33.33%] mb-8 rounded-lg shadow-lg border-2 border-[var(--border-color)] relative flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://placehold.co/1200x400/D3A173/FFFFFF?text=My+Wyshlist+Banner\" // Updated placeholder image\n        ,\n        alt: \"My Wishlist Banner\",\n        className: \"absolute inset-0 w-full h-full object-contain rounded-lg\",\n        onError: e => e.target.src = \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Image+Load+Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 874,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 873,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full mx-auto px-4 md:px-12 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\",\n      children: [\" \", bookmarkedProducts.length > 0 ? bookmarkedProducts.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-[var(--box-bg-color)] rounded-lg shadow-md border-2 border-[var(--border-color)] p-4 flex flex-col items-center transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: product.image_url,\n          alt: product.name,\n          className: \"w-full h-56 object-cover rounded-md mb-4\",\n          onError: e => e.target.src = `https://placehold.co/200x200/D3A173/FFFFFF?text=${product.name.replace(/\\s/g, '+')}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 889,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-[var(--primary-color)] mb-2 text-center\",\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 890,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg text-gray-700 mb-2\",\n          children: [\"$\", product.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 891,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => playSound(clickSoundRef, 'click', soundSettings),\n          className: \"mt-auto px-6 py-2 bg-[var(--button-bg-color)] text-white font-bold rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n          children: \"Hint\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 892,\n          columnNumber: 15\n        }, this)]\n      }, product.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 887,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-span-full text-center text-xl text-[var(--primary-color)] py-12\",\n        children: \"Your wishlist is empty! Start adding some amazing products.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 898,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 884,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 870,\n    columnNumber: 5\n  }, this);\n};\n\n// Settings Page Component\n_c6 = BookmarksPage;\nconst SettingsPage = ({\n  applyPalette,\n  colorPalettes,\n  isDarkMode,\n  toggleDarkMode,\n  soundSettings,\n  setSoundSettings,\n  clickSoundRef\n}) => {\n  _s6();\n  const [hexInput, setHexInput] = useState(\"\"); // Initialize with empty string or current primary color\n\n  // Update hex input when primary color changes (e.e.g., when switching palettes)\n  useEffect(() => {\n    const rootStyle = getComputedStyle(document.documentElement);\n    setHexInput(rootStyle.getPropertyValue('--primary-color').trim());\n  }, [isDarkMode]); // Only update when dark mode changes, to reflect the current primary color\n\n  const handleHexChange = e => {\n    setHexInput(e.target.value);\n  };\n  const applyHexColor = () => {\n    playSound(clickSoundRef, 'click', soundSettings); // Play click sound\n    // Basic validation for hex color\n    if (/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(hexInput)) {\n      // Directly set the CSS variable for primary color\n      document.documentElement.style.setProperty('--primary-color', hexInput);\n    } else {\n      alert(\"Invalid hex code. Please use a format like #RRGGBB or #RGB.\");\n    }\n  };\n  const handleSoundToggle = type => {\n    // Play click sound for toggle itself, but only if all sounds are enabled or if it's the master toggle being turned on\n    if (soundSettings.isAllSoundEnabled || type === 'all') {\n      // Corrected condition for playing sound on master toggle\n      playSound(clickSoundRef, 'click', soundSettings);\n    }\n    setSoundSettings(prev => {\n      if (type === 'all') {\n        const newState = !prev.isAllSoundEnabled;\n        return {\n          isAllSoundEnabled: newState,\n          isClickSoundEnabled: newState,\n          isScrollSoundEnabled: newState,\n          isPageTransitionSoundEnabled: newState\n        };\n      } else {\n        const newIndividualState = {\n          ...prev,\n          [type]: !prev[type]\n        };\n\n        // Determine if 'all' should be enabled based on individual states\n        const anyIndividualEnabled = newIndividualState.isClickSoundEnabled || newIndividualState.isScrollSoundEnabled || newIndividualState.isPageTransitionSoundEnabled;\n        return {\n          ...newIndividualState,\n          isAllSoundEnabled: anyIndividualEnabled\n        };\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-grow w-full py-4 pt-[130px]\",\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"w-full h-0 pb-[33.33%] mb-8 rounded-lg shadow-lg border-2 border-[var(--border-color)] relative flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Settings+Banner\" // Updated placeholder image\n        ,\n        alt: \"Settings Banner\",\n        className: \"absolute inset-0 w-full h-full object-contain rounded-lg\",\n        onError: e => e.target.src = \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Image+Load+Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 972,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 971,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full mx-auto px-4 md:px-12 py-12 bg-[var(--box-bg-color)] rounded-lg shadow-lg border-2 border-[var(--border-color)]\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold text-[var(--primary-color)] mb-6 text-center\",\n        children: \"App Settings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 982,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-6 p-4 border-b border-[var(--border-color)]\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xl font-semibold text-[var(--primary-color)]\",\n          children: \"Dark Mode\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 986,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"relative inline-flex items-center cursor-pointer\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            value: \"\",\n            className: \"sr-only peer\",\n            checked: isDarkMode,\n            onChange: () => {\n              toggleDarkMode();\n              playSound(clickSoundRef, 'click', soundSettings);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 988,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-[var(--primary-color)]\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 989,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 987,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 985,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6 p-4 border-b border-[var(--border-color)]\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-[var(--primary-color)] mb-4\",\n          children: \"Sound Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 995,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg text-[var(--primary-color)]\",\n              children: \"Enable All Sounds\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 998,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"relative inline-flex items-center cursor-pointer\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                className: \"sr-only peer\",\n                checked: soundSettings.isAllSoundEnabled,\n                onChange: () => handleSoundToggle('all')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1000,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-[var(--primary-color)]\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1001,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 999,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 997,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg text-[var(--primary-color)]\",\n              children: \"Click Sound\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1005,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"relative inline-flex items-center cursor-pointer\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                className: \"sr-only peer\",\n                checked: soundSettings.isClickSoundEnabled,\n                onChange: () => handleSoundToggle('isClickSoundEnabled'),\n                disabled: !soundSettings.isAllSoundEnabled && !soundSettings.isClickSoundEnabled\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1007,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-[var(--primary-color)]\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1008,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1006,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1004,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg text-[var(--primary-color)]\",\n              children: \"Scroll Sound\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1012,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"relative inline-flex items-center cursor-pointer\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                className: \"sr-only peer\",\n                checked: soundSettings.isScrollSoundEnabled,\n                onChange: () => handleSoundToggle('isScrollSoundEnabled'),\n                disabled: !soundSettings.isAllSoundEnabled && !soundSettings.isScrollSoundEnabled\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1014,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-[var(--primary-color)]\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1015,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1013,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1011,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg text-[var(--primary-color)]\",\n              children: \"Page Transition Sound\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1019,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"relative inline-flex items-center cursor-pointer\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                className: \"sr-only peer\",\n                checked: soundSettings.isPageTransitionSoundEnabled,\n                onChange: () => handleSoundToggle('isPageTransitionSoundEnabled'),\n                disabled: !soundSettings.isAllSoundEnabled && !soundSettings.isPageTransitionSoundEnabled\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1021,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-[var(--primary-color)]\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1022,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1020,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1018,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 996,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 994,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6 p-4 border-b border-[var(--border-color)]\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-[var(--primary-color)] mb-4\",\n          children: \"Change Color Scheme\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1030,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 sm:grid-cols-3 gap-4 mb-4\",\n          children: colorPalettes.map(palette => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"flex flex-col items-center p-2 rounded-lg border-2 border-[var(--border-color)] hover:border-[var(--primary-color)] transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n            onClick: () => {\n              applyPalette(palette);\n              playSound(clickSoundRef, 'click', soundSettings);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full h-12 rounded-md mb-2\",\n              style: {\n                backgroundColor: isDarkMode ? palette.dark.mainBg : palette.light.mainBg,\n                border: `1px solid ${isDarkMode ? palette.dark.border : palette.light.border}`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1038,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium text-[var(--primary-color)]\",\n              children: palette.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1039,\n              columnNumber: 17\n            }, this)]\n          }, palette.name, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1033,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1031,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"hexColor\",\n            className: \"block text-lg text-[var(--primary-color)]\",\n            children: \"Or enter Hex Code for Primary Color:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1044,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"hexColor\",\n            value: hexInput,\n            onChange: handleHexChange,\n            placeholder: \"#9A6E45\",\n            className: \"p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1045,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: applyHexColor,\n            className: \"px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n            children: \"Apply Hex Color\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1053,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1043,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1029,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-[var(--primary-color)] mb-2\",\n          children: \"Other Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1064,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-[var(--primary-color)]\",\n          children: \"More customization options coming soon!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1065,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1063,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 981,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 968,\n    columnNumber: 5\n  }, this);\n};\n\n// Feedback Modal Component\n_s6(SettingsPage, \"5sAeMoTsNRkBgI1XRYzq8mmNXkY=\");\n_c7 = SettingsPage;\nconst FeedbackModal = ({\n  isOpen,\n  onClose,\n  onSubmit,\n  onSkip,\n  purpose,\n  soundSettings,\n  clickSoundRef\n}) => {\n  _s7();\n  const [feedback, setFeedback] = useState('');\n  if (!isOpen) return null;\n  const modalTitle = purpose === 'account-deletion' ? \"Aw it's sad to see you go, what could we have done better.\" : 'Send Us Feedback';\n  const textareaPlaceholder = purpose === 'account-deletion' ? \"Tell us why you're deleting your account...\" : \"Share your thoughts or suggestions...\";\n  const submitButtonText = purpose === 'account-deletion' ? 'Submit Feedback' : 'Submit';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n    onClick: () => {\n      onClose();\n      playSound(clickSoundRef, 'click', soundSettings);\n    },\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-[var(--box-bg-color)] p-8 rounded-lg shadow-lg border-2 border-[var(--border-color)] w-full max-w-md mx-4\",\n      onClick: e => e.stopPropagation(),\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-[var(--primary-color)] mb-4 text-center\",\n        children: modalTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1085,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"w-full p-3 border border-gray-300 rounded-md mb-4 bg-[var(--main-bg-color)] text-[var(--primary-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]\",\n        rows: \"5\",\n        placeholder: textareaPlaceholder,\n        value: feedback,\n        onChange: e => setFeedback(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1086,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            onSubmit(feedback);\n            onClose();\n            playSound(clickSoundRef, 'click', soundSettings);\n          },\n          className: \"flex-1 px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n          children: submitButtonText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1094,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            onSkip ? onSkip() : onClose();\n            onClose();\n            playSound(clickSoundRef, 'click', soundSettings);\n          } // If onSkip exists, call it, otherwise just close\n          ,\n          className: \"flex-1 px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n          children: purpose === 'account-deletion' ? 'Skip' : 'Nevermind'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1093,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1084,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1083,\n    columnNumber: 5\n  }, this);\n};\n\n// Profile Page Component\n_s7(FeedbackModal, \"r3l5PovyxaFuXvMwSKF3o6WqgB0=\");\n_c8 = FeedbackModal;\nconst ProfilePage = ({\n  user,\n  onSignOut,\n  onAboutUsClick,\n  giftingContacts,\n  setGiftingContacts,\n  soundSettings,\n  clickSoundRef\n}) => {\n  _s8();\n  const [profileImage, setProfileImage] = useState(user.profile_image_url || \"https://placehold.co/150x150/D3A173/FFFFFF?text=PFP\");\n  const [isFeedbackModalOpen, setIsFeedbackModalOpen] = useState(false);\n  const [newContactName, setNewContactName] = useState('');\n  const [newContactEmail, setNewContactEmail] = useState('');\n  const [showAddContactForm, setShowAddContactForm] = useState(false);\n\n  // Update local state when user prop changes (e.g., after initial load or profile update)\n  useEffect(() => {\n    if (user.isLoggedIn) {\n      setProfileImage(user.profile_image_url || \"https://placehold.co/150x150/D3A173/FFFFFF?text=PFP\");\n    }\n  }, [user]);\n\n  // Dummy data for recent bookmarked (will be replaced by actual data later)\n  const recentBookmarks = [{\n    id: 1,\n    name: \"Cute Sticker Set\",\n    image_url: \"https://placehold.co/150x150/D3A173/FFFFFF?text=Item1\"\n  }, {\n    id: 2,\n    name: \"Fantasy Novel\",\n    image_url: \"https://placehold.co/150x150/D3A173/FFFFFF?text=Item2\"\n  }, {\n    id: 3,\n    name: \"Mini Backpack\",\n    image_url: \"https://placehold.co/150x150/D3A173/FFFFFF?text=Item3\"\n  }];\n  const recommendedProducts = [{\n    id: 1,\n    name: \"Customized Mug\",\n    image_url: \"https://placehold.co/150x150/D3A173/FFFFFF?text=Rec1\"\n  }, {\n    id: 2,\n    name: \"DIY Painting Kit\",\n    image_url: \"https://placehold.co/150x150/D3A173/FFFFFF?text=Rec2\"\n  }, {\n    id: 3,\n    name: \"Smart Watch\",\n    image_url: \"https://placehold.co/150x150/D3A173/FFFFFF?text=Rec3\"\n  }];\n  const handleImageUpload = event => {\n    playSound(clickSoundRef, 'click', soundSettings); // Play click sound\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setProfileImage(reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  // --- SUPABASE INTEGRATION: Save Profile Changes (only image for now) ---\n  const handleSaveChanges = async () => {\n    playSound(clickSoundRef, 'click', soundSettings);\n    if (!user.id) {\n      alert(\"Please sign in to save changes.\");\n      return;\n    }\n    try {\n      const {\n        data,\n        error\n      } = await supabase.from('profiles').update({\n        profile_image_url: profileImage,\n        // If you implement image upload to storage\n        updated_at: new Date().toISOString()\n      }).eq('id', user.id).select().single();\n      if (error) {\n        console.error('Error updating profile:', error);\n        alert('Failed to save changes: ' + error.message);\n      } else {\n        console.log('Profile updated successfully:', data);\n        alert('Profile updated successfully!');\n        // Optionally, update the global user state in App.js if needed\n      }\n    } catch (error) {\n      console.error('Unexpected error saving profile:', error);\n      alert('An unexpected error occurred.');\n    }\n  };\n  const handleDeleteAccount = () => {\n    playSound(clickSoundRef, 'click', soundSettings); // Play click sound\n    setIsFeedbackModalOpen(true);\n  };\n  const handleFeedbackSubmit = async feedback => {\n    console.log(\"Feedback submitted:\", feedback);\n    // --- SUPABASE INTEGRATION: Delete Account (and associated profile data via CASCADE) ---\n    if (!user.id) {\n      alert(\"No user is logged in to delete.\");\n      return;\n    }\n    try {\n      // Supabase auth.signOut() will also trigger the onAuthStateChange listener\n      // which will then clean up local state.\n      // The profile table entry will be deleted via RLS CASCADE on auth.users delete.\n      const {\n        error: authError\n      } = await supabase.auth.admin.deleteUser(user.id); // Admin delete for full cleanup\n\n      if (authError) {\n        console.error('Error deleting user account:', authError);\n        alert('Failed to delete account: ' + authError.message);\n      } else {\n        console.log(\"Account deleted with feedback.\");\n        onSignOut(); // This will log out the user and redirect to cover page\n      }\n    } catch (error) {\n      console.error('Unexpected error during account deletion:', error);\n      alert('An unexpected error occurred during account deletion.');\n    }\n  };\n  const handleFeedbackSkip = async () => {\n    console.log(\"Feedback skipped.\");\n    // --- SUPABASE INTEGRATION: Delete Account (without feedback) ---\n    if (!user.id) {\n      alert(\"No user is logged in to delete.\");\n      return;\n    }\n    try {\n      const {\n        error: authError\n      } = await supabase.auth.admin.deleteUser(user.id);\n      if (authError) {\n        console.error('Error deleting user account (skipped feedback):', authError);\n        alert('Failed to delete account: ' + authError.message);\n      } else {\n        console.log(\"Account deleted without feedback.\");\n        onSignOut();\n      }\n    } catch (error) {\n      console.error('Unexpected error during account deletion (skipped feedback):', error);\n      alert('An unexpected error occurred during account deletion.');\n    }\n  };\n\n  // --- SUPABASE INTEGRATION: Add Gifting Contact ---\n  const handleAddContact = async () => {\n    playSound(clickSoundRef, 'click', soundSettings);\n    if (!newContactName.trim() || !newContactEmail.trim()) {\n      alert('Please enter both name and email for the new contact.');\n      return;\n    }\n    if (!user.id) {\n      alert(\"Please sign in to add contacts.\");\n      return;\n    }\n    try {\n      const {\n        data,\n        error\n      } = await supabase.from('gifting_contacts').insert([{\n        user_id: user.id,\n        contact_name: newContactName.trim(),\n        contact_email: newContactEmail.trim(),\n        created_at: new Date().toISOString()\n      }]).select() // Select the inserted row to get its ID\n      .single();\n      if (error) {\n        console.error('Error adding contact:', error);\n        alert('Failed to add contact: ' + error.message);\n      } else {\n        setGiftingContacts(prev => [...prev, data]); // Add the new contact with its ID from Supabase\n        setNewContactName('');\n        setNewContactEmail('');\n        setShowAddContactForm(false);\n        alert('Contact added successfully!');\n      }\n    } catch (error) {\n      console.error('Unexpected error adding contact:', error);\n      alert('An unexpected error occurred.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-grow w-full py-4 pt-[130px]\",\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"w-full h-0 pb-[33.33%] mb-8 rounded-lg shadow-lg border-2 border-[var(--border-color)] relative flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://placehold.co/1200x400/D3A173/FFFFFF?text=My+Profile+Banner\" // Updated placeholder image\n        ,\n        alt: \"My Profile Banner\",\n        className: \"absolute inset-0 w-full h-full object-contain rounded-lg\",\n        onError: e => e.target.src = \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Image+Load+Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1286,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1285,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full mx-auto px-4 md:px-12 py-12 bg-[var(--box-bg-color)] rounded-lg shadow-lg border-2 border-[var(--border-color)] flex flex-col items-center\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold text-[var(--primary-color)] mb-6 text-center\",\n        children: \"User Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1296,\n        columnNumber: 9\n      }, this), !user.isLoggedIn ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full max-w-md text-center space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg text-[var(--primary-color)]\",\n          children: \"Please sign in to view your profile details.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1300,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            onSignOut();\n            playSound(clickSoundRef, 'click', soundSettings);\n          } // Re-use onSignOut for redirecting to cover/sign-in\n          ,\n          className: \"w-full px-6 py-3 bg-[var(--button-bg-color)] text-white font-bold rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1302,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1299,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-32 h-32 rounded-full overflow-hidden border-4 border-[var(--primary-color)] mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: profileImage,\n              alt: \"Profile\",\n              className: \"w-full h-32 object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1314,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1313,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*\",\n            onChange: handleImageUpload,\n            className: \"hidden\",\n            id: \"profileImageUpload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1316,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"profileImageUpload\",\n            className: \"px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md cursor-pointer hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n            children: \"Change Profile Picture\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1323,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1312,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full max-w-md space-y-4 mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-lg font-semibold text-[var(--primary-color)] mb-1\",\n              children: \"Username:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1334,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"w-full p-3 border border-gray-300 rounded-md bg-[var(--main-bg-color)] text-[var(--primary-color)]\",\n              children: user.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1335,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1333,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-lg font-semibold text-[var(--primary-color)] mb-1\",\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1340,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"w-full p-3 border border-gray-300 rounded-md bg-[var(--main-bg-color)] text-[var(--primary-color)]\",\n              children: user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1341,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1339,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              className: \"block text-lg font-semibold text-[var(--primary-color)] mb-1\",\n              children: \"Password:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1346,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => playSound(clickSoundRef, 'click', soundSettings),\n              className: \"mt-2 text-sm text-[var(--primary-color)] hover:underline transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n              children: \"Change Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1348,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1345,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSaveChanges,\n            className: \"w-full px-6 py-3 bg-[var(--button-bg-color)] text-white font-bold rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n            children: \"Save Changes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1350,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1332,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full max-w-lg mb-8\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-bold text-[var(--primary-color)] mb-4\",\n            children: \"Recent Bookmarked Items\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1357,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex overflow-x-auto pb-4 space-x-4 custom-scrollbar\",\n            children: recentBookmarks.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0 w-48 text-center transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.image_url,\n                alt: item.name,\n                className: \"w-full h-48 object-cover rounded-md mb-2 border-2 border-[var(--border-color)]\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1361,\n                columnNumber: 21\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-[var(--primary-color)]\",\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1362,\n                columnNumber: 21\n              }, this)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1360,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1358,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1356,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full max-w-md mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-bold text-[var(--primary-color)] mb-4\",\n            children: \"Gifting Contacts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1370,\n            columnNumber: 15\n          }, this), giftingContacts.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"space-y-2 mb-4\",\n            children: giftingContacts.map(contact => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"flex justify-between items-center bg-[var(--main-bg-color)] p-3 rounded-md border border-[var(--border-color)] transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-[var(--primary-color)] font-medium\",\n                children: contact.contact_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1375,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-500\",\n                children: contact.contact_email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1376,\n                columnNumber: 23\n              }, this)]\n            }, contact.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1374,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1372,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-[var(--primary-color)] mb-4 text-center\",\n            children: \"No gifting contacts added yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1381,\n            columnNumber: 17\n          }, this), showAddContactForm ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3 p-4 bg-[var(--main-bg-color)] rounded-md border border-[var(--border-color)]\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Contact Name\",\n              value: newContactName,\n              onChange: e => setNewContactName(e.target.value),\n              className: \"w-full p-2 border border-gray-300 rounded-md bg-[var(--box-bg-color)] text-[var(--primary-color)]\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1385,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              placeholder: \"Contact Email\",\n              value: newContactEmail,\n              onChange: e => setNewContactEmail(e.target.value),\n              className: \"w-full p-2 border border-gray-300 rounded-md bg-[var(--box-bg-color)] text-[var(--primary-color)]\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1392,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-end space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleAddContact,\n                className: \"px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md hover:bg-opacity-90\",\n                children: \"Add Contact\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1400,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setShowAddContactForm(false);\n                  playSound(clickSoundRef, 'click', soundSettings);\n                },\n                className: \"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1406,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1399,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1384,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowAddContactForm(true);\n              playSound(clickSoundRef, 'click', soundSettings);\n            },\n            className: \"mt-4 px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n            children: \"Add New Contact\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1415,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1369,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full max-w-lg mb-8\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-bold text-[var(--primary-color)] mb-4\",\n            children: \"Recommended Products\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1426,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex overflow-x-auto pb-4 space-x-4 custom-scrollbar\",\n            children: recommendedProducts.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0 w-48 text-center transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.image_url,\n                alt: item.name,\n                className: \"w-full h-48 object-cover rounded-md mb-2 border-2 border-[var(--border-color)]\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1430,\n                columnNumber: 21\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-[var(--primary-color)]\",\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1431,\n                columnNumber: 21\n              }, this)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1429,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1427,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 mt-2 text-center\",\n            children: \"Recommendations are based on your quiz results and search history. Your privacy is important to us.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1435,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1425,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full max-w-md flex flex-col space-y-4 mt-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              onSignOut();\n              playSound(clickSoundRef, 'click', soundSettings);\n            },\n            className: \"w-full px-6 py-3 bg-red-500 text-white font-bold rounded-md shadow-md hover:bg-red-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n            children: \"Sign Out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1442,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleDeleteAccount,\n            className: \"w-full px-6 py-3 bg-gray-700 text-white font-bold rounded-md shadow-md hover:bg-gray-800 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n            children: \"Delete Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1448,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1441,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1295,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FeedbackModal, {\n      isOpen: isFeedbackModalOpen,\n      onClose: () => setIsFeedbackModalOpen(false),\n      onSubmit: handleFeedbackSubmit,\n      onSkip: handleFeedbackSkip,\n      purpose: \"account-deletion\",\n      soundSettings: soundSettings,\n      clickSoundRef: clickSoundRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1459,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1282,\n    columnNumber: 5\n  }, this);\n};\n\n// Generic Page Component for sidebar items\n_s8(ProfilePage, \"YtjEmYAvyCZ24ajKdICzHqT0gCI=\");\n_c9 = ProfilePage;\nconst GenericPage = ({\n  title,\n  content,\n  soundSettings,\n  clickSoundRef\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-grow w-full py-4 pt-[130px]\",\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"w-full h-0 pb-[33.33%] mb-8 rounded-lg shadow-lg border-2 border-[var(--border-color)] relative flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `https://placehold.co/1200x400/D3A173/FFFFFF?text=${title.replace(/\\s/g, '+')}+Banner` // Dynamic placeholder\n        ,\n        alt: `${title} Banner`,\n        className: \"absolute inset-0 w-full h-full object-contain rounded-lg\",\n        onError: e => e.target.src = \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Image+Load+Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1478,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1477,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full mx-auto px-4 md:px-12 py-12 bg-[var(--box-bg-color)] rounded-lg shadow-lg border-2 border-[var(--border-color)]\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold text-[var(--primary-color)] mb-6 text-center\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1487,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-[var(--primary-color)] text-lg leading-relaxed\",\n        dangerouslySetInnerHTML: {\n          __html: content\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1489,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1486,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1475,\n    columnNumber: 5\n  }, this);\n};\n\n// New Subcategory Page Component\n_c0 = GenericPage;\nconst SubcategoryPage = ({\n  subcategoryName,\n  onProductClick,\n  onAddProductToWishlist,\n  soundSettings,\n  clickSoundRef\n}) => {\n  _s9();\n  // Added onProductClick prop\n  const [isLoading, setIsLoading] = useState(true);\n  const [subcategoryProducts, setSubcategoryProducts] = useState([]); // State for products\n\n  // --- SUPABASE INTEGRATION: Fetch products for subcategory ---\n  useEffect(() => {\n    const fetchSubcategoryProducts = async () => {\n      setIsLoading(true);\n      const {\n        data,\n        error\n      } = await supabase.from('products').select('*').eq('subcategory', subcategoryName) // Filter by subcategory name\n      .limit(20); // Limit results for performance\n\n      if (error) {\n        console.error(`Error fetching products for ${subcategoryName}:`, error);\n      } else {\n        setSubcategoryProducts(data);\n      }\n      setIsLoading(false);\n    };\n    fetchSubcategoryProducts();\n  }, [subcategoryName]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-grow w-full py-4 pt-[130px]\",\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"w-full h-0 pb-[33.33%] mb-8 rounded-lg shadow-lg border-2 border-[var(--border-color)] relative flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `https://placehold.co/1200x400/D3A173/FFFFFF?text=${subcategoryName.replace(/\\s/g, '+')}+Banner` // Dynamic placeholder\n        ,\n        alt: `${subcategoryName} Banner`,\n        className: \"absolute inset-0 w-full h-full object-contain rounded-lg\",\n        onError: e => e.target.src = \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Image+Load+Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1525,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1524,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full mx-auto px-4 md:px-12\",\n      children: [\" \", isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-xl text-[var(--primary-color)]\",\n        children: \"Loading products...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1535,\n        columnNumber: 11\n      }, this) : subcategoryProducts.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\",\n        children: subcategoryProducts.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-[var(--box-bg-color)] rounded-lg shadow-md border-2 border-[var(--border-color)] p-1 cursor-pointer transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full h-84 bg-[var(--main-bg-color)] rounded-md flex flex-col items-center justify-center text-[var(--primary-color)] text-lg relative mb-2\",\n            onClick: () => {\n              onProductClick(product);\n              playSound(clickSoundRef, 'click', soundSettings);\n            },\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n              src: product.image_url,\n              alt: product.name,\n              className: \"w-full h-full object-cover rounded-md\",\n              onError: e => e.target.src = `https://placehold.co/240x280/D3A173/FFFFFF?text=${product.name.replace(/\\s/g, '+')}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1542,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"absolute bottom-2 text-white bg-black bg-opacity-50 px-2 py-1 rounded-md text-sm\",\n              children: [\"$\", product.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1544,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1540,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold text-[var(--primary-color)] text-center mb-2\",\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1546,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col space-y-3 w-full px-2\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                onAddProductToWishlist(product);\n                playSound(clickSoundRef, 'click', soundSettings);\n              },\n              className: \"px-6 py-2 bg-gray-500 text-white rounded-md shadow-md hover:bg-gray-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 w-full\",\n              children: \"Add to Wyshlist\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1548,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: product.amazon_link,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              onClick: () => playSound(clickSoundRef, 'click', soundSettings),\n              className: \"px-6 py-2 bg-[var(--button-bg-color)] text-white font-bold rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 text-center w-full\",\n              children: [\"Go Buy \", /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-external-link-alt ml-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1560,\n                columnNumber: 28\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1553,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1547,\n            columnNumber: 17\n          }, this)]\n        }, product.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1539,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1537,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-xl text-[var(--primary-color)]\",\n        children: \"No products found for this subcategory.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1567,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1533,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1522,\n    columnNumber: 5\n  }, this);\n};\n\n// New Category Page Component\n_s9(SubcategoryPage, \"20dbOzcCw3CwicrASnryd2UN+xo=\");\n_c1 = SubcategoryPage;\nconst CategoryPage = ({\n  categoryName,\n  onSeeMoreClick,\n  onProductClick,\n  onAddProductToWishlist,\n  soundSettings,\n  clickSoundRef\n}) => {\n  // Define subcategories based on the main category\n  const getSubcategories = name => {\n    switch (name) {\n      case \"Trending\":\n        return [\"What's Hot Now\", \"Viral Picks\", \"New Arrivals\", \"TikTok Trends\", \"Limited Editions\"];\n      case \"Books\":\n        return [\"New Arrivals\", \"Bestsellers\", \"Fantasy & Sci-Fi\", \"Romance\", \"YA\", \"Romantacy\", \"Dark Romance\", \"Manga & Graphic Novels\", \"Book Club Picks\", \"Personal Development\", \"DIY books\", \"Non-Fiction\"];\n      case \"Accessories\":\n        return [\"Jewelry\", \"Bags & Totes\", \"Hair Accessories\", \"Tech Accessories\", \"Keychains & Charms\", \"Nails\"];\n      case \"DIY / Art\":\n        return [\"Journaling & Scrapbooking\", \"Painting & Drawing\", \"Crochet & Knitting\", \"Jewelry Making\", \"Customization Kits\", \"Art Tech\", \"2D / 3D DIY\", \"Clay\", \"Legoes\"];\n      case \"Tech\":\n        return [\"Portable Audio\", \"Photography & Vlogging Gear\", \"Gaming Essentials\", \"Smart Gadgets\", \"Digital Creation Tools\"];\n      case \"Cups / Drinks\":\n        return [\"Tumblers & Water Bottles\", \"Travel Mugs\", \"Coffee & Tea Accessories\", \"Smoothie Cups\", \"Novelty Drinkware\", \"Blenders\"];\n      case \"Stationary\":\n        return [\"Aesthetic Notebooks & Journals\", \"Pens & Markers\", \"Stickers & Washi Tape\", \"Desk Organizers\", \"School Essentials\", \"Planner Essentials\", \"Chargers\"];\n      case \"Music\":\n        return [\"Vinyl & \" + \"CDs\", \"Kpop Merch\", \"All-day project\", \"Hit Artist Merch\", \"Headphones & Earbuds\", \"Portable Speakers\", \"Instruments & Learning\"];\n      case \"Figurines / Plushies\":\n        return [\"Anime Figurines\", \"Pop Culture Collectibles\", \"Aesthetic Plushies\", \"Blind Boxes & Mystery Packs\", \"Labubu / Skullpanda\", \"Sanrio & Kawaii Characters\"];\n      case \"Gift Cards\":\n        return [\"Digital & Entertainment\", \"Experience & Self-Care\", \"Fashion & Beauty\", \"Food & Drink\"];\n      case \"Blooms\":\n        return [\"Personalized & Unique\", \"Aesthetic-Driven Bouquets\", \"Cottagecore Chic / Wildflower Blends\", \"Bold Monochromatic / Color Pop Bouquets\", \"Dried & Preserved Arrangements\", \"Textured & Unique Blooms\", \"Miniature & Petite Bouquets\", \"Purpose-Driven Blooms\", \"Mood Booster Bouquets\", \"Self-Care & Zen Bouquets\", \"Celebrating Wins Bouquets\", \"Just Because / Friendship Blooms\", \"Sustainable & Long-Lasting\", \"Potted Plants\"];\n      default:\n        return [`Popular ${name}`, `New ${name} Arrivals`, `${name} Essentials`];\n    }\n  };\n  const subcategories = getSubcategories(categoryName);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-grow w-full py-4 pt-[130px]\",\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"w-full h-0 pb-[33.33%] mb-8 rounded-lg shadow-lg border-2 border-[var(--border-color)] relative flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `https://placehold.co/1200x400/D3A173/FFFFFF?text=${categoryName.replace(/\\s/g, '+')}+Banner` // Dynamic placeholder\n        ,\n        alt: `${categoryName} Banner`,\n        className: \"absolute inset-0 w-full h-full object-contain rounded-lg\",\n        onError: e => e.target.src = \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Image+Load+Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1614,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1613,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full mx-auto\",\n      children: [\" \", subcategories.map((sub, index) => /*#__PURE__*/_jsxDEV(ProductSection, {\n        title: sub,\n        onSeeMoreClick: onSeeMoreClick,\n        onProductClick: onProductClick,\n        onAddProductToWishlist: onAddProductToWishlist,\n        soundSettings: soundSettings,\n        clickSoundRef: clickSoundRef\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1625,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1623,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1610,\n    columnNumber: 5\n  }, this);\n};\n\n// New Hint Modal Component\n_c10 = CategoryPage;\nconst HintModal = ({\n  isOpen,\n  onClose,\n  product,\n  giftingContacts,\n  setGiftingContacts,\n  soundSettings,\n  clickSoundRef,\n  user\n}) => {\n  _s0();\n  // Added user prop\n  const [selectedContacts, setSelectedContacts] = useState([]);\n  const [showAddContactForm, setShowAddContactForm] = useState(false);\n  const [newContactName, setNewContactName] = useState('');\n  const [newContactEmail, setNewContactEmail] = useState('');\n  const [agreedToTerms, setAgreedToTerms] = useState(false);\n  useEffect(() => {\n    if (!isOpen) {\n      // Reset state when modal closes\n      setSelectedContacts([]);\n      setShowAddContactForm(false);\n      setNewContactName('');\n      setNewContactEmail('');\n      setAgreedToTerms(false);\n    }\n  }, [isOpen]);\n  const handleContactToggle = contactId => {\n    playSound(clickSoundRef, 'click', soundSettings); // Play click sound\n    setSelectedContacts(prev => prev.includes(contactId) ? prev.filter(id => id !== contactId) : [...prev, contactId]);\n  };\n\n  // --- SUPABASE INTEGRATION: Add Gifting Contact from Hint Modal ---\n  const handleAddContact = async () => {\n    playSound(clickSoundRef, 'click', soundSettings); // Play click sound\n    if (!newContactName.trim() || !newContactEmail.trim()) {\n      alert('Please enter both name and email for the new contact.');\n      return;\n    }\n    if (!user.id) {\n      alert(\"Please sign in to add contacts.\");\n      return;\n    }\n    try {\n      const {\n        data,\n        error\n      } = await supabase.from('gifting_contacts').insert([{\n        user_id: user.id,\n        contact_name: newContactName.trim(),\n        contact_email: newContactEmail.trim(),\n        created_at: new Date().toISOString()\n      }]).select().single();\n      if (error) {\n        console.error('Error adding contact:', error);\n        alert('Failed to add contact: ' + error.message);\n      } else {\n        setGiftingContacts(prev => [...prev, data]);\n        setNewContactName('');\n        setNewContactEmail('');\n        setShowAddContactForm(false);\n        setSelectedContacts(prev => [...prev, data.id]); // Automatically select the new contact\n        alert('Contact added successfully!');\n      }\n    } catch (error) {\n      console.error('Unexpected error adding contact:', error);\n      alert('An unexpected error occurred.');\n    }\n  };\n  const handleSendHint = () => {\n    playSound(clickSoundRef, 'click', soundSettings); // Play click sound\n    if (!agreedToTerms) {\n      alert('Please agree to the Hinting Terms & Conditions.');\n      return;\n    }\n    if (selectedContacts.length === 0) {\n      alert('Please select at least one contact to send the hint to.');\n      return;\n    }\n    const contactsToSend = giftingContacts.filter(contact => selectedContacts.includes(contact.id));\n    console.log(`Sending hint for \"${product.name}\" to:`, contactsToSend);\n    alert(`Hint for \"${product.name}\" sent to selected contacts!`);\n    onClose();\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n    onClick: () => {\n      onClose();\n      playSound(clickSoundRef, 'click', soundSettings);\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-[var(--box-bg-color)] p-6 rounded-lg shadow-lg border-2 border-[var(--border-color)] w-full max-w-md mx-auto flex flex-col max-h-[90vh] overflow-y-auto\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-[var(--primary-color)] mb-4 text-center\",\n        children: [\"Send a Hint for \\\"\", product.name, \"\\\"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1725,\n        columnNumber: 9\n      }, this), giftingContacts.length === 0 && !showAddContactForm ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-[var(--primary-color)] mb-4\",\n          children: \"You don't have any hinting contacts yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1729,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setShowAddContactForm(true);\n            playSound(clickSoundRef, 'click', soundSettings);\n          },\n          className: \"px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n          children: \"Add New Contact\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1730,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1728,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: showAddContactForm ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3 p-4 bg-[var(--main-bg-color)] rounded-md border border-[var(--border-color)] mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold text-[var(--primary-color)] mb-2\",\n            children: \"Add New Contact\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1741,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Contact Name\",\n            value: newContactName,\n            onChange: e => setNewContactName(e.target.value),\n            className: \"w-full p-2 border border-gray-300 rounded-md bg-[var(--box-bg-color)] text-[var(--primary-color)]\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1742,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            placeholder: \"Contact Email\",\n            value: newContactEmail,\n            onChange: e => setNewContactEmail(e.target.value),\n            className: \"w-full p-2 border border-gray-300 rounded-md bg-[var(--box-bg-color)] text-[var(--primary-color)]\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1749,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleAddContact,\n              className: \"px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md hover:bg-opacity-90\",\n              children: \"Add Contact\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1757,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowAddContactForm(false);\n                playSound(clickSoundRef, 'click', soundSettings);\n              },\n              className: \"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1763,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1756,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1740,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold text-[var(--primary-color)] mb-3\",\n            children: \"Select Contacts:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1773,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-grow overflow-y-auto custom-scrollbar p-2 border border-[var(--border-color)] rounded-md mb-4\",\n            children: giftingContacts.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"space-y-2\",\n              children: giftingContacts.map(contact => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"flex items-center space-x-2 text-[var(--primary-color)]\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  id: `contact-${contact.id}`,\n                  checked: selectedContacts.includes(contact.id),\n                  onChange: e => {\n                    handleContactToggle(contact.id);\n                    playSound(clickSoundRef, 'click', soundSettings);\n                  },\n                  className: \"form-checkbox h-5 w-5 text-[var(--primary-color)]\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1779,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: `contact-${contact.id}`,\n                  className: \"text-lg\",\n                  children: [contact.contact_name, \" (\", contact.contact_email, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1786,\n                  columnNumber: 27\n                }, this)]\n              }, contact.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1778,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1776,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-[var(--primary-color)] italic text-center\",\n              children: \"No contacts available. Add one above!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1791,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1774,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowAddContactForm(true);\n              playSound(clickSoundRef, 'click', soundSettings);\n            },\n            className: \"px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 self-start mb-4\",\n            children: \"Add New Contact\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1794,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, void 0, false), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 p-4 border-t border-[var(--border-color)]\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-[var(--primary-color)] mb-3\",\n          children: \"Hinting Terms & Conditions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1806,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-[var(--primary-color)] space-y-2 mb-4 max-h-32 overflow-y-auto custom-scrollbar\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"By sending a hint, you agree to the following:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1808,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-disc list-inside\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Hints are sent as a suggestion and do not guarantee a gift.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1810,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"WyshDrop is not responsible for the fulfillment of gifts.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1811,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Your contact's email will be used solely for sending this hint.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1812,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Do not send excessive or spammy hints.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1813,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1809,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1807,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"inline-flex items-center text-[var(--primary-color)]\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: agreedToTerms,\n            onChange: e => {\n              setAgreedToTerms(e.target.checked);\n              playSound(clickSoundRef, 'click', soundSettings);\n            },\n            className: \"form-checkbox h-5 w-5 text-[var(--primary-color)]\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1817,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-2 text-lg\",\n            children: \"I agree to the terms and conditions.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1823,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1816,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1805,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end space-x-4 mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSendHint,\n          disabled: !agreedToTerms || selectedContacts.length === 0,\n          className: `px-6 py-3 rounded-md shadow-md transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 ${!agreedToTerms || selectedContacts.length === 0 ? 'bg-gray-300 text-gray-500 cursor-not-allowed' : 'bg-[var(--button-bg-color)] text-white hover:bg-opacity-90'}`,\n          children: \"Send Hint\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1828,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            onClose();\n            playSound(clickSoundRef, 'click', soundSettings);\n          },\n          className: \"px-6 py-3 bg-red-500 text-white rounded-md shadow-md hover:bg-red-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1839,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1827,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1724,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1723,\n    columnNumber: 5\n  }, this);\n};\n\n// Custom Confirmation Modal Component\n_s0(HintModal, \"2JQvi49QT8RPB8eRanGVIgs3uUk=\");\n_c11 = HintModal;\nconst ConfirmationModal = ({\n  isOpen,\n  onClose,\n  onConfirm,\n  message,\n  soundSettings,\n  clickSoundRef\n}) => {\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n    onClick: () => {\n      onClose();\n      playSound(clickSoundRef, 'click', soundSettings);\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-[var(--box-bg-color)] p-6 rounded-lg shadow-lg border-2 border-[var(--border-color)] w-full max-w-sm mx-auto text-center\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-[var(--primary-color)] mb-4\",\n        children: \"Confirm Action\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1858,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-[var(--primary-color)] mb-6\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1859,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            onConfirm();\n            onClose();\n            playSound(clickSoundRef, 'click', soundSettings);\n          },\n          className: \"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n          children: \"Confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1861,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            onClose();\n            playSound(clickSoundRef, 'click', soundSettings);\n          },\n          className: \"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1867,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1860,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1857,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1856,\n    columnNumber: 5\n  }, this);\n};\n\n// New Product Detail Page Component\n_c12 = ConfirmationModal;\nconst ProductDetailPage = ({\n  product,\n  onProductClick,\n  onAddProductToWishlist,\n  onHintClick,\n  soundSettings,\n  bookmarkedProducts,\n  setBookmarkedProducts,\n  user,\n  clickSoundRef\n}) => {\n  _s1();\n  // State for comments and new comment input\n  const [productComments, setProductComments] = useState([]); // Initialize as empty, fetch from Supabase\n  const [newCommentText, setNewCommentText] = useState('');\n\n  // State to manage which comments are expanded\n  const [expandedComments, setExpandedComments] = useState({});\n\n  // State for delete confirmation modal\n  const [showDeleteConfirmModal, setShowDeleteConfirmModal] = useState(false);\n  const [commentToDeleteId, setCommentToDeleteId] = useState(null);\n\n  // --- SUPABASE INTEGRATION: Fetch comments for the current product ---\n  useEffect(() => {\n    const fetchComments = async () => {\n      if (!product || !product.id) return;\n      const {\n        data,\n        error\n      } = await supabase.from('product_comments').select(`\n          *,\n          profiles (username) // Join to get the username from the profiles table\n        `).eq('product_id', product.id).order('created_at', {\n        ascending: true\n      }); // Order by creation time\n\n      if (error) {\n        console.error('Error fetching comments:', error);\n      } else {\n        // Map data to include username directly\n        setProductComments(data.map(comment => ({\n          ...comment,\n          user: comment.profiles ? comment.profiles.username : 'Anonymous' // Use username from profile, or 'Anonymous'\n        })));\n      }\n    };\n    fetchComments();\n  }, [product]); // Re-fetch when product changes\n\n  // Toggle expansion for a specific comment\n  const toggleCommentExpansion = commentId => {\n    setExpandedComments(prev => ({\n      ...prev,\n      [commentId]: !prev[commentId]\n    }));\n  };\n  if (!product) {\n    return /*#__PURE__*/_jsxDEV(GenericPage, {\n      title: \"Product Not Found\",\n      content: \"The product you are looking for could not be found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1930,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Check if the current product is bookmarked\n  const isBookmarked = bookmarkedProducts.some(item => item.id === product.id);\n\n  // --- SUPABASE INTEGRATION: Toggle Bookmark ---\n  const handleBookmarkToggle = async () => {\n    playSound(clickSoundRef, 'click', soundSettings);\n    if (!user.isLoggedIn || !user.id) {\n      alert(\"Please sign in to manage your wishlist.\");\n      return;\n    }\n    try {\n      if (isBookmarked) {\n        // Remove from bookmarks\n        const {\n          error\n        } = await supabase.from('wishlists').delete().eq('user_id', user.id).eq('product_id', product.id);\n        if (error) {\n          console.error('Error removing from wishlist:', error);\n          alert('Failed to remove from wishlist: ' + error.message);\n        } else {\n          setBookmarkedProducts(prev => prev.filter(item => item.id !== product.id));\n          alert(`${product.name} removed from wishlist!`);\n        }\n      } else {\n        // Add to bookmarks\n        const {\n          error\n        } = await supabase.from('wishlists').insert([{\n          user_id: user.id,\n          product_id: product.id,\n          added_at: new Date().toISOString()\n        }]);\n        if (error) {\n          console.error('Error adding to wishlist:', error);\n          alert('Failed to add to wishlist: ' + error.message);\n        } else {\n          setBookmarkedProducts(prev => [...prev, product]);\n          alert(`${product.name} added to wishlist!`);\n        }\n      }\n    } catch (error) {\n      console.error('Unexpected error toggling bookmark:', error);\n      alert('An unexpected error occurred.');\n    }\n  };\n  const handleGiftClick = () => {\n    playSound(clickSoundRef, 'click', soundSettings);\n    alert(`You've clicked to gift \"${product.name}\"! (This would lead to a checkout or external purchase link in a real app)`);\n    // In a real application, this would redirect to a checkout page or an external retailer.\n  };\n\n  // --- SUPABASE INTEGRATION: Submit Comment ---\n  const handleSubmitComment = async () => {\n    playSound(clickSoundRef, 'click', soundSettings);\n    if (newCommentText.trim() === '') {\n      alert('Comment cannot be empty.');\n      return;\n    }\n    if (!user.isLoggedIn || !user.id) {\n      alert(\"Please sign in to add comments.\");\n      return;\n    }\n    try {\n      const {\n        data,\n        error\n      } = await supabase.from('product_comments').insert([{\n        product_id: product.id,\n        user_id: user.id,\n        // Use the actual user ID\n        comment_text: newCommentText.trim(),\n        created_at: new Date().toISOString()\n      }]).select(`\n            *,\n            profiles (username)\n        `) // Select the inserted row with profile data\n      .single();\n      if (error) {\n        console.error('Error submitting comment:', error);\n        alert('Failed to submit comment: ' + error.message);\n      } else {\n        // Add the new comment to local state, including the fetched username\n        setProductComments(prevComments => [...prevComments, {\n          ...data,\n          user: data.profiles ? data.profiles.username : 'Anonymous'\n        }]);\n        setNewCommentText('');\n      }\n    } catch (error) {\n      console.error('Unexpected error submitting comment:', error);\n      alert('An unexpected error occurred.');\n    }\n  };\n\n  // --- SUPABASE INTEGRATION: Delete Comment ---\n  const handleDeleteCommentClick = commentId => {\n    playSound(clickSoundRef, 'click', soundSettings);\n    setCommentToDeleteId(commentId);\n    setShowDeleteConfirmModal(true);\n  };\n  const confirmDeleteComment = async () => {\n    playSound(clickSoundRef, 'click', soundSettings);\n    if (!user.id || !commentToDeleteId) {\n      console.error(\"User or comment ID missing for deletion.\");\n      return;\n    }\n    try {\n      const {\n        error\n      } = await supabase.from('product_comments').delete().eq('id', commentToDeleteId).eq('user_id', user.id); // Ensure only the owner can delete\n\n      if (error) {\n        console.error('Error deleting comment:', error);\n        alert('Failed to delete comment: ' + error.message);\n      } else {\n        setProductComments(prevComments => prevComments.filter(comment => comment.id !== commentToDeleteId));\n        alert('Comment deleted successfully!');\n      }\n    } catch (error) {\n      console.error('Unexpected error deleting comment:', error);\n      alert('An unexpected error occurred.');\n    } finally {\n      setCommentToDeleteId(null);\n      setShowDeleteConfirmModal(false);\n    }\n  };\n\n  // Dummy recommended products for this page (will be replaced by actual data later)\n  const recommendedProducts = [...Array(4)].map((_, i) => ({\n    id: `rec-product-${i + 1}`,\n    name: `Recommended Item ${i + 1}`,\n    image_url: `https://placehold.co/240x280/A1D3B3/FFFFFF?text=Recommended+Item+${i + 1}`,\n    // Adjusted height for more room\n    price: (15 + i * 10).toFixed(2),\n    description: `A great recommended item.`,\n    rating: Math.floor(Math.random() * 2) + 4,\n    comments: [],\n    amazon_link: `https://www.amazon.com/dp/B07PFV1QCH?tag=yourtag-${i}` // Placeholder Amazon link\n  }));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-grow w-full py-4 pt-[130px]\",\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"w-full h-0 pb-[33.33%] mb-8 rounded-lg shadow-lg border-2 border-[var(--border-color)] relative flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `https://placehold.co/1200x400/D3A173/FFFFFF?text=${product.name.replace(/\\s/g, '+')}+Banner` // Dynamic placeholder\n        ,\n        alt: `${product.name} Banner`,\n        className: \"absolute inset-0 w-full h-full object-contain rounded-lg\",\n        onError: e => e.target.src = \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Image+Load+Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2091,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2090,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full mx-auto px-4 md:px-12 py-12 bg-[var(--box-bg-color)] rounded-lg shadow-lg border-2 border-[var(--border-color)] flex flex-col lg:flex-row items-start lg:space-x-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full lg:w-1/2 flex justify-center mb-8 lg:mb-0\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-80 h-[400px] bg-[var(--main-bg-color)] rounded-lg flex items-center justify-center text-[var(--primary-color)] text-xl\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            src: product.image_url,\n            alt: product.name,\n            className: \"w-full h-full object-cover rounded-lg\",\n            onError: e => e.target.src = `https://placehold.co/300x450/D3A173/FFFFFF?text=${product.name.replace(/\\s/g, '+')}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2104,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2103,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full lg:w-1/2 flex flex-col space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-4xl font-bold text-[var(--primary-color)]\",\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center text-3xl font-semibold text-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"$\", product.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2112,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleBookmarkToggle,\n            className: \"ml-4 text-[var(--primary-color)] hover:text-gray-700 focus:outline-none transition-all duration-200 ease-in-out hover:scale-110 active:scale-95\",\n            \"aria-label\": isBookmarked ? \"Remove from bookmarks\" : \"Add to bookmarks\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: `fas fa-bookmark ${isBookmarked ? 'text-[var(--primary-color)]' : 'text-gray-400'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2118,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2113,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg text-[var(--primary-color)]\",\n          children: product.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-1 text-yellow-500 text-xl\",\n          children: [[...Array(5)].map((_, i) => /*#__PURE__*/_jsxDEV(\"i\", {\n            className: `fas fa-star ${i < product.rating ? '' : 'text-gray-300'}`\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2126,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600 ml-2 text-base\",\n            children: [\"(\", product.rating, \".0 / 5 stars)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2128,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleGiftClick,\n            className: \"px-6 py-3 bg-[var(--button-bg-color)] text-white font-bold rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 w-full\",\n            children: \"Gift\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              onHintClick(product);\n              playSound(clickSoundRef, 'click', soundSettings);\n            } // Call onHintClick\n            ,\n            className: \"px-6 py-3 bg-purple-500 text-white font-bold rounded-md shadow-md hover:bg-purple-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 w-full\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-lightbulb mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2139,\n              columnNumber: 15\n            }, this), \" Hint\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2136,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: product.amazon_link,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            onClick: () => playSound(clickSoundRef, 'click', soundSettings),\n            className: \"px-6 py-3 bg-green-500 text-white font-bold rounded-md shadow-md hover:bg-green-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 text-center w-full\",\n            children: [\"Go Buy \", /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-external-link-alt ml-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2148,\n              columnNumber: 22\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2141,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-bold text-[var(--primary-color)] mb-4\",\n            children: \"User Comments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2154,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"w-full p-3 border border-gray-300 rounded-md mt-4 bg-[var(--main-bg-color)] text-[var(--primary-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]\",\n            rows: \"3\",\n            placeholder: \"Add your comment...\",\n            value: newCommentText,\n            onChange: e => setNewCommentText(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2155,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSubmitComment,\n            className: \"mt-2 px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n            children: \"Submit Comment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2162,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 space-y-4\",\n            children: productComments.length > 0 ? productComments.map(comment => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-[var(--main-bg-color)] p-4 rounded-md border border-[var(--border-color)]\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-semibold text-[var(--primary-color)]\",\n                  children: comment.user\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2172,\n                  columnNumber: 23\n                }, this), user.id === comment.user_id &&\n                /*#__PURE__*/\n                // Only show delete if current user owns the comment\n                _jsxDEV(\"button\", {\n                  onClick: () => handleDeleteCommentClick(comment.id),\n                  className: \"text-gray-500 hover:text-red-500 transition-colors duration-200\",\n                  \"aria-label\": \"Delete comment\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-trash-alt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2179,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2174,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2171,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `text-[var(--primary-color)] ${expandedComments[comment.id] ? '' : 'line-clamp-3'}`,\n                children: comment.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2183,\n                columnNumber: 21\n              }, this), comment.text.length > 150 &&\n              /*#__PURE__*/\n              // Arbitrary length to show \"Read More\"\n              _jsxDEV(\"button\", {\n                onClick: () => toggleCommentExpansion(comment.id),\n                className: \"text-sm text-[var(--primary-color)] hover:underline mt-2\",\n                children: expandedComments[comment.id] ? 'Read Less' : 'Read More'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2187,\n                columnNumber: 23\n              }, this)]\n            }, comment.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2170,\n              columnNumber: 19\n            }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-[var(--primary-color)] italic\",\n              children: \"No comments yet. Be the first to review!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2197,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2167,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2153,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full mx-auto mt-8 px-4 md:px-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-3xl font-bold text-[var(--primary-color)] mb-6 text-center\",\n        children: \"Recommended for You\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\",\n        children: recommendedProducts.map(recProduct => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-[var(--box-bg-color)] rounded-lg shadow-md border-2 border-[var(--border-color)] p-1 cursor-pointer transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n          onClick: () => {\n            onProductClick(recProduct);\n            playSound(clickSoundRef, 'click', soundSettings);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full h-60 bg-[var(--main-bg-color)] rounded-md flex flex-col items-center justify-center text-[var(--primary-color)] text-lg relative mb-2\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n              src: recProduct.image_url,\n              alt: recProduct.name,\n              className: \"w-full h-full object-cover rounded-md\",\n              onError: e => e.target.src = `https://placehold.co/240x280/A1D3B3/FFFFFF?text=${recProduct.name.replace(/\\s/g, '+')}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2212,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"absolute bottom-2 text-white bg-black bg-opacity-50 px-2 py-1 rounded-md text-sm\",\n              children: [\"$\", recProduct.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2214,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2211,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-lg font-semibold text-[var(--primary-color)] text-center mb-2\",\n            children: recProduct.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2216,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              onProductClick(recProduct);\n              playSound(clickSoundRef, 'click', soundSettings);\n            },\n            className: \"mt-auto px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 w-full\",\n            children: \"View Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2217,\n            columnNumber: 15\n          }, this)]\n        }, recProduct.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2209,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2207,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ConfirmationModal, {\n      isOpen: showDeleteConfirmModal,\n      onClose: () => setShowDeleteConfirmModal(false),\n      onConfirm: confirmDeleteComment,\n      message: \"Are you sure you want to delete this comment?\",\n      soundSettings: soundSettings,\n      clickSoundRef: clickSoundRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2226,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2088,\n    columnNumber: 5\n  }, this);\n};\n\n// New Recommended Page Component\n_s1(ProductDetailPage, \"4BmKCFzhbL77tcZo7Bt7Y6Payh4=\");\n_c13 = ProductDetailPage;\nconst RecommendedPage = ({\n  user,\n  hasTakenQuiz,\n  onQuizMeClick,\n  onSignInClick,\n  onProductClick,\n  onAddProductToWishlist,\n  soundSettings,\n  clickSoundRef\n}) => {\n  _s10();\n  const [isLoading, setIsLoading] = useState(true);\n  const [recommendedProducts, setRecommendedProducts] = useState([]); // State for products\n\n  // --- SUPABASE INTEGRATION: Fetch recommended products ---\n  useEffect(() => {\n    const fetchRecommendedProducts = async () => {\n      if (!user.isLoggedIn || !hasTakenQuiz || !user.id) {\n        setRecommendedProducts([]); // Clear recommendations if not logged in or quiz not taken\n        setIsLoading(false);\n        return;\n      }\n      setIsLoading(true);\n      // Fetch quiz answers from profile\n      const {\n        data: profile,\n        error: profileError\n      } = await supabase.from('profiles').select('quiz_answers').eq('id', user.id).single();\n      if (profileError || !profile || !profile.quiz_answers) {\n        console.error('Error fetching quiz answers for recommendations:', profileError);\n        setRecommendedProducts([]);\n        setIsLoading(false);\n        return;\n      }\n      const quizAnswers = profile.quiz_answers;\n      // In a real scenario, you would use quizAnswers to filter/order products more intelligently.\n      // For this demo, we'll just fetch some random products or top-rated ones.\n      const {\n        data,\n        error\n      } = await supabase.from('products').select('*').limit(10) // Fetch a limited number of products\n      .order('rating', {\n        ascending: false\n      }); // Example: order by rating\n\n      if (error) {\n        console.error('Error fetching recommended products:', error);\n      } else {\n        setRecommendedProducts(data);\n      }\n      setIsLoading(false);\n    };\n    fetchRecommendedProducts();\n  }, [user.isLoggedIn, hasTakenQuiz, user.id]); // Re-fetch when these dependencies change\n\n  const handleTakeQuizPrompt = () => {\n    playSound(clickSoundRef, 'click', soundSettings); // Play click sound\n    // This will trigger the Quiz Modal from the App component\n    onQuizMeClick();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-grow w-full py-4 pt-[130px]\",\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"w-full h-0 pb-[33.33%] mb-8 rounded-lg shadow-lg border-2 border-[var(--border-color)] relative flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Recommended+Banner\" // Updated placeholder image\n        ,\n        alt: \"Recommended for You Banner\",\n        className: \"absolute inset-0 w-full h-full object-contain rounded-lg\",\n        onError: e => e.target.src = \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Image+Load+Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2297,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2296,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full mx-auto px-4 md:px-12\",\n      children: !user.isLoggedIn ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-xl text-[var(--primary-color)] py-12 bg-[var(--box-bg-color)] rounded-lg shadow-lg border-2 border-[var(--border-color)]\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-4\",\n          children: \"Please sign in to get personalized recommendations.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2308,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            onSignInClick();\n            playSound(clickSoundRef, 'click', soundSettings);\n          },\n          className: \"px-6 py-3 bg-[var(--button-bg-color)] text-white font-bold rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2309,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2307,\n        columnNumber: 11\n      }, this) : !hasTakenQuiz ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-xl text-[var(--primary-color)] py-12 bg-[var(--box-bg-color)] rounded-lg shadow-lg border-2 border-[var(--border-color)]\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-4\",\n          children: \"Recommendations are provided through quiz answers.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2318,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleTakeQuizPrompt,\n          className: \"px-6 py-3 bg-[var(--button-bg-color)] text-white font-bold rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n          children: \"Want to take your quiz now? \\u2728\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2319,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2317,\n        columnNumber: 11\n      }, this) : isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-xl text-[var(--primary-color)]\",\n        children: \"Loading recommendations...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2327,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\",\n        children: recommendedProducts.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-[var(--box-bg-color)] rounded-lg shadow-md border-2 border-[var(--border-color)] p-1 cursor-pointer transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full h-84 bg-[var(--main-bg-color)] rounded-md flex flex-col items-center justify-center text-[var(--primary-color)] text-lg relative mb-2\",\n            onClick: () => {\n              onProductClick(product);\n              playSound(clickSoundRef, 'click', soundSettings);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: product.image_url,\n              alt: product.name,\n              className: \"w-full h-full object-cover rounded-md\",\n              onError: e => e.target.src = `https://placehold.co/240x280/A1D3B3/FFFFFF?text=${product.name.replace(/\\s/g, '+')}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2334,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"absolute bottom-2 text-white bg-black bg-opacity-50 px-2 py-1 rounded-md text-sm\",\n              children: [\"$\", product.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2335,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2332,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold text-[var(--primary-color)] text-center mb-2\",\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2337,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col space-y-3 w-full px-2\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                onAddProductToWishlist(product);\n                playSound(clickSoundRef, 'click', soundSettings);\n              },\n              className: \"px-6 py-2 bg-gray-500 text-white rounded-md shadow-md hover:bg-gray-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 w-full\",\n              children: \"Add to Wyshlist\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2339,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: product.amazon_link,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              onClick: () => playSound(clickSoundRef, 'click', soundSettings),\n              className: \"px-6 py-2 bg-[var(--button-bg-color)] text-white font-bold rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 text-center w-full\",\n              children: [\"Go Buy \", /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-external-link-alt ml-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2351,\n                columnNumber: 28\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2344,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2338,\n            columnNumber: 17\n          }, this)]\n        }, product.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2331,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2329,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2305,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2294,\n    columnNumber: 5\n  }, this);\n};\n\n// New Cover Page Component\n_s10(RecommendedPage, \"lXm9TsWT1i6SQPidBjSpGLnmnyU=\");\n_c14 = RecommendedPage;\nconst CoverPage = ({\n  onGuestSignIn,\n  onSignInClick,\n  onTermsAndConditionsClick,\n  isDarkMode,\n  onSocialSignIn,\n  isTransitioningOut,\n  showApiKeyError,\n  onCreateAccountClick,\n  soundSettings,\n  clickSoundRef\n}) => {\n  _s11();\n  const [agreedToTerms, setAgreedToTerms] = useState(false);\n\n  // Determine background color based on dark mode\n  const backgroundColor = isDarkMode ? '#000000' : '#FFDDBD'; // Black for dark, light brown for light\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `fixed inset-0 flex flex-col items-center justify-center p-4 z-50 transition-all duration-1000 ease-in-out ${isTransitioningOut ? 'opacity-0 translate-y-full' : 'opacity-100 translate-y-0'}`,\n    style: {\n      backgroundColor\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-md p-8 rounded-lg shadow-lg text-center\",\n      style: {\n        backgroundColor: 'var(--box-bg-color)',\n        border: '2px solid var(--border-color)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://placehold.co/80x80/transparent/9A6E45?text=Logo\",\n        alt: \"WyshDrop Logo\",\n        className: \"h-20 w-20 mx-auto mb-6 object-contain\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2374,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-4xl font-bold text-[var(--primary-color)] mb-8\",\n        children: \"Create an account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2375,\n        columnNumber: 9\n      }, this), showApiKeyError && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4\",\n        role: \"alert\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          className: \"font-bold\",\n          children: \"Supabase Error!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2379,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"block sm:inline\",\n          children: \" Your Supabase URL or Anon Key is invalid. Please update `supabaseUrl` and `supabaseAnonKey` in `App.jsx` with your actual project details from the Supabase Dashboard.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2380,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2378,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4 mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            onSocialSignIn('google');\n            playSound(clickSoundRef, 'click', soundSettings);\n          } // Changed to 'google' for Supabase\n          ,\n          className: \"w-full flex items-center justify-center px-6 py-3 bg-white text-gray-800 rounded-lg shadow-md hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fab fa-google text-xl mr-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2389,\n            columnNumber: 13\n          }, this), \" Sign up with Google\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2385,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2384,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center my-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"hr\", {\n          className: \"flex-grow border-t border-gray-300\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2395,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"px-4 text-[var(--primary-color)]\",\n          children: \"OR\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2396,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          className: \"flex-grow border-t border-gray-300\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2397,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2394,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          onCreateAccountClick();\n          playSound(clickSoundRef, 'click', soundSettings);\n        },\n        className: \"w-full px-6 py-3 bg-[var(--button-bg-color)] text-white font-bold rounded-lg shadow-md hover:bg-opacity-90 mb-4 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n        children: \"Create account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2400,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center mb-6 text-sm text-[var(--primary-color)]\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"terms-checkbox\",\n          checked: agreedToTerms,\n          onChange: e => {\n            setAgreedToTerms(e.target.checked);\n            playSound(clickSoundRef, 'click', soundSettings);\n          },\n          className: \"mr-2 h-4 w-4 text-[var(--primary-color)] focus:ring-[var(--primary-color)] border-gray-300 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2405,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"terms-checkbox\",\n          children: [\"By signing up, you agree to the \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            onClick: e => {\n              e.preventDefault();\n              onTermsAndConditionsClick();\n              playSound(clickSoundRef, 'click', soundSettings);\n            },\n            className: \"text-[var(--primary-color)] hover:underline\",\n            children: \"Terms of Service\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2413,\n            columnNumber: 45\n          }, this), \" and \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            className: \"text-[var(--primary-color)] hover:underline\",\n            children: \"Privacy Policy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2413,\n            columnNumber: 258\n          }, this), \", including \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            className: \"text-[var(--primary-color)] hover:underline\",\n            children: \"Cookie Use\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2413,\n            columnNumber: 356\n          }, this), \".\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2412,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2404,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          onGuestSignIn();\n          playSound(clickSoundRef, 'click', soundSettings);\n        },\n        disabled: !agreedToTerms,\n        className: `w-full px-6 py-3 font-bold rounded-lg shadow-md transition-all duration-200 ease-in-out ${agreedToTerms ? 'bg-gray-600 text-white hover:bg-gray-700 hover:scale-105 active:scale-95' : 'bg-gray-300 text-gray-500 cursor-not-allowed'}`,\n        children: \"Sign in as Guest\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2417,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-[var(--primary-color)] mb-4\",\n          children: \"Already have an account?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2430,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            onSignInClick();\n            playSound(clickSoundRef, 'click', soundSettings);\n          },\n          className: \"w-full px-6 py-3 bg-[var(--box-bg-color)] text-[var(--primary-color)] font-bold rounded-lg shadow-md border-2 border-[var(--border-color)] hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n          children: \"Sign in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2431,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2429,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2373,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2372,\n    columnNumber: 5\n  }, this);\n};\n\n// New Terms and Conditions Page Component\n_s11(CoverPage, \"4v17MLVjlhDzrNCMnh6IwiS52aA=\");\n_c15 = CoverPage;\nconst TermsAndConditionsPage = ({\n  onBack,\n  soundSettings,\n  clickSoundRef\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-grow w-full py-4 pt-[130px]\",\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"w-full h-0 pb-[33.33%] mb-8 rounded-lg shadow-lg border-2 border-[var(--border-color)] relative flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Terms+Banner\" // Updated placeholder image\n        ,\n        alt: \"Terms and Conditions Banner\",\n        className: \"absolute inset-0 w-full h-full object-contain rounded-lg\",\n        onError: e => e.target.src = \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Image+Load+Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2449,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2448,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full mx-auto px-4 md:px-12 py-12 bg-[var(--box-bg-color)] rounded-lg shadow-lg border-2 border-[var(--border-color)]\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold text-[var(--primary-color)] mb-6 text-center\",\n        children: \"WyshDrop Terms of Service\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2458,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-[var(--primary-color)] text-lg leading-relaxed space-y-4\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Welcome to WyshDrop! These Terms of Service (\\\"Terms\\\")... (content truncated for brevity)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2460,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2459,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mt-8\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            onBack();\n            playSound(clickSoundRef, 'click', soundSettings);\n          },\n          className: \"px-6 py-3 bg-[var(--button-bg-color)] text-white font-bold rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n          children: \"Back to Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2463,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2462,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2457,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2446,\n    columnNumber: 5\n  }, this);\n};\n\n// New Wishlist Success Popup Component\n_c16 = TermsAndConditionsPage;\nconst WishlistSuccessPopup = ({\n  isVisible,\n  productName,\n  onCheckBookmarks,\n  onClose,\n  soundSettings,\n  clickSoundRef\n}) => {\n  if (!isVisible) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed top-4 right-4 z-50 flex items-center bg-[var(--box-bg-color)] p-4 rounded-lg shadow-lg border-2 border-[var(--border-color)] animate-fade-in-out\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-end\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-[var(--primary-color)] mb-1\",\n        children: [\"Added \", productName, \" to wishlist!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2482,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          onCheckBookmarks();\n          playSound(clickSoundRef, 'click', soundSettings);\n        },\n        className: \"text-xs text-[var(--primary-color)] hover:underline flex items-center space-x-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Check it out here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2489,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-arrow-right transform rotate-45 text-lg ml-1\",\n          style: {\n            transform: 'rotate(-45deg)'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2490,\n          columnNumber: 11\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2485,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2481,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        onClose();\n        playSound(clickSoundRef, 'click', soundSettings);\n      },\n      className: \"ml-4 text-gray-500 hover:text-gray-700\",\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-times\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2494,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2493,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @keyframes fadeInOut {\n          0% { opacity: 0; transform: translateY(-20px); }\n          10% { opacity: 1; transform: translateY(0); }\n          90% { opacity: 1; transform: translateY(0); }\n          100% { opacity: 0; transform: translateY(-20px); }\n        }\n        .animate-fade-in-out {\n          animation: fadeInOut 3s forwards;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2496,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2480,\n    columnNumber: 5\n  }, this);\n};\n\n// New Create Account Page Component\n_c17 = WishlistSuccessPopup;\nconst CreateAccountPage = ({\n  onCreateAccount,\n  onBackToSignIn,\n  soundSettings,\n  clickSoundRef\n}) => {\n  _s12();\n  const [email, setEmail] = useState('');\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState(''); // Added password field\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    playSound(clickSoundRef, 'click', soundSettings);\n    if (!email || !firstName || !lastName || !username || !password) {\n      alert('Please fill in all fields.');\n      return;\n    }\n\n    // --- SUPABASE INTEGRATION: Sign Up with Email/Password ---\n    try {\n      const {\n        data,\n        error\n      } = await supabase.auth.signUp({\n        email: email,\n        password: password,\n        options: {\n          data: {\n            first_name: firstName,\n            last_name: lastName,\n            username: username\n          }\n        }\n      });\n      if (error) {\n        alert(\"Account creation failed: \" + error.message);\n        console.error(\"Supabase signup error:\", error);\n      } else if (data.user) {\n        alert(\"Account created successfully! Please check your email to confirm your account.\");\n        // Supabase's onAuthStateChange listener in App.js will handle setting user state and navigation\n        onCreateAccount({\n          email,\n          firstName,\n          lastName,\n          username\n        }); // Trigger parent to possibly update UI/state\n      }\n    } catch (error) {\n      console.error(\"Unexpected error during Supabase signup:\", error);\n      alert(\"An unexpected error occurred during account creation.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 flex flex-col items-center justify-center p-4 z-50\",\n    style: {\n      backgroundColor: 'var(--main-bg-color)'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-md p-8 rounded-lg shadow-lg text-center\",\n      style: {\n        backgroundColor: 'var(--box-bg-color)',\n        border: '2px solid var(--border-color)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://placehold.co/80x80/transparent/9A6E45?text=Logo\",\n        alt: \"WyshDrop Logo\",\n        className: \"h-20 w-20 mx-auto mb-6 object-contain\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2558,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-4xl font-bold text-[var(--primary-color)] mb-8\",\n        children: \"Create Your Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2559,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            placeholder: \"Email\",\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            className: \"w-full p-3 rounded-lg shadow-sm border-2 border-[var(--border-color)] bg-[var(--main-bg-color)] text-[var(--primary-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2563,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2562,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"First Name\",\n            value: firstName,\n            onChange: e => setFirstName(e.target.value),\n            className: \"w-full p-3 rounded-lg shadow-sm border-2 border-[var(--border-color)] bg-[var(--main-bg-color)] text-[var(--primary-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2573,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Last Name\",\n            value: lastName,\n            onChange: e => setLastName(e.target.value),\n            className: \"w-full p-3 rounded-lg shadow-sm border-2 border-[var(--border-color)] bg-[var(--main-bg-color)] text-[var(--primary-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2581,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2572,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Username\",\n            value: username,\n            onChange: e => setUsername(e.target.value),\n            className: \"w-full p-3 rounded-lg shadow-sm border-2 border-[var(--border-color)] bg-[var(--main-bg-color)] text-[var(--primary-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2591,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2590,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"Password\",\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            className: \"w-full p-3 rounded-lg shadow-sm border-2 border-[var(--border-color)] bg-[var(--main-bg-color)] text-[var(--primary-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2601,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2600,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"w-full px-6 py-3 bg-[var(--button-bg-color)] text-white font-bold rounded-lg shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n          children: \"Create Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2610,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2561,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-[var(--primary-color)] mb-4\",\n          children: \"Already have an account?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2619,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            onBackToSignIn();\n            playSound(clickSoundRef, 'click', soundSettings);\n          },\n          className: \"w-full px-6 py-3 bg-[var(--box-bg-color)] text-[var(--primary-color)] font-bold rounded-lg shadow-md border-2 border-[var(--border-color)] hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n          children: \"Back to Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2620,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2618,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2557,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2556,\n    columnNumber: 5\n  }, this);\n};\n\n// Main App component\n_s12(CreateAccountPage, \"eEtJa3aupZK0hDRSo6GeFqGsi7M=\");\n_c18 = CreateAccountPage;\nconst App = () => {\n  _s13();\n  console.log(\"App component is rendering.\"); // Added for debugging\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [currentPage, setCurrentPage] = useState('cover'); // Start with the cover page\n  const [currentCategory, setCurrentCategory] = useState(''); // To store the clicked category name\n  const [currentSubcategory, setCurrentSubcategory] = useState(''); // To store the clicked subcategory name\n  // --- SUPABASE INTEGRATION: Updated user state to include 'id' and 'profile_image_url' ---\n  const [user, setUser] = useState({\n    isLoggedIn: false,\n    username: 'Guest',\n    email: '',\n    id: null,\n    profile_image_url: null\n  }); // User state\n  const [hasTakenQuiz, setHasTakenQuiz] = useState(false); // New state for quiz status\n  const [bookmarkedProducts, setBookmarkedProducts] = useState([]); // State for bookmarked products\n  const [isGeneralFeedbackModalOpen, setIsGeneralFeedbackModalOpen] = useState(false);\n  const [isHeaderVisible, setIsHeaderVisible] = useState(true); // State for header visibility\n  const [lastScrollY, setLastScrollY] = useState(0); // To track scroll position\n  const [selectedProduct, setSelectedProduct] = useState(null); // State to hold the product for detail page\n  const [isCoverPageTransitioningOut, setIsCoverPageTransitioningOut] = useState(false); // New state for cover page animation\n  const [showApiKeyError, setShowApiKeyError] = useState(false); // New state for API key error message\n  const [showQuizModal, setShowQuizModal] = useState(false); // State for Quiz Modal (moved here for global access)\n  const [showQuizPromptModal, setShowQuizPromptModal] = useState(false); // New state for quiz prompt modal\n  const [showWishlistSuccessPopup, setShowWishlistSuccessPopup] = useState(false); // New state for wishlist popup\n  const [wishlistPopupProductName, setWishlistPopupProductName] = useState(''); // Product name for wishlist popup\n  const [showHintModal, setShowHintModal] = useState(false); // New state for Hint Modal\n  // --- SUPABASE INTEGRATION: Gifting contacts will be fetched from DB, initialize as empty ---\n  const [giftingContacts, setGiftingContacts] = useState([]);\n\n  // Refs for Tone.js players\n  const clickSoundRef = useRef(null);\n  const scrollSoundRef = useRef(null); // Still needed for the scroll debounce, even if sound is off\n  const pageTransitionSoundRef = useRef(null); // Still needed, even if sound is off\n\n  // Sound settings state\n  const [soundSettings, setSoundSettings] = useState({\n    isAllSoundEnabled: true,\n    isClickSoundEnabled: true,\n    isScrollSoundEnabled: false,\n    // Changed to false\n    isPageTransitionSoundEnabled: false // Changed to false\n  });\n\n  // Effect to load Tone.js and initialize players\n  useEffect(() => {\n    const script = document.createElement('script');\n    script.src = \"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.min.js\";\n    script.async = true;\n    script.onload = () => {\n      console.log(\"Tone.js loaded successfully via CDN.\");\n      if (window.Tone) {\n        // Check if Tone is available on window\n        // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n        // IMPORTANT: YOU MUST REPLACE THESE EMPTY STRINGS WITH DIRECT, RAW LINKS TO YOUR OWN HOSTED SOUND FILES.\n        // Generic placeholder URLs (like soundhelix.com) often do not work due to CORS policies or direct linking restrictions.\n        // You need to host your MP3/WAV files yourself (e.g., on Firebase Storage, AWS S3, or another CDN)\n        // and provide the direct, publicly accessible URLs here.\n        //\n        // For GitHub, ensure you are using the \"Raw\" link (e.g., raw.githubusercontent.com/your-username/your-repo/main/sounds/click.mp3)\n        // NOT the regular github.com link.\n        //\n        // Example: \"https://raw.githubusercontent.com/your-username/your-repo/main/sounds/click.mp3\"\n        // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n        clickSoundRef.current = new window.Tone.Player({\n          url: \"YOUR_RAW_GITHUB_URL_FOR_CLICK_SOUND.mp3\",\n          // <--- REPLACE THIS WITH YOUR ACTUAL RAW GITHUB URL for click sound\n          onload: () => console.log(\"Click sound loaded\"),\n          onerror: e => console.error(\"Error loading click sound:\", e)\n        }).toDestination();\n\n        // Scroll and page transition sounds are disabled by default, but still need players initialized\n        scrollSoundRef.current = new window.Tone.Player({\n          url: \"YOUR_RAW_GITHUB_URL_FOR_SCROLL_SOUND.mp3\",\n          // <--- REPLACE THIS WITH YOUR ACTUAL RAW GITHUB URL for scroll sound\n          onload: () => console.log(\"Scroll sound loaded\"),\n          onerror: e => console.error(\"Error loading scroll sound:\", e)\n        }).toDestination();\n        pageTransitionSoundRef.current = new window.Tone.Player({\n          url: \"YOUR_RAW_GITHUB_URL_FOR_PAGE_TRANSITION_SOUND.mp3\",\n          // <--- REPLACE THIS WITH YOUR ACTUAL RAW GITHUB URL for page transition sound\n          onload: () => console.log(\"Page transition sound loaded\"),\n          onerror: e => console.error(\"Error loading page transition sound:\", e)\n        }).toDestination();\n      }\n    };\n    script.onerror = e => console.error(\"Error loading Tone.js via CDN:\", e);\n    document.body.appendChild(script);\n    return () => {\n      // Cleanup Tone.js players and script on unmount\n      if (clickSoundRef.current) clickSoundRef.current.dispose();\n      if (scrollSoundRef.current) scrollSoundRef.current.dispose();\n      if (pageTransitionSoundRef.current) pageTransitionSoundRef.current.dispose();\n      if (document.body.contains(script)) {\n        document.body.removeChild(script);\n      }\n    };\n  }, []); // Empty dependency array means it runs once on mount\n\n  // Color scheme states - these will hold the *currently active* colors\n  const [currentMainBgColor, setCurrentMainBgColor] = useState(\"#FFDDBD\");\n  const [currentPrimaryColor, setCurrentPrimaryColor] = useState(\"#9A6E45\");\n  const [currentBorderColor, setCurrentBorderColor] = useState(\"#D3A173\");\n  const [currentBoxBgColor, setCurrentBoxBgColor] = useState(\"#FFFFFF\");\n  const [currentButtonBgColor, setCurrentButtonBgColor] = useState(\"#9A6E45\");\n  const [currentFooterBgColor, setCurrentFooterBgColor] = useState(\"#9A6E45\");\n  const [isDarkMode, setIsDarkMode] = useState(false);\n\n  // Define color palettes with both light and dark modes\n  const colorPalettes = [{\n    name: \"Default\",\n    light: {\n      mainBg: \"#FFDDBD\",\n      primary: \"#9A6E45\",\n      border: \"#D3A173\",\n      boxBg: \"#FFFFFF\",\n      buttonBg: \"#9A6E45\",\n      footerBg: \"#9A6E45\"\n    },\n    dark: {\n      mainBg: \"#000000\",\n      primary: \"#FFFFFF\",\n      border: \"#5A5BA6\",\n      boxBg: \"#343570\",\n      buttonBg: \"#272882\",\n      footerBg: \"#343570\"\n    }\n  }, {\n    name: \"Ocean Blue\",\n    // Desaturated pastel\n    light: {\n      mainBg: \"#E0F2F7\",\n      primary: \"#2C5282\",\n      border: \"#A7D9EB\",\n      boxBg: \"#FFFFFF\",\n      buttonBg: \"#4299E1\",\n      footerBg: \"#2C5282\"\n    },\n    dark: {\n      mainBg: \"#CCE0E8\",\n      primary: \"#2C5282\",\n      border: \"#A7D9EB\",\n      boxBg: \"#E0F2F7\",\n      buttonBg: \"#4299E1\",\n      footerBg: \"#E0F2F7\"\n    } // Slightly darker pastel for dark mode\n  }, {\n    name: \"Forest Green\",\n    // Desaturated forest green\n    light: {\n      mainBg: \"#EAF4E4\",\n      primary: \"#4F7942\",\n      border: \"#C8DCCB\",\n      boxBg: \"#FFFFFF\",\n      buttonBg: \"#6B8E23\",\n      footerBg: \"#4F7942\"\n    },\n    dark: {\n      mainBg: \"#D7E0D2\",\n      primary: \"#4F7942\",\n      border: \"#C8DCCB\",\n      boxBg: \"#EAF4E4\",\n      buttonBg: \"#6B8E23\",\n      footerBg: \"#EAF4E4\"\n    }\n  }, {\n    name: \"Lavender\",\n    // Light lavender\n    light: {\n      mainBg: \"#F8F0FF\",\n      primary: \"#9370DB\",\n      border: \"#E1CCF7\",\n      boxBg: \"#FFFFFF\",\n      buttonBg: \"#A58EDF\",\n      footerBg: \"#9370DB\"\n    },\n    dark: {\n      mainBg: \"#EFE5F9\",\n      primary: \"#9370DB\",\n      border: \"#E1CCF7\",\n      boxBg: \"#F8F0FF\",\n      buttonBg: \"#A58EDF\",\n      footerBg: \"#F8F0FF\"\n    }\n  }];\n\n  // Function to apply a palette (either light or dark version based on current mode)\n  const applyPalette = palette => {\n    const selectedColors = isDarkMode ? palette.dark : palette.light;\n    setCurrentMainBgColor(selectedColors.mainBg);\n    setCurrentPrimaryColor(selectedColors.primary);\n    setCurrentBorderColor(selectedColors.border);\n    setCurrentBoxBgColor(selectedColors.boxBg);\n    setCurrentButtonBgColor(selectedColors.buttonBg);\n    setCurrentFooterBgColor(selectedColors.footerBg);\n  };\n\n  // Initial application of default palette on mount\n  useEffect(() => {\n    applyPalette(colorPalettes[0]);\n  }, []);\n\n  // Update CSS variables whenever current colors or dark mode changes\n  useEffect(() => {\n    document.documentElement.style.setProperty('--main-bg-color', currentMainBgColor);\n    document.documentElement.style.setProperty('--primary-color', currentPrimaryColor);\n    document.documentElement.style.setProperty('--border-color', currentBorderColor);\n    document.documentElement.style.setProperty('--box-bg-color', currentBoxBgColor);\n    document.documentElement.style.setProperty('--button-bg-color', currentButtonBgColor);\n    document.documentElement.style.setProperty('--footer-bg-color', currentFooterBgColor);\n    document.documentElement.style.setProperty('--text-color', isDarkMode ? '#FFFFFF' : currentPrimaryColor); // Text color logic\n  }, [currentMainBgColor, currentPrimaryColor, currentBorderColor, currentBoxBgColor, currentButtonBgColor, currentFooterBgColor, isDarkMode]);\n  const toggleDarkMode = () => {\n    setIsDarkMode(prevMode => {\n      const newMode = !prevMode;\n      // Find the current palette based on its light or dark colors\n      const currentPaletteData = colorPalettes.find(p => p.light.mainBg === currentMainBgColor && !prevMode || p.dark.mainBg === currentMainBgColor && prevMode) || colorPalettes[0]; // Fallback to default if not found\n\n      if (newMode) {\n        // Switching to dark mode\n        setCurrentMainBgColor(currentPaletteData.dark.mainBg);\n        setCurrentPrimaryColor(currentPaletteData.dark.primary);\n        setCurrentBorderColor(currentPaletteData.dark.border);\n        setCurrentBoxBgColor(currentPaletteData.dark.boxBg);\n        setCurrentButtonBgColor(currentPaletteData.dark.buttonBg);\n        setCurrentFooterBgColor(currentPaletteData.dark.footerBg);\n      } else {\n        // Switching to light mode\n        setCurrentMainBgColor(currentPaletteData.light.mainBg);\n        setCurrentPrimaryColor(currentPaletteData.light.primary);\n        setCurrentBorderColor(currentPaletteData.light.border);\n        setCurrentBoxBgColor(currentPaletteData.light.boxBg);\n        setCurrentButtonBgColor(currentPaletteData.light.buttonBg);\n        setCurrentFooterBgColor(currentPaletteData.light.footerBg);\n      }\n      return newMode;\n    });\n  };\n  const toggleSidebar = () => {\n    setIsSidebarOpen(!isSidebarOpen);\n  };\n  const categories = [\"Trending\", \"Books\", \"Accessories\", \"DIY/Art\", \"Tech\", \"Cups / Drinks\", \"Stationary\", \"Music\", \"Figurines / Plushies\", \"Gift Cards\", \"Blooms\", \"Recommended\", \"Quiz Me\", \"Donate\" // Added Recommended\n  ];\n\n  // Handlers for navigation\n  const handleSearchClick = () => setCurrentPage('search');\n  const handleBookmarkClick = () => setCurrentPage('bookmarks');\n  const handleSettingsClick = () => setCurrentPage('settings');\n  const handleProfileClick = () => setCurrentPage('profile');\n  const handleBack = () => {\n    // Simple back logic: if on product detail, go to home (or previous category/search if implemented)\n    if (currentPage === 'product-detail') {\n      setCurrentPage('home'); // For simplicity, always go back to home for now\n      setSelectedProduct(null);\n    } else if (['subcategory', 'recommended'].includes(currentPage) || categories.includes(currentPage)) {\n      setCurrentPage('home');\n    } else if (currentPage === 'terms-conditions') {\n      setCurrentPage('cover'); // Go back to cover page from T&C\n    } else if (currentPage === 'create-account') {\n      // Back from create account page\n      setCurrentPage('cover');\n    } else {\n      setCurrentPage('home');\n    }\n  };\n  const handleCategoryClick = (event, category) => {\n    if (event) event.preventDefault(); // Prevent default link behavior if event is provided\n    if (category === \"Quiz Me\") {\n      setShowQuizModal(true); // Open quiz modal directly\n    } else if (category === \"Donate\") {\n      handleDonateClick(); // Trigger donate action\n    } else if (category === \"Recommended\") {\n      handleRecommendedClick();\n    } else {\n      setCurrentPage(category);\n      setCurrentCategory(category);\n    }\n  };\n  const handleSubcategoryClick = subcategory => {\n    setCurrentPage('subcategory');\n    setCurrentSubcategory(subcategory);\n  };\n  const handleProductClick = product => {\n    setSelectedProduct(product);\n    setCurrentPage('product-detail');\n  };\n  const handleWyshDropClick = () => {\n    setCurrentPage('home');\n  };\n  const handleSidebarNavigation = pageName => {\n    setCurrentPage(pageName);\n    setIsSidebarOpen(false); // Close sidebar after navigation\n  };\n  const handleDonateClick = () => {\n    console.log(\"Donate button clicked!\");\n    // Implement donation logic (e.g., redirect to a donation page or show a modal)\n    setIsSidebarOpen(false); // Close sidebar\n    alert(\"Thank you for your interest in donating! Donation features are coming soon.\"); // Simple alert for now\n  };\n  const handleGeneralFeedbackSubmit = feedback => {\n    console.log(\"General feedback submitted:\", feedback);\n    // Implement feedback submission logic\n  };\n\n  // Function to show wishlist success popup\n  const handleShowWishlistSuccess = productName => {\n    setWishlistPopupProductName(productName);\n    setShowWishlistSuccessPopup(true);\n    setTimeout(() => {\n      setShowWishlistSuccessPopup(false);\n      setWishlistPopupProductName('');\n    }, 3000); // Disappear after 3 seconds\n  };\n\n  // --- SUPABASE INTEGRATION: Add Product to Wishlist ---\n  const handleAddProductToWishlist = async product => {\n    if (!user.isLoggedIn || !user.id) {\n      alert(\"Please sign in to add items to your wishlist.\");\n      return;\n    }\n\n    // Check if product already exists in local state (for immediate UI update)\n    const isAlreadyBookmarked = bookmarkedProducts.some(item => item.id === product.id);\n    if (isAlreadyBookmarked) {\n      alert(`${product.name} is already in your wishlist!`);\n      return;\n    }\n    try {\n      const {\n        data,\n        error\n      } = await supabase.from('wishlists').insert([{\n        user_id: user.id,\n        product_id: product.id,\n        added_at: new Date().toISOString()\n      }]);\n      if (error) {\n        console.error('Error adding to wishlist:', error);\n        alert('Failed to add to wishlist: ' + error.message);\n      } else {\n        console.log('Added to wishlist:', data);\n        // Update local state to reflect the change\n        setBookmarkedProducts(prev => [...prev, product]);\n        handleShowWishlistSuccess(product.name);\n      }\n    } catch (error) {\n      console.error('Unexpected error adding to wishlist:', error);\n      alert('An unexpected error occurred.');\n    }\n  };\n\n  // Handler for opening the Hint modal\n  const handleHintClick = product => {\n    setSelectedProduct(product); // Ensure the product is set for the modal\n    setShowHintModal(true);\n  };\n\n  // Header visibility logic\n  const toggleHeaderVisibility = useCallback(() => {\n    setIsHeaderVisible(prev => !prev);\n  }, []);\n  useEffect(() => {\n    const handleScroll = debounce(() => {\n      // Debounce the scroll handler\n      const currentScrollY = window.scrollY;\n\n      // Only play scroll sound if there's actual scrolling and sound is enabled\n      // The scroll sound is now disabled by default, so this will not play unless enabled in settings.\n      if (Math.abs(currentScrollY - lastScrollY) > 20) {\n        // Threshold to prevent sound on minor movements\n        playSound(scrollSoundRef, 'scroll', soundSettings);\n      }\n\n      // If at the very top, always show header\n      if (currentScrollY === 0) {\n        setIsHeaderVisible(true);\n      } else if (currentScrollY > lastScrollY) {\n        // Scrolling down\n        setIsHeaderVisible(false);\n      } else {\n        // Scrolling up\n        setIsHeaderVisible(true);\n      }\n      setLastScrollY(currentScrollY);\n    }, 100); // Debounce for 100ms\n\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, [lastScrollY, soundSettings, scrollSoundRef]); // Add soundSettings and scrollSoundRef to dependency array\n\n  // --- SUPABASE INTEGRATION: Helper function to fetch user-specific data ---\n  const fetchUserSpecificData = async userId => {\n    if (!userId) return; // Only fetch if user is logged in\n\n    // Fetch Wishlist\n    const {\n      data: wishlistData,\n      error: wishlistError\n    } = await supabase.from('wishlists').select('product_id, products(*)') // Select product details via join\n    .eq('user_id', userId);\n    if (wishlistError) {\n      console.error('Error fetching wishlist:', wishlistError);\n    } else {\n      // Supabase returns nested data for the join, flatten it for your state\n      setBookmarkedProducts(wishlistData.map(item => item.products));\n    }\n\n    // Fetch Gifting Contacts\n    const {\n      data: contactsData,\n      error: contactsError\n    } = await supabase.from('gifting_contacts').select('*').eq('user_id', userId);\n    if (contactsError) {\n      console.error('Error fetching gifting contacts:', contactsError);\n    } else {\n      setGiftingContacts(contactsData);\n    }\n  };\n\n  // --- SUPABASE INTEGRATION: Auth Listener and Initial Session Check ---\n  useEffect(() => {\n    const {\n      data: authListener\n    } = supabase.auth.onAuthStateChange(async (event, session) => {\n      if (session) {\n        var _session$user$user_me, _session$user$user_me2, _session$user$email, _profile, _profile2, _profile3, _session$user$user_me6, _profile4;\n        const userEmail = session.user.email;\n        const userName = ((_session$user$user_me = session.user.user_metadata) === null || _session$user$user_me === void 0 ? void 0 : _session$user$user_me.username) || ((_session$user$user_me2 = session.user.user_metadata) === null || _session$user$user_me2 === void 0 ? void 0 : _session$user$user_me2.full_name) || ((_session$user$email = session.user.email) === null || _session$user$email === void 0 ? void 0 : _session$user$email.split('@')[0]) || 'User';\n        const userId = session.user.id;\n\n        // 1. Fetch/Create User Profile in 'profiles' table\n        let {\n          data: profile,\n          error: profileError\n        } = await supabase.from('profiles').select('*').eq('id', userId).single(); // Use .single() as it's a one-to-one relationship\n\n        if (profileError && profileError.code === 'PGRST116') {\n          var _session$user$user_me3, _session$user$user_me4, _session$user$user_me5;\n          // No rows found (profile doesn't exist)\n          console.log(\"Profile not found, creating new profile...\");\n          const {\n            data: newProfile,\n            error: insertError\n          } = await supabase.from('profiles').insert([{\n            id: userId,\n            username: userName,\n            first_name: ((_session$user$user_me3 = session.user.user_metadata) === null || _session$user$user_me3 === void 0 ? void 0 : _session$user$user_me3.first_name) || null,\n            last_name: ((_session$user$user_me4 = session.user.user_metadata) === null || _session$user$user_me4 === void 0 ? void 0 : _session$user$user_me4.last_name) || null,\n            email: userEmail,\n            profile_image_url: ((_session$user$user_me5 = session.user.user_metadata) === null || _session$user$user_me5 === void 0 ? void 0 : _session$user$user_me5.avatar_url) || null,\n            // Use avatar from social login if available\n            has_taken_quiz: false,\n            // Default to false for new users\n            quiz_answers: {}\n          }]).select().single();\n          if (insertError) {\n            console.error('Error creating profile:', insertError);\n            // Handle error, maybe sign out or show a message\n          } else {\n            profile = newProfile; // Use the newly created profile\n            console.log(\"New profile created:\", profile);\n          }\n        } else if (profileError) {\n          console.error('Error fetching profile:', profileError);\n          // Handle other profile fetch errors\n        }\n\n        // Update user state with profile data\n        setUser({\n          isLoggedIn: true,\n          username: ((_profile = profile) === null || _profile === void 0 ? void 0 : _profile.username) || userName,\n          email: ((_profile2 = profile) === null || _profile2 === void 0 ? void 0 : _profile2.email) || userEmail,\n          id: userId,\n          // Store the Supabase user ID\n          profile_image_url: ((_profile3 = profile) === null || _profile3 === void 0 ? void 0 : _profile3.profile_image_url) || ((_session$user$user_me6 = session.user.user_metadata) === null || _session$user$user_me6 === void 0 ? void 0 : _session$user$user_me6.avatar_url) || null\n        });\n        setHasTakenQuiz(((_profile4 = profile) === null || _profile4 === void 0 ? void 0 : _profile4.has_taken_quiz) || false); // Update quiz status from profile\n\n        // 2. Fetch user-specific data (wishlist, contacts)\n        await fetchUserSpecificData(userId);\n        setCurrentPage('home'); // Navigate to home after successful login\n        setShowApiKeyError(false); // Clear any API key errors\n      } else {\n        // User is logged out\n        setUser({\n          isLoggedIn: false,\n          username: 'Guest',\n          email: '',\n          id: null,\n          profile_image_url: null\n        });\n        setHasTakenQuiz(false);\n        setBookmarkedProducts([]); // Clear data on logout\n        setGiftingContacts([]); // Clear data on logout\n        // Only redirect to cover if not already on it (to prevent infinite loops)\n        if (currentPage !== 'cover' && currentPage !== 'create-account') {\n          setCurrentPage('cover');\n        }\n      }\n      setIsCoverPageTransitioningOut(false); // Ensure transition state is reset after auth check\n    });\n\n    // Initial check for session when the app loads\n    supabase.auth.getSession().then(async ({\n      data: {\n        session\n      }\n    }) => {\n      if (session) {\n        var _session$user$user_me7, _session$user$user_me8, _session$user$email2, _session$user$user_me9;\n        const userEmail = session.user.email;\n        const userName = ((_session$user$user_me7 = session.user.user_metadata) === null || _session$user$user_me7 === void 0 ? void 0 : _session$user$user_me7.username) || ((_session$user$user_me8 = session.user.user_metadata) === null || _session$user$user_me8 === void 0 ? void 0 : _session$user$user_me8.full_name) || ((_session$user$email2 = session.user.email) === null || _session$user$email2 === void 0 ? void 0 : _session$user$email2.split('@')[0]) || 'User';\n        const userId = session.user.id;\n\n        // Fetch profile on initial session check\n        const {\n          data: profile,\n          error: profileError\n        } = await supabase.from('profiles').select('*').eq('id', userId).single();\n        if (profileError) {\n          console.error('Error fetching profile on initial session:', profileError);\n          // If profile doesn't exist on initial load, it will be created on next auth change\n        }\n        setUser({\n          isLoggedIn: true,\n          username: (profile === null || profile === void 0 ? void 0 : profile.username) || userName,\n          email: (profile === null || profile === void 0 ? void 0 : profile.email) || userEmail,\n          id: userId,\n          profile_image_url: (profile === null || profile === void 0 ? void 0 : profile.profile_image_url) || ((_session$user$user_me9 = session.user.user_metadata) === null || _session$user$user_me9 === void 0 ? void 0 : _session$user$user_me9.avatar_url) || null\n        });\n        setHasTakenQuiz((profile === null || profile === void 0 ? void 0 : profile.has_taken_quiz) || false);\n        await fetchUserSpecificData(userId); // Fetch user-specific data\n        setCurrentPage('home');\n      } else {\n        setUser({\n          isLoggedIn: false,\n          username: 'Guest',\n          email: '',\n          id: null,\n          profile_image_url: null\n        });\n        setCurrentPage('cover');\n      }\n      setIsCoverPageTransitioningOut(false); // Reset transition state after initial session check\n    }).catch(error => {\n      console.error(\"Error getting initial Supabase session:\", error.message);\n      // If there's an error getting session, assume not logged in and show cover page\n      setUser({\n        isLoggedIn: false,\n        username: 'Guest',\n        email: '',\n        id: null,\n        profile_image_url: null\n      });\n      setCurrentPage('cover');\n      setShowApiKeyError(true); // Indicate a potential Supabase config issue\n      setIsCoverPageTransitioningOut(false);\n    });\n    return () => {\n      authListener.subscription.unsubscribe();\n    };\n  }, []); // Empty dependency array to run once on mount\n\n  // Handle guest sign-in (no change needed for Supabase as it's not a direct auth method)\n  const handleGuestSignIn = () => {\n    setIsCoverPageTransitioningOut(true); // Trigger transition out\n    setTimeout(() => {\n      setUser({\n        isLoggedIn: true,\n        username: 'Guest',\n        email: 'guest@wyshdrop.com',\n        id: 'guest-user-id',\n        profile_image_url: null\n      }); // Assign a dummy ID for guest\n      setCurrentPage('home'); // Navigate to home page after guest sign-in\n      setIsCoverPageTransitioningOut(false); // Reset transition state\n    }, 1000); // Match CSS transition duration\n  };\n\n  // Handle sign-in button click on cover page (for future authentication flow)\n  // This will now lead to email/password or social sign-in via Supabase\n  const handleCoverSignInClick = () => {\n    // For a real app, this would show an email/password login form or redirect to a dedicated login page.\n    // For now, we'll just simulate a successful login for demo purposes.\n    // In a real app, you'd likely navigate to a dedicated login form or trigger a modal.\n    alert(\"This would lead to an email/password login form or social login options.\");\n    // For now, we'll just let the user try social sign-in or create account.\n  };\n\n  // --- SUPABASE INTEGRATION: Handle social sign-in (Google) using Supabase ---\n  const handleSocialSignIn = async providerName => {\n    setIsCoverPageTransitioningOut(true); // Start transition out before redirect\n    try {\n      const {\n        error\n      } = await supabase.auth.signInWithOAuth({\n        provider: providerName,\n        // 'google'\n        options: {\n          redirectTo: window.location.origin // Redirect back to the current origin\n        }\n      });\n      if (error) {\n        console.error(`Error during ${providerName} Sign-In:`, error.message);\n        alert(`${providerName} Sign-In failed: ` + error.message);\n        setShowApiKeyError(true); // Indicate a potential Supabase config issue\n        setIsCoverPageTransitioningOut(false); // Reset transition state if an error occurs\n      }\n      // Supabase handles the redirect automatically, so no need for further logic here.\n      // The onAuthStateChange listener will pick up the session after redirect.\n    } catch (error) {\n      console.error(`Unexpected error during ${providerName} Sign-In:`, error);\n      alert(`An unexpected error occurred during ${providerName} Sign-In.`);\n      setIsCoverPageTransitioningOut(false); // Reset transition state\n    }\n  };\n\n  // --- SUPABASE INTEGRATION: Function to sign out using Supabase ---\n  const handleSignOut = async () => {\n    try {\n      const {\n        error\n      } = await supabase.auth.signOut();\n      if (error) {\n        console.error(\"Error signing out:\", error.message);\n        alert(\"Failed to sign out. Please try again.\");\n      } else {\n        console.log(\"User signed out.\");\n        setUser({\n          isLoggedIn: false,\n          username: 'Guest',\n          email: '',\n          id: null,\n          profile_image_url: null\n        });\n        setHasTakenQuiz(false);\n        setBookmarkedProducts([]);\n        setGiftingContacts([]);\n        setIsCoverPageTransitioningOut(true); // Trigger transition out for a moment before going back to cover\n        setTimeout(() => {\n          setCurrentPage('cover');\n          setIsCoverPageTransitioningOut(false); // Reset transition state\n        }, 1000); // Match CSS transition duration\n      }\n    } catch (error) {\n      console.error(\"Error during Supabase signOut:\", error);\n      alert(\"An unexpected error occurred during sign out.\");\n    }\n  };\n\n  // Handle Terms and Conditions navigation from CoverPage\n  const handleTermsAndConditionsClick = () => {\n    setCurrentPage('terms-conditions');\n  };\n\n  // Handle \"Recommended\" navigation\n  const handleRecommendedClick = () => {\n    if (!user.isLoggedIn) {\n      setCurrentPage('cover'); // Redirect to cover page if not logged in\n    } else if (!hasTakenQuiz) {\n      setShowQuizPromptModal(true); // Show quiz prompt if logged in but no quiz taken\n    } else {\n      setCurrentPage('recommended'); // Go to recommended page\n    }\n  };\n  const handleQuizComplete = answers => {\n    setHasTakenQuiz(true); // This will be updated by the profile fetch if logged in\n    setShowQuizModal(false); // Close the quiz modal\n    console.log(\"Quiz completed with answers:\", answers);\n    // The quiz answers are saved to Supabase profile directly in QuizModal\n  };\n\n  // Handle account creation from CreateAccountPage (email/password signup)\n  // The actual supabase.auth.signUp call is now in CreateAccountPage component\n  const handleCreateAccount = accountDetails => {\n    // This function is now primarily for updating App.js state or triggering navigation\n    // after the signup in CreateAccountPage is initiated.\n    console.log(\"Create account initiated from CreateAccountPage:\", accountDetails);\n    // The onAuthStateChange listener will handle the actual user state update and navigation to 'home'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `min-h-screen font-inter flex flex-col items-center transition-colors duration-300`,\n    style: {\n      backgroundColor: `var(--main-bg-color)`,\n      color: `var(--text-color)`\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"link\", {\n      rel: \"stylesheet\",\n      href: \"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3246,\n      columnNumber: 7\n    }, this), currentPage === 'cover' ? /*#__PURE__*/_jsxDEV(CoverPage, {\n      onGuestSignIn: handleGuestSignIn,\n      onSignInClick: handleCoverSignInClick,\n      onTermsAndConditionsClick: handleTermsAndConditionsClick,\n      isDarkMode: isDarkMode,\n      onSocialSignIn: handleSocialSignIn // Pass the new handler\n      ,\n      isTransitioningOut: isCoverPageTransitioningOut // Pass transition state\n      ,\n      showApiKeyError: showApiKeyError // Pass API key error state\n      ,\n      onCreateAccountClick: () => setCurrentPage('create-account') // New handler for create account\n      ,\n      soundSettings: soundSettings // Pass sound settings\n      ,\n      clickSoundRef: clickSoundRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3250,\n      columnNumber: 9\n    }, this) : currentPage === 'create-account' ? /*#__PURE__*/_jsxDEV(CreateAccountPage, {\n      onCreateAccount: handleCreateAccount,\n      onBackToSignIn: () => setCurrentPage('cover'),\n      soundSettings: soundSettings // Pass sound settings\n      ,\n      clickSoundRef: clickSoundRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3263,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        toggleSidebar: toggleSidebar,\n        onSearchClick: handleSearchClick,\n        onBookmarkClick: handleBookmarkClick,\n        onSettingsClick: handleSettingsClick,\n        onProfileClick: handleProfileClick,\n        onBack: handleBack,\n        currentPage: currentPage,\n        onWyshDropClick: handleWyshDropClick,\n        isHeaderVisible: isHeaderVisible,\n        toggleHeaderVisibility: toggleHeaderVisibility,\n        user: user // Pass user object\n        ,\n        onQuizMeClick: () => setShowQuizModal(true) // Direct quiz modal open\n        ,\n        onDonateClick: handleDonateClick,\n        onFeedbackClick: () => setIsGeneralFeedbackModalOpen(true),\n        onSignInClick: handleCoverSignInClick // For profile dropdown sign-in\n        ,\n        onSignUpClick: handleCoverSignInClick // For profile dropdown sign-up (same as sign-in for demo)\n        ,\n        soundSettings: soundSettings // Pass sound settings\n        ,\n        clickSoundRef: clickSoundRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3272,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: `w-full bg-[var(--border-color)] py-2 px-4 md:px-12 overflow-x-auto whitespace-nowrap shadow-md custom-scrollbar-horizontal transition-transform duration-300 ${isHeaderVisible ? 'top-16' : '-translate-y-full'} fixed left-0 z-20`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-6 justify-center md:justify-start\",\n          children: categories.map(category => /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            onClick: e => {\n              handleCategoryClick(e, category);\n              playSound(clickSoundRef, 'click', soundSettings);\n            } // Pass event and category\n            ,\n            className: \"text-white text-sm font-semibold hover:text-[var(--primary-color)] hover:bg-white px-3 py-1 rounded-md transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 flex-shrink-0\" // Added flex-shrink-0\n            ,\n            children: category\n          }, category, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3298,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3296,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3295,\n        columnNumber: 11\n      }, this), isSidebarOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 z-40\",\n        onClick: () => {\n          toggleSidebar();\n          playSound(clickSoundRef, 'click', soundSettings);\n        },\n        \"aria-hidden\": \"true\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3312,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `fixed top-0 left-0 h-full w-64 bg-[var(--box-bg-color)] shadow-xl z-50 transform transition-transform duration-300 ease-in-out\n              ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 flex justify-between items-center border-b border-[var(--border-color)]\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-handwritten text-[var(--primary-color)]\",\n            children: \"Menu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3325,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              toggleSidebar();\n              playSound(clickSoundRef, 'click', soundSettings);\n            },\n            \"aria-label\": \"Close menu\",\n            className: \"text-[var(--primary-color)] hover:text-gray-700 focus:outline-none transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-times text-xl\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3331,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3326,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3324,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n          className: \"p-4 flex flex-col space-y-4 flex-grow\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            onClick: () => {\n              handleSidebarNavigation('home');\n              playSound(clickSoundRef, 'click', soundSettings);\n            },\n            className: \"text-lg text-[var(--primary-color)] hover:text-gray-700 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3335,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            onClick: () => {\n              setShowQuizModal(true);\n              playSound(clickSoundRef, 'click', soundSettings);\n            },\n            className: \"text-lg text-[var(--primary-color)] hover:text-gray-700 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n            children: \"Quiz Me\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3336,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            onClick: () => {\n              handleSidebarNavigation('how-it-works');\n              playSound(clickSoundRef, 'click', soundSettings);\n            },\n            className: \"text-lg text-[var(--primary-color)] hover:text-gray-700 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n            children: \"How it Works\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3338,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            onClick: () => {\n              handleSidebarNavigation('my-hints');\n              playSound(clickSoundRef, 'click', soundSettings);\n            },\n            className: \"text-lg text-[var(--primary-color)] hover:text-gray-700 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n            children: \"My Hints\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3339,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            onClick: () => {\n              handleSidebarNavigation('about-us');\n              playSound(clickSoundRef, 'click', soundSettings);\n            },\n            className: \"text-lg text-[var(--primary-color)] hover:text-gray-700 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n            children: \"About us\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3340,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            onClick: () => {\n              handleSidebarNavigation('contact-us');\n              playSound(clickSoundRef, 'click', soundSettings);\n            },\n            className: \"text-lg text-[var(--primary-color)] hover:text-gray-700 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n            children: \"Contact Us\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3341,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            onClick: () => {\n              handleSidebarNavigation('faqs');\n              playSound(clickSoundRef, 'click', soundSettings);\n            },\n            className: \"text-lg text-[var(--primary-color)] hover:text-gray-700 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n            children: \"FAQs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3342,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            onClick: () => {\n              handleSidebarNavigation('careers');\n              playSound(clickSoundRef, 'click', soundSettings);\n            },\n            className: \"text-lg text-[var(--primary-color)] hover:text-gray-700 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n            children: \"Careers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3343,\n            columnNumber: 15\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3334,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border-t border-[var(--border-color)] flex flex-col space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              handleDonateClick();\n              playSound(clickSoundRef, 'click', soundSettings);\n            },\n            className: \"w-full px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n            children: \"Donate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3347,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setIsGeneralFeedbackModalOpen(true);\n              setIsSidebarOpen(false);\n              playSound(clickSoundRef, 'click', soundSettings);\n            },\n            className: \"w-full px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n            children: \"Feedback\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3353,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3346,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3320,\n        columnNumber: 11\n      }, this), currentPage === 'home' && /*#__PURE__*/_jsxDEV(HomeContent, {\n        onSeeMoreClick: handleSubcategoryClick,\n        onDiscoverClick: handleSearchClick,\n        isLoggedIn: user.isLoggedIn,\n        onAboutUsClick: () => handleSidebarNavigation('about-us'),\n        onProductClick: handleProductClick,\n        onAddProductToWishlist: handleAddProductToWishlist,\n        soundSettings: soundSettings,\n        clickSoundRef: clickSoundRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3364,\n        columnNumber: 13\n      }, this), currentPage === 'search' && /*#__PURE__*/_jsxDEV(SearchPage, {\n        handleCategoryClick: handleCategoryClick,\n        onSeeMoreClick: handleSubcategoryClick,\n        onProductClick: handleProductClick,\n        onAddProductToWishlist: handleAddProductToWishlist,\n        onQuizMeClick: () => setShowQuizModal(true) // Pass quiz me handler\n        ,\n        soundSettings: soundSettings,\n        clickSoundRef: clickSoundRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3376,\n        columnNumber: 13\n      }, this), currentPage === 'bookmarks' && /*#__PURE__*/_jsxDEV(BookmarksPage, {\n        bookmarkedProducts: bookmarkedProducts,\n        soundSettings: soundSettings,\n        clickSoundRef: clickSoundRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3387,\n        columnNumber: 13\n      }, this), currentPage === 'settings' && /*#__PURE__*/_jsxDEV(SettingsPage, {\n        applyPalette: applyPalette // Pass applyPalette function\n        ,\n        colorPalettes: colorPalettes // Pass all color palettes\n        ,\n        isDarkMode: isDarkMode,\n        toggleDarkMode: toggleDarkMode,\n        soundSettings: soundSettings // Pass sound settings\n        ,\n        setSoundSettings: setSoundSettings // Pass setter for sound settings\n        ,\n        clickSoundRef: clickSoundRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3390,\n        columnNumber: 13\n      }, this), currentPage === 'profile' && /*#__PURE__*/_jsxDEV(ProfilePage, {\n        user: user,\n        onSignOut: handleSignOut,\n        onAboutUsClick: () => handleSidebarNavigation('about-us'),\n        giftingContacts: giftingContacts // Pass gifting contacts\n        ,\n        setGiftingContacts: setGiftingContacts // Pass setter for contacts\n        ,\n        soundSettings: soundSettings,\n        clickSoundRef: clickSoundRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3401,\n        columnNumber: 13\n      }, this), currentPage === 'how-it-works' && /*#__PURE__*/_jsxDEV(GenericPage, {\n        title: \"How WyshDrop Works\",\n        content: \"Learn how WyshDrop simplifies gifting! From creating wishlists to sending hints, we make every step easy and fun. Get started in minutes!\",\n        soundSettings: soundSettings,\n        clickSoundRef: clickSoundRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3412,\n        columnNumber: 13\n      }, this), currentPage === 'my-hints' && /*#__PURE__*/_jsxDEV(GenericPage, {\n        title: \"My Hints\",\n        content: \"This is where you can manage all the hints you've sent or received. Keep track of your gifting journey!\",\n        soundSettings: soundSettings,\n        clickSoundRef: clickSoundRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3420,\n        columnNumber: 13\n      }, this), currentPage === 'contact-us' && /*#__PURE__*/_jsxDEV(GenericPage, {\n        title: \"Contact Us\",\n        content: `\n                <h3 class=\"text-3xl font-bold text-[var(--primary-color)] mb-4 text-center\">Get in Touch!</h3>\n                <p class=\"mb-4 text-center\">We'd love to hear from you. Whether you have questions, feedback, or just want to say hello, feel to reach out!</p>\n\n                <div class=\"flex flex-col items-center space-y-4 mb-8\">\n                  <div class=\"flex items-center space-x-2 text-lg\">\n                    <i class=\"fas fa-envelope text-[var(--primary-color)]\"></i>\n                    <a href=\"mailto:info@wyshdrop.com\" class=\"text-[var(--primary-color)] hover:underline\">info@wyshdrop.com</a>\n                  </div>\n                  <div class=\"flex items-center space-x-2 text-lg text-[var(--primary-color)]\">\n                    <i class=\"fas fa-phone text-[var(--primary-color)]\"></i>\n                    <span>Phone number coming soon!</span>\n                  </div>\n                </div>\n\n                <h3 class=\"text-3xl font-bold text-[var(--primary-color)] mb-4 text-center\">Find Us on Social Media!</h3>\n                <div class=\"flex justify-center space-x-6 text-4xl mb-8\">\n                  <a href=\"https://www.youtube.com/channel/Lydia&Crim\" target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"YouTube\" class=\"text-red-600 hover:text-red-700 transition-all duration-200 ease-in-out hover:scale-110\">\n                    <i class=\"fab fa-youtube\"></i>\n                  </a>\n                  <a href=\"#\" aria-label=\"Instagram\" class=\"text-pink-500 hover:text-pink-600 transition-all duration-200 ease-in-out hover:scale-110\">\n                    <i class=\"fab fa-instagram\"></i>\n                  </a>\n                  <a href=\"#\" aria-label=\"TikTok\" class=\"text-black hover:text-gray-800 transition-all duration-200 ease-in-out hover:scale-110\">\n                    <i class=\"fab fa-tiktok\"></i>\n                  </a>\n                </div>\n              `,\n        soundSettings: soundSettings,\n        clickSoundRef: clickSoundRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3428,\n        columnNumber: 13\n      }, this), currentPage === 'about-us' && /*#__PURE__*/_jsxDEV(GenericPage, {\n        title: \"About Us\",\n        content: `\n                <h3 class=\"text-3xl font-bold text-[var(--primary-color)] mb-4 text-center\">Our Goal</h3>\n                <p class=\"mb-8 text-center\">At WyshDrop, our goal is simple: to transform the art of gifting into an effortless and joyful experience for everyone. We believe that giving and receiving gifts should be a source of happiness, free from stress and uncertainty. Our platform is designed to help you find the perfect gift every time, fostering stronger connections and creating memorable moments.</p>\n\n                <h3 class=\"text-3xl font-bold text-[var(--primary-color)] mb-4 text-center\">The Three Scenarios We Hope to Uncover</h3>\n                <p class=\"mb-6 text-center\">WyshDrop is built to cater to diverse gifting needs and challenges:</p>\n                <ol class=\"list-decimal list-inside space-y-4 mb-12 px-4 md:px-8\">\n                  <li><strong>The Thoughtful Giver:</strong> For those who genuinely want to give a meaningful and desired gift but struggle with ideas or knowing what someone truly wants. WyshDrop provides personalized recommendations and easy access to wishlists, ensuring your thoughtful gesture hits the mark.</li>\n                  <li><strong>The Hint-Dropper:</strong> For individuals who wish to receive gifts they truly desire without having to explicitly ask or risk getting something they don't need. Our platform allows users to create and manage wishlists, subtly share them, and ensure their loved ones have a clear idea of their preferences.</li>\n                  <li><strong>The Last-Minute Shopper:</strong> We understand that life gets busy! For those who need a quick, yet thoughtful gift solution, WyshDrop offers efficient search, curated categories, and personalized suggestions to help you find the ideal present even when time is short.</li>\n                </ol>\n\n                <h3 class=\"text-3xl font-bold text-[var(--primary-color)] mb-6 text-center\">The Creators</h3>\n                <div class=\"flex flex-col md:flex-row justify-center items-stretch gap-8 mb-12\">\n                  <div class=\"flex-1 flex flex-col items-center text-center bg-[var(--main-bg-color)] p-6 rounded-lg shadow-md border-2 border-[var(--border-color)]\">\n                    <img src=\"https://placehold.co/150x150/A1D3B3/FFFFFF?text=Crim\" alt=\"Crim's Profile\" class=\"w-32 h-32 rounded-full object-cover mb-4 border-4 border-[var(--primary-color)]\"/>\n                    <h4 class=\"text-2xl font-bold text-[var(--primary-color)] mb-2\">Crim</h4>\n                    <p>Crim is the visionary behind WyshDrop's user experience and design. With a keen eye for aesthetics and a deep understanding of user psychology, Crim ensures that every interaction on the platform is intuitive, delightful, and visually appealing. Their passion for seamless digital experiences is at the heart of WyshDrop's inviting interface.</p>\n                  </div>\n                  <div class=\"flex-1 flex flex-col items-center text-center bg-[var(--main-bg-color)] p-6 rounded-lg shadow-md border-2 border-[var(--border-color)]\">\n                    <img src=\"https://placehold.co/150x150/D3A173/FFFFFF?text=Lydia\" alt=\"Lydia's Profile\" class=\"w-32 h-32 rounded-full object-cover mb-4 border-4 border-[var(--primary-color)]\"/>\n                    <h4 class=\"text-2xl font-bold text-[var(--primary-color)] mb-2\">Lydia</h4>\n                    <p>Lydia is the technical architect and driving force behind WyshDrop's robust functionality. With expertise in backend systems and data management, Lydia ensures the platform is secure, scalable, and performs flawlessly. Their dedication to innovative technology makes WyshDrop a reliable and powerful tool for all your gifting needs.</p>\n                  </div>\n                </div>\n              `,\n        soundSettings: soundSettings,\n        clickSoundRef: clickSoundRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3463,\n        columnNumber: 13\n      }, this), currentPage === 'faqs' && /*#__PURE__*/_jsxDEV(GenericPage, {\n        title: \"Frequently Asked Questions\",\n        content: \"Find answers to common questions about WyshDrop, our features, and how to get the most out of your gifting experience.\",\n        soundSettings: soundSettings,\n        clickSoundRef: clickSoundRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3496,\n        columnNumber: 13\n      }, this), currentPage === 'careers' && /*#__PURE__*/_jsxDEV(GenericPage, {\n        title: \"Careers\",\n        content: \"Join the WyshDrop team! We're looking for passionate individuals to help us revolutionize the world of gifting. Check out our open positions.\",\n        soundSettings: soundSettings,\n        clickSoundRef: clickSoundRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3504,\n        columnNumber: 13\n      }, this), currentPage === 'terms-conditions' && /*#__PURE__*/_jsxDEV(TermsAndConditionsPage, {\n        onBack: handleBack,\n        soundSettings: soundSettings,\n        clickSoundRef: clickSoundRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3512,\n        columnNumber: 13\n      }, this), currentPage === 'privacy-consent' && /*#__PURE__*/_jsxDEV(GenericPage, {\n        title: \"Privacy & Consent\",\n        content: \"Your privacy is paramount to us. This page details how WyshDrop collects, uses, and protects your personal information, and your rights regarding your data.\",\n        soundSettings: soundSettings,\n        clickSoundRef: clickSoundRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3515,\n        columnNumber: 13\n      }, this), categories.includes(currentPage) && currentPage !== 'Recommended' && currentPage !== 'Quiz Me' && currentPage !== 'Donate' && /*#__PURE__*/_jsxDEV(CategoryPage, {\n        categoryName: currentCategory,\n        onSeeMoreClick: handleSubcategoryClick,\n        onProductClick: handleProductClick,\n        onAddProductToWishlist: handleAddProductToWishlist,\n        soundSettings: soundSettings,\n        clickSoundRef: clickSoundRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3523,\n        columnNumber: 13\n      }, this), currentPage === 'subcategory' && /*#__PURE__*/_jsxDEV(SubcategoryPage, {\n        subcategoryName: currentSubcategory,\n        onProductClick: handleProductClick,\n        onAddProductToWishlist: handleAddProductToWishlist,\n        soundSettings: soundSettings,\n        clickSoundRef: clickSoundRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3533,\n        columnNumber: 13\n      }, this), currentPage === 'product-detail' && selectedProduct && /*#__PURE__*/_jsxDEV(ProductDetailPage, {\n        product: selectedProduct,\n        onProductClick: handleProductClick,\n        onAddProductToWishlist: handleAddProductToWishlist,\n        onHintClick: handleHintClick // Pass the hint click handler\n        ,\n        soundSettings: soundSettings,\n        bookmarkedProducts: bookmarkedProducts // Pass bookmark state\n        ,\n        setBookmarkedProducts: setBookmarkedProducts // Pass bookmark setter\n        ,\n        user: user // Pass user object for comments\n        ,\n        clickSoundRef: clickSoundRef // Pass clickSoundRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3542,\n        columnNumber: 13\n      }, this), currentPage === 'recommended' && /*#__PURE__*/_jsxDEV(RecommendedPage, {\n        user: user,\n        hasTakenQuiz: hasTakenQuiz,\n        onQuizMeClick: () => setShowQuizModal(true),\n        onSignInClick: handleCoverSignInClick,\n        onProductClick: handleProductClick,\n        onAddProductToWishlist: handleAddProductToWishlist,\n        soundSettings: soundSettings,\n        clickSoundRef: clickSoundRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3555,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed bottom-4 right-4 bg-[var(--box-bg-color)] p-3 rounded-md shadow-lg border border-[var(--border-color)] text-sm text-[var(--primary-color)] z-50 cursor-pointer transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          onClick: () => {\n            setIsGeneralFeedbackModalOpen(true);\n            playSound(clickSoundRef, 'click', soundSettings);\n          },\n          className: \"hover:underline\",\n          children: \"Feedback?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3569,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3568,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FeedbackModal, {\n        isOpen: isGeneralFeedbackModalOpen,\n        onClose: () => setIsGeneralFeedbackModalOpen(false),\n        onSubmit: handleGeneralFeedbackSubmit,\n        purpose: \"general-feedback\",\n        soundSettings: soundSettings,\n        clickSoundRef: clickSoundRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3573,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(QuizModal, {\n        isOpen: showQuizModal,\n        onClose: () => setShowQuizModal(false),\n        onQuizComplete: handleQuizComplete,\n        soundSettings: soundSettings,\n        clickSoundRef: clickSoundRef,\n        user: user // Pass user to QuizModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3583,\n        columnNumber: 11\n      }, this), showQuizPromptModal && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n        onClick: () => {\n          setShowQuizPromptModal(false);\n          playSound(clickSoundRef, 'click', soundSettings);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-[var(--box-bg-color)] p-6 rounded-lg shadow-lg border-2 border-[var(--border-color)] w-full max-w-sm mx-auto text-center\",\n          onClick: e => e.stopPropagation(),\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold text-[var(--primary-color)] mb-4\",\n            children: \"Get Personalized Recommendations!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3596,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-[var(--primary-color)] mb-6\",\n            children: \"Recommendations are provided through quiz answers. Want to take your quiz now?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3597,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowQuizModal(true);\n                setShowQuizPromptModal(false);\n                playSound(clickSoundRef, 'click', soundSettings);\n              },\n              className: \"px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n              children: \"Take Quiz \\u2728\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3599,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowQuizPromptModal(false);\n                playSound(clickSoundRef, 'click', soundSettings);\n              },\n              className: \"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n              children: \"No, Thanks\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3605,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3598,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3595,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3594,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(WishlistSuccessPopup, {\n        isVisible: showWishlistSuccessPopup,\n        productName: wishlistPopupProductName,\n        onCheckBookmarks: () => {\n          setCurrentPage('bookmarks');\n          setShowWishlistSuccessPopup(false);\n          playSound(clickSoundRef, 'click', soundSettings);\n        },\n        onClose: () => {\n          setShowWishlistSuccessPopup(false);\n          playSound(clickSoundRef, 'click', soundSettings);\n        },\n        soundSettings: soundSettings,\n        clickSoundRef: clickSoundRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3617,\n        columnNumber: 11\n      }, this), selectedProduct &&\n      /*#__PURE__*/\n      // Only render if a product is selected for hinting\n      _jsxDEV(HintModal, {\n        isOpen: showHintModal,\n        onClose: () => setShowHintModal(false),\n        product: selectedProduct,\n        giftingContacts: giftingContacts,\n        setGiftingContacts: setGiftingContacts,\n        soundSettings: soundSettings,\n        clickSoundRef: clickSoundRef,\n        user: user // Pass user to HintModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3628,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n        className: \"w-full bg-[var(--footer-bg-color)] text-white p-8 mt-8 rounded-t-xl shadow-inner\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col md:flex-row justify-between items-center md:items-start space-y-4 md:space-y-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n            className: \"flex flex-col space-y-2 text-center md:text-left\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              onClick: () => {\n                handleSidebarNavigation('about-us');\n                playSound(clickSoundRef, 'click', soundSettings);\n              },\n              className: \"hover:underline text-lg transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n              children: \"About us\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3644,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\"\n              // Removed onMouseEnter/onMouseLeave to simplify, as showContactDropdown is not defined\n              ,\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                onClick: () => {\n                  handleSidebarNavigation('contact-us');\n                  playSound(clickSoundRef, 'click', soundSettings);\n                },\n                className: \"hover:underline text-lg transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n                children: \"Contact us\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3650,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3646,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              onClick: () => {\n                handleSidebarNavigation('privacy-consent');\n                playSound(clickSoundRef, 'click', soundSettings);\n              },\n              className: \"hover:underline text-lg transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n              children: \"Privacy / consent\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3652,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              onClick: () => {\n                handleSidebarNavigation('terms-conditions');\n                playSound(clickSoundRef, 'click', soundSettings);\n              },\n              className: \"hover:underline text-lg transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n              children: \"Terms & Conditions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3653,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              onClick: () => {\n                handleSidebarNavigation('faqs');\n                playSound(clickSoundRef, 'click', soundSettings);\n              },\n              className: \"hover:underline text-lg transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n              children: \"FAQs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3654,\n              columnNumber: 17\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              onClick: () => {\n                handleSidebarNavigation('careers');\n                playSound(clickSoundRef, 'click', soundSettings);\n              },\n              className: \"hover:underline text-lg transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n              children: \"Careers\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3655,\n              columnNumber: 17\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3643,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-6 text-2xl\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"https://www.youtube.com/channel/Lydia&Crim\",\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              \"aria-label\": \"YouTube\",\n              className: \"hover:text-gray-200 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fab fa-youtube\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3660,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3659,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              \"aria-label\": \"Instagram\",\n              className: \"hover:text-gray-200 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fab fa-instagram\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3663,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3662,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              \"aria-label\": \"TikTok\",\n              className: \"hover:text-gray-200 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fab fa-tiktok\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3666,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3665,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3657,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3642,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-sm mt-6 text-gray-200 flex items-center justify-center space-x-2\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\xA9 \", new Date().getFullYear(), \" WyshDrop. All rights reserved.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3671,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3670,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3641,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @import url('https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap');\n        .font-handwritten {\n          font-family: 'Permanent Marker', cursive;\n        }\n        .font-inter {\n          font-family: 'Inter', sans-serif;\n        }\n        /* Custom scrollbar for product sections */\n        .custom-scrollbar::-webkit-scrollbar {\n          height: 8px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-track {\n          background: #f1f1f1;\n          border-radius: 10px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb {\n          background: transparent; /* Made transparent by default */\n          border-radius: 10px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n          background: var(--border-color); /* Show on hover */\n        }\n        /* Custom scrollbar for horizontal category bar */\n        .custom-scrollbar-horizontal::-webkit-scrollbar {\n          height: 6px;\n        }\n        .custom-scrollbar-horizontal::-webkit-scrollbar-track {\n          background: #f1f1f1;\n          border-radius: 3px;\n        }\n        .custom-scrollbar-horizontal::-webkit-scrollbar-thumb {\n          background: transparent; /* Made transparent by default */\n          border-radius: 3px;\n        }\n        .custom-scrollbar-horizontal::-webkit-scrollbar-thumb:hover {\n          background: var(--primary-color); /* Show on hover */\n        }\n        /* Line clamp for comments */\n        .line-clamp-3 {\n          display: -webkit-box;\n          -webkit-line-clamp: 3;\n          -webkit-box-orient: vertical;\n          overflow: hidden;\n        }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3678,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 3243,\n    columnNumber: 5\n  }, this);\n};\n_s13(App, \"kGhAmOcHPXnLgP2XXedQc6eMm2I=\");\n_c19 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19;\n$RefreshReg$(_c, \"ProductSection\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"HomeContent\");\n$RefreshReg$(_c4, \"QuizModal\");\n$RefreshReg$(_c5, \"SearchPage\");\n$RefreshReg$(_c6, \"BookmarksPage\");\n$RefreshReg$(_c7, \"SettingsPage\");\n$RefreshReg$(_c8, \"FeedbackModal\");\n$RefreshReg$(_c9, \"ProfilePage\");\n$RefreshReg$(_c0, \"GenericPage\");\n$RefreshReg$(_c1, \"SubcategoryPage\");\n$RefreshReg$(_c10, \"CategoryPage\");\n$RefreshReg$(_c11, \"HintModal\");\n$RefreshReg$(_c12, \"ConfirmationModal\");\n$RefreshReg$(_c13, \"ProductDetailPage\");\n$RefreshReg$(_c14, \"RecommendedPage\");\n$RefreshReg$(_c15, \"CoverPage\");\n$RefreshReg$(_c16, \"TermsAndConditionsPage\");\n$RefreshReg$(_c17, \"WishlistSuccessPopup\");\n$RefreshReg$(_c18, \"CreateAccountPage\");\n$RefreshReg$(_c19, \"App\");","map":{"version":3,"names":["React","useRef","useState","useEffect","useCallback","createClient","jsxDEV","_jsxDEV","Fragment","_Fragment","supabaseUrl","supabaseAnonKey","supabase","console","error","playSound","playerRef","soundType","soundSettings","player","current","window","Tone","warn","isAllSoundEnabled","isClickSoundEnabled","isScrollSoundEnabled","isPageTransitionSoundEnabled","context","state","start","then","log","loaded","url","catch","e","debounce","func","delay","timeout","args","clearTimeout","setTimeout","apply","ProductSection","title","onSeeMoreClick","onProductClick","onAddProductToWishlist","clickSoundRef","_s","scrollRef","showLeftArrow","setShowLeftArrow","showRightArrow","setShowRightArrow","products","setProducts","isLoading","setIsLoading","scrollAmount","fetchProducts","query","from","select","order","ascending","limit","eq","data","checkScrollArrows","scrollLeft","scrollWidth","clientWidth","currentRef","addEventListener","removeEventListener","handleScrollLeft","scrollBy","left","behavior","handleScrollRight","className","children","fileName","_jsxFileName","lineNumber","columnNumber","href","onClick","preventDefault","ref","length","map","product","src","image_url","alt","name","onError","target","replace","price","amazon_link","rel","id","_c","Header","toggleSidebar","onSearchClick","onBookmarkClick","onSettingsClick","onProfileClick","onBack","currentPage","onWyshDropClick","isHeaderVisible","toggleHeaderVisibility","user","onQuizMeClick","onDonateClick","onFeedbackClick","onSignInClick","onSignUpClick","_s2","showProfileDropdown","setShowProfileDropdown","onMouseEnter","onMouseLeave","username","isLoggedIn","email","_c2","HomeContent","onDiscoverClick","onAboutUsClick","_s3","purposeBanners","currentBannerIndex","setCurrentBannerIndex","interval","setInterval","prevIndex","clearInterval","_c3","QuizModal","isOpen","onClose","onQuizComplete","_s4","_answers$currentQuest","_answers$currentQuest2","currentQuestionIndex","setCurrentQuestionIndex","answers","setAnswers","quizResults","setQuizResults","questions","text","type","options","otherPlaceholder","placeholder","handleAnswerChange","questionId","value","isOtherInput","prev","newAnswer","handleNext","currentQuestion","currentAnswer","trim","alert","handleSubmitQuiz","prompt","Object","keys","forEach","key","questionText","find","q","answerValue","chatHistory","push","role","parts","payload","contents","apiKey","apiUrl","response","fetch","method","headers","body","JSON","stringify","result","json","candidates","content","updateError","update","has_taken_quiz","quiz_answers","updated_at","Date","toISOString","message","currentAnswerValue","currentAnswerType","isNextDisabled","stopPropagation","onChange","option","checked","disabled","_c4","SearchPage","handleCategoryClick","_s5","searchTerm","setSearchTerm","showCategoryDropdown","setShowCategoryDropdown","hoveredCategory","setHoveredCategory","selectedBudget","setSelectedBudget","categoriesData","icon","subcategories","budgetOptions","handleBudgetChange","budget","category","sub","idx","_c5","BookmarksPage","bookmarkedProducts","_c6","SettingsPage","applyPalette","colorPalettes","isDarkMode","toggleDarkMode","setSoundSettings","_s6","hexInput","setHexInput","rootStyle","getComputedStyle","document","documentElement","getPropertyValue","handleHexChange","applyHexColor","test","style","setProperty","handleSoundToggle","newState","newIndividualState","anyIndividualEnabled","palette","backgroundColor","dark","mainBg","light","border","htmlFor","_c7","FeedbackModal","onSubmit","onSkip","purpose","_s7","feedback","setFeedback","modalTitle","textareaPlaceholder","submitButtonText","rows","_c8","ProfilePage","onSignOut","giftingContacts","setGiftingContacts","_s8","profileImage","setProfileImage","profile_image_url","isFeedbackModalOpen","setIsFeedbackModalOpen","newContactName","setNewContactName","newContactEmail","setNewContactEmail","showAddContactForm","setShowAddContactForm","recentBookmarks","recommendedProducts","handleImageUpload","event","file","files","reader","FileReader","onloadend","readAsDataURL","handleSaveChanges","single","handleDeleteAccount","handleFeedbackSubmit","authError","auth","admin","deleteUser","handleFeedbackSkip","handleAddContact","insert","user_id","contact_name","contact_email","created_at","accept","item","contact","_c9","GenericPage","dangerouslySetInnerHTML","__html","_c0","SubcategoryPage","subcategoryName","_s9","subcategoryProducts","setSubcategoryProducts","fetchSubcategoryProducts","_c1","CategoryPage","categoryName","getSubcategories","index","_c10","HintModal","_s0","selectedContacts","setSelectedContacts","agreedToTerms","setAgreedToTerms","handleContactToggle","contactId","includes","filter","handleSendHint","contactsToSend","_c11","ConfirmationModal","onConfirm","_c12","ProductDetailPage","onHintClick","setBookmarkedProducts","_s1","productComments","setProductComments","newCommentText","setNewCommentText","expandedComments","setExpandedComments","showDeleteConfirmModal","setShowDeleteConfirmModal","commentToDeleteId","setCommentToDeleteId","fetchComments","comment","profiles","toggleCommentExpansion","commentId","isBookmarked","some","handleBookmarkToggle","delete","product_id","added_at","handleGiftClick","handleSubmitComment","comment_text","prevComments","handleDeleteCommentClick","confirmDeleteComment","Array","_","i","toFixed","description","rating","Math","floor","random","comments","recProduct","_c13","RecommendedPage","hasTakenQuiz","_s10","setRecommendedProducts","fetchRecommendedProducts","profile","profileError","quizAnswers","handleTakeQuizPrompt","_c14","CoverPage","onGuestSignIn","onTermsAndConditionsClick","onSocialSignIn","isTransitioningOut","showApiKeyError","onCreateAccountClick","_s11","_c15","TermsAndConditionsPage","_c16","WishlistSuccessPopup","isVisible","productName","onCheckBookmarks","transform","_c17","CreateAccountPage","onCreateAccount","onBackToSignIn","_s12","setEmail","firstName","setFirstName","lastName","setLastName","setUsername","password","setPassword","handleSubmit","signUp","first_name","last_name","required","_c18","App","_s13","isSidebarOpen","setIsSidebarOpen","setCurrentPage","currentCategory","setCurrentCategory","currentSubcategory","setCurrentSubcategory","setUser","setHasTakenQuiz","isGeneralFeedbackModalOpen","setIsGeneralFeedbackModalOpen","setIsHeaderVisible","lastScrollY","setLastScrollY","selectedProduct","setSelectedProduct","isCoverPageTransitioningOut","setIsCoverPageTransitioningOut","setShowApiKeyError","showQuizModal","setShowQuizModal","showQuizPromptModal","setShowQuizPromptModal","showWishlistSuccessPopup","setShowWishlistSuccessPopup","wishlistPopupProductName","setWishlistPopupProductName","showHintModal","setShowHintModal","scrollSoundRef","pageTransitionSoundRef","script","createElement","async","onload","Player","onerror","toDestination","appendChild","dispose","contains","removeChild","currentMainBgColor","setCurrentMainBgColor","currentPrimaryColor","setCurrentPrimaryColor","currentBorderColor","setCurrentBorderColor","currentBoxBgColor","setCurrentBoxBgColor","currentButtonBgColor","setCurrentButtonBgColor","currentFooterBgColor","setCurrentFooterBgColor","setIsDarkMode","primary","boxBg","buttonBg","footerBg","selectedColors","prevMode","newMode","currentPaletteData","p","categories","handleSearchClick","handleBookmarkClick","handleSettingsClick","handleProfileClick","handleBack","handleDonateClick","handleRecommendedClick","handleSubcategoryClick","subcategory","handleProductClick","handleWyshDropClick","handleSidebarNavigation","pageName","handleGeneralFeedbackSubmit","handleShowWishlistSuccess","handleAddProductToWishlist","isAlreadyBookmarked","handleHintClick","handleScroll","currentScrollY","scrollY","abs","fetchUserSpecificData","userId","wishlistData","wishlistError","contactsData","contactsError","authListener","onAuthStateChange","session","_session$user$user_me","_session$user$user_me2","_session$user$email","_profile","_profile2","_profile3","_session$user$user_me6","_profile4","userEmail","userName","user_metadata","full_name","split","code","_session$user$user_me3","_session$user$user_me4","_session$user$user_me5","newProfile","insertError","avatar_url","getSession","_session$user$user_me7","_session$user$user_me8","_session$user$email2","_session$user$user_me9","subscription","unsubscribe","handleGuestSignIn","handleCoverSignInClick","handleSocialSignIn","providerName","signInWithOAuth","provider","redirectTo","location","origin","handleSignOut","signOut","handleTermsAndConditionsClick","handleQuizComplete","handleCreateAccount","accountDetails","color","getFullYear","_c19","$RefreshReg$"],"sources":["/Users/katarinaking/GiftWebsite/src/App.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect, useCallback } from 'react';\nimport { createClient } from '@supabase/supabase-js';\n\n// Supabase Configuration\n// IMPORTANT: Replace these with your actual Supabase project URL and public anon key\nconst supabaseUrl = 'https://nemluxhhfwegfpffpike.supabase.co'; // e.g., https://abcdefghijk.supabase.co\nconst supabaseAnonKey = 'sb_publishable_79L65b4HcHd9BvczzVU0xQ_BhsXsDgS'; // e.g., eyJhbGciOiJIUzI1NiI...\n\nconst supabase = createClient(supabaseUrl, supabaseAnonKey);\n\nif (supabaseUrl === 'YOUR_SUPABASE_URL' || supabaseAnonKey === 'YOUR_SUPABASE_ANON_KEY') {\n  console.error(\n    \"************************************************************************************************************************\\n\" +\n    \"SUPABASE CONFIGURATION ERROR: Your Supabase URL or Anon Key appears to be empty/placeholder.\\n\" +\n    \"Please replace the placeholder values in `supabaseUrl` and `supabaseAnonKey` with your ACTUAL project credentials from the Supabase Dashboard.\\n\" +\n    \"Go to Supabase Dashboard -> Project settings -> API to find these details.\\n\" +\n    \"Without correct credentials, Supabase authentication and database interactions will NOT work.\\n\" +\n    \"************************************************************************************************************************\"\n  );\n}\n\nconst playSound = (playerRef, soundType, soundSettings) => {\n  const player = playerRef.current;\n  if (typeof window.Tone === 'undefined' || !player) {\n    console.warn(`Cannot play sound. Tone.js is not defined or player is null for ${soundType}.`);\n    return;\n  }\n\n  const { isAllSoundEnabled, isClickSoundEnabled, isScrollSoundEnabled, isPageTransitionSoundEnabled } = soundSettings;\n\n  if (!isAllSoundEnabled) {\n    return; // Do not play any sound if master toggle is off\n  }\n\n  // Check individual sound type settings\n  if (soundType === 'click' && !isClickSoundEnabled) return;\n  if (soundType === 'scroll' && !isScrollSoundEnabled) return;\n  if (soundType === 'pageTransition' && !isPageTransitionSoundEnabled) return;\n\n  if (window.Tone.context.state !== 'running') {\n    window.Tone.start().then(() => {\n      console.log('Tone.js audio context started.');\n      if (player.loaded) {\n        player.start();\n      } else {\n        console.warn(`Sound not loaded yet for ${soundType}:`, player.url);\n      }\n    }).catch(e => console.error(\"Error starting Tone.js audio context:\", e));\n  } else {\n    if (player.loaded) {\n      player.start();\n    } else {\n      console.warn(`Sound not loaded yet for ${soundType}:`, player.url);\n    }\n  }\n};\n\n// Debounce function for scroll sound\nconst debounce = (func, delay) => {\n  let timeout;\n  return function(...args) {\n    const context = this;\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func.apply(context, args), delay);\n  };\n};\n\n// Reusable ProductSection Component (used on Home page and Category pages)\nconst ProductSection = ({ title, onSeeMoreClick, onProductClick, onAddProductToWishlist, soundSettings, clickSoundRef }) => {\n  const scrollRef = useRef(null);\n  const [showLeftArrow, setShowLeftArrow] = useState(false);\n  const [showRightArrow, setShowRightArrow] = useState(true);\n  const [products, setProducts] = useState([]); // State for products fetched from Supabase\n  const [isLoading, setIsLoading] = useState(true); // Loading state for products\n  const scrollAmount = 300; // Pixels to scroll\n\n  // Fetch products from Supabase based on the section title\n  useEffect(() => {\n    const fetchProducts = async () => {\n      setIsLoading(true);\n      let query = supabase.from('products').select('*');\n\n      // Implement filtering/ordering based on the section title\n      if (title === \"TRENDING\") {\n        query = query.order('created_at', { ascending: false }).limit(10); // Example: newest 10 products\n      } else if (title === \"Popular / Most Searched Items\" || title === \"Recommended for You\") {\n        query = query.order('rating', { ascending: false }).limit(10); // Example: highest rated\n      } else {\n        query = query.eq('category', title).limit(10); // Filter by category name\n      }\n\n      const { data, error } = await query;\n\n      if (error) {\n        console.error(`Error fetching products for ${title}:`, error);\n      } else {\n        setProducts(data);\n      }\n      setIsLoading(false);\n    };\n\n    fetchProducts();\n  }, [title]); // Re-fetch when the section title changes\n\n  const checkScrollArrows = useCallback(() => {\n    if (scrollRef.current) {\n      const { scrollLeft, scrollWidth, clientWidth } = scrollRef.current;\n      setShowLeftArrow(scrollLeft > 0);\n      setShowRightArrow(scrollLeft + clientWidth < scrollWidth);\n    }\n  }, []);\n\n  useEffect(() => {\n    checkScrollArrows(); // Check on mount\n    const currentRef = scrollRef.current;\n    if (currentRef) {\n      currentRef.addEventListener('scroll', checkScrollArrows);\n      window.addEventListener('resize', checkScrollArrows); // Recheck on resize\n    }\n    return () => {\n      if (currentRef) {\n        currentRef.removeEventListener('scroll', checkScrollArrows);\n      }\n      window.removeEventListener('resize', checkScrollArrows);\n    };\n  }, [checkScrollArrows]);\n\n\n  const handleScrollLeft = () => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollBy({ left: -scrollAmount, behavior: 'smooth' });\n      playSound(clickSoundRef, 'click', soundSettings); // Play click sound for scrolling\n    }\n  };\n\n  const handleScrollRight = () => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollBy({ left: scrollAmount, behavior: 'smooth' });\n      playSound(clickSoundRef, 'click', soundSettings); // Play click sound for scrolling\n    }\n  };\n\n  return (\n    <section className=\"mb-12 relative\"> {/* Increased margin-bottom for more space between sections */}\n      <div className=\"flex justify-between items-center mb-4 ml-4 md:ml-12\"> {/* Adjusted margin */}\n        {/* Formal font for section titles */}\n        <h2 className=\"text-3xl font-bold text-[var(--primary-color)]\">{title}</h2>\n        {/* See More link */}\n        <a href=\"#\" onClick={(e) => { e.preventDefault(); onSeeMoreClick(title); playSound(clickSoundRef, 'click', soundSettings); }} className=\"text-sm text-[var(--primary-color)] hover:underline mr-4 md:mr-12 flex items-center space-x-1 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"> {/* Added animation */}\n          <span>See More</span>\n        </a>\n      </div>\n      {/* Increased padding-bottom to pb-16 to ensure \"Add to Wyshlist\" button is fully visible */}\n      <div ref={scrollRef} className=\"flex overflow-x-auto overflow-y-hidden pb-16 space-x-4 custom-scrollbar px-4 md:px-12\">\n        {/* Product Image Cards */}\n        <div className=\"flex space-x-4\"> {/* Added a wrapper div for consistent spacing */}\n          <div className=\"flex space-x-4\"> {/* Added a wrapper div for consistent spacing */}\n            {isLoading ? (\n              <div className=\"text-[var(--primary-color)] text-center py-4 w-full\">Loading products...</div>\n            ) : products.length > 0 ? (\n              products.map((product) => (\n                <div key={product.id} className=\"flex-shrink-0 w-56 h-80 bg-[var(--box-bg-color)] rounded-lg shadow-md border-2 border-[var(--border-color)] flex flex-col items-center justify-between p-2 cursor-pointer transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">\n                  {/* Product image with adjusted height */}\n                  <div className=\"w-48 h-56 bg-[var(--main-bg-color)] rounded-md flex flex-col items-center justify-center text-[var(--primary-color)] text-lg relative mb-2\"\n                    onClick={() => { onProductClick(product); playSound(clickSoundRef, 'click', soundSettings); }}> {/* Adjusted padding and card size */}\n                    <img src={product.image_url} alt={product.name} className=\"w-full h-full object-cover rounded-md\" onError={(e) => e.target.src = `https://placehold.co/240x280/D3A173/FFFFFF?text=${product.name.replace(/\\s/g, '+')}`} />\n                    {/* Price inside the image box */}\n                    <p className=\"absolute bottom-2 text-white bg-black bg-opacity-50 px-2 py-1 rounded-md text-sm\">${product.price}</p>\n                  </div>\n                  <h3 className=\"text-lg font-semibold text-[var(--primary-color)] text-center mb-2\">{product.name}</h3> {/* Reduced margin-bottom here */}\n                  <div className=\"flex flex-col space-y-3 w-full px-2\"> {/* Increased space-y from 2 to 3 */}\n                    <button\n                      onClick={() => { onAddProductToWishlist(product); playSound(clickSoundRef, 'click', soundSettings); }}\n                      className=\"px-4 py-2 bg-gray-500 text-white rounded-md shadow-md hover:bg-gray-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 w-full\">\n                      Add to Wyshlist\n                    </button>\n                    <a\n                      href={product.amazon_link}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      onClick={() => playSound(clickSoundRef, 'click', soundSettings)}\n                      className=\"px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 text-center w-full\"\n                    >\n                      Go Buy <i className=\"fas fa-external-link-alt ml-1\"></i>\n                    </a>\n                  </div>\n                </div>\n              ))\n            ) : (\n              <div className=\"text-[var(--primary-color)] text-center py-4 w-full\">No products found for this section.</div>\n            )}\n          </div>\n        </div>\n      </div>\n      {showLeftArrow && (\n        <button\n          onClick={handleScrollLeft}\n          className=\"absolute left-4 md:left-12 top-1/2 -translate-y-1/2 bg-[var(--box-bg-color)] rounded-full p-2 shadow-md hover:bg-gray-100 focus:outline-none transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n          aria-label={`Scroll left for ${title} section`}\n        >\n          <i className=\"fas fa-arrow-left text-3xl text-[var(--primary-color)]\"></i>\n        </button>\n      )}\n      {showRightArrow && (\n        <button\n          onClick={handleScrollRight}\n          className=\"absolute right-4 md:right-12 top-1/2 -translate-y-1/2 bg-[var(--box-bg-color)] rounded-full p-2 shadow-md hover:bg-gray-100 focus:outline-none transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n          aria-label={`Scroll right for ${title} section`}\n        >\n          <i className=\"fas fa-arrow-right text-3xl text-[var(--primary-color)]\"></i>\n        </button>\n      )}\n    </section>\n  );\n};\n\n// Reusable Header Component\nconst Header = ({ toggleSidebar, onSearchClick, onBookmarkClick, onSettingsClick, onProfileClick, onBack, currentPage, onWyshDropClick, isHeaderVisible, toggleHeaderVisibility, user, onQuizMeClick, onDonateClick, onFeedbackClick, onSignInClick, onSignUpClick, soundSettings, clickSoundRef }) => {\n  const [showProfileDropdown, setShowProfileDropdown] = useState(false);\n\n  return (\n    <header className={`w-full bg-[var(--box-bg-color)] p-4 flex justify-between items-center shadow-sm rounded-b-xl transition-transform duration-300 ${isHeaderVisible ? 'translate-y-0' : '-translate-y-full'} fixed top-0 left-0 z-30`}>\n      <div className=\"flex items-center space-x-4\">\n        {/* Back Button (conditionally rendered for search/bookmarks/settings/profile/category pages) */}\n        {(currentPage !== 'home' && currentPage !== 'cover' && currentPage !== 'create-account') && (\n          <button\n            onClick={() => { onBack(); playSound(clickSoundRef, 'click', soundSettings); }}\n            aria-label=\"Go back\"\n            className=\"text-[var(--primary-color)] hover:text-gray-700 focus:outline-none transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n          >\n            <i className=\"fas fa-arrow-left text-xl\"></i>\n          </button>\n        )}\n        {/* Menu Button (always rendered now) */}\n        <button\n          onClick={() => { toggleSidebar(); playSound(clickSoundRef, 'click', soundSettings); }}\n          aria-label=\"Open menu\"\n          className=\"text-[var(--primary-color)] hover:text-gray-700 focus:outline-none transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n        >\n          <i className=\"fas fa-bars text-xl\"></i>\n        </button>\n        {/* WyshDrop Logo/Text - Now links to home */}\n        <div className=\"flex items-center space-x-2 cursor-pointer transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\" onClick={() => { onWyshDropClick(); playSound(clickSoundRef, 'click', soundSettings); }}>\n          {/* Use an <img> tag for the logo. Ensure this is a transparent PNG for best results. */}\n          <img src=\"https://placehold.co/40x40/transparent/9A6E45?text=Logo\" alt=\"WyshDrop Logo\" className=\"h-10 w-10 object-contain\" />\n          <h1 className=\"text-3xl font-handwritten text-[var(--primary-color)] flex items-center space-x-1\">\n            <span>WyshDrop</span>\n          </h1>\n        </div>\n      </div>\n      <nav className=\"flex space-x-6\">\n        {/* Search Icon */}\n        <button aria-label=\"Search\" className=\"text-[var(--primary-color)] hover:text-gray-700 focus:outline-none transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\" onClick={() => { onSearchClick(); playSound(clickSoundRef, 'click', soundSettings); }}>\n          <i className=\"fas fa-search text-xl\"></i>\n        </button>\n        {/* Saved Items Icon */}\n        <button aria-label=\"Saved Items\" className=\"text-[var(--primary-color)] hover:text-gray-700 focus:outline-none transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\" onClick={() => { onBookmarkClick(); playSound(clickSoundRef, 'click', soundSettings); }}>\n          <i className=\"fas fa-bookmark text-xl\"></i>\n        </button>\n        {/* Settings Icon */}\n        <button aria-label=\"Settings\" className=\"text-[var(--primary-color)] hover:text-gray-700 focus:outline-none transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\" onClick={() => { onSettingsClick(); playSound(clickSoundRef, 'click', soundSettings); }}>\n          <i className=\"fas fa-cog text-xl\"></i>\n        </button>\n        {/* User Profile Icon with Dropdown */}\n        <div className=\"relative\" onMouseEnter={() => setShowProfileDropdown(true)} onMouseLeave={() => setShowProfileDropdown(false)}>\n          <button aria-label=\"User Profile\" className=\"text-[var(--primary-color)] hover:text-gray-700 focus:outline-none transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\" onClick={() => { onProfileClick(); playSound(clickSoundRef, 'click', soundSettings); }}>\n            <i className=\"fas fa-user-circle text-xl\"></i>\n            <span className=\"ml-2 text-sm hidden md:inline\">{user.username || 'Guest'}</span>\n          </button>\n          {showProfileDropdown && (\n            <div className=\"absolute right-0 mt-2 w-48 bg-[var(--box-bg-color)] rounded-md shadow-lg py-1 z-10 border border-[var(--border-color)]\">\n              {user.isLoggedIn ? (\n                <>\n                  <div className=\"px-4 py-2 text-sm text-[var(--primary-color)] border-b border-[var(--border-color)]\">\n                    <p className=\"font-semibold\">{user.username}</p>\n                    <p className=\"text-xs text-gray-500\">{user.email}</p>\n                  </div>\n                  <button onClick={() => { onProfileClick(); playSound(clickSoundRef, 'click', soundSettings); }} className=\"block w-full text-left px-4 py-2 text-sm text-[var(--primary-color)] hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">Go to Profile</button> {/* New option */}\n                  <button onClick={() => { onQuizMeClick(); playSound(clickSoundRef, 'click', soundSettings); }} className=\"block w-full text-left px-4 py-2 text-sm text-[var(--primary-color)] hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">Quiz Me ✨</button>\n                  <button onClick={() => { onDonateClick(); playSound(clickSoundRef, 'click', soundSettings); }} className=\"block w-full text-left px-4 py-2 text-sm text-[var(--primary-color)] hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">Donate</button>\n                  <button onClick={() => { onFeedbackClick(); playSound(clickSoundRef, 'click', soundSettings); }} className=\"block w-full text-left px-4 py-2 text-sm text-[var(--primary-color)] hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">Feedback</button>\n                </>\n              ) : (\n                <>\n                  <div className=\"px-4 py-2 text-sm text-[var(--primary-color)] border-b border-[var(--border-color)]\">\n                    <p className=\"font-semibold\">Guest User</p>\n                    <p className=\"text-xs text-gray-500\">Sign in for full features!</p>\n                  </div>\n                  <button onClick={() => { onSignInClick(); playSound(clickSoundRef, 'click', soundSettings); }} className=\"block w-full text-left px-4 py-2 text-sm text-[var(--primary-color)] hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">Sign In</button>\n                  <button onClick={() => { onSignUpClick(); playSound(clickSoundRef, 'click', soundSettings); }} className=\"block w-full text-left px-4 py-2 text-sm text-[var(--primary-color)] hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">Sign Up</button>\n                </>\n              )}\n            </div>\n          )}\n        </div>\n        {/* Hide/Show Header Button */}\n        {currentPage === 'home' && ( // Only show on home page for now\n          <button\n            onClick={() => { toggleHeaderVisibility(); playSound(clickSoundRef, 'click', soundSettings); }}\n            aria-label={isHeaderVisible ? \"Hide header\" : \"Show header\"}\n            className=\"text-[var(--primary-color)] hover:text-gray-700 focus:outline-none ml-4 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n          >\n            <i className={`fas ${isHeaderVisible ? 'fa-chevron-up' : 'fa-chevron-down'} text-xl`}></i>\n          </button>\n        )}\n      </nav>\n    </header>\n  );\n};\n\n// Home Content Component\nconst HomeContent = ({ onSeeMoreClick, onDiscoverClick, isLoggedIn, onAboutUsClick, onProductClick, onAddProductToWishlist, soundSettings, clickSoundRef }) => { // Added onProductClick prop\n  const purposeBanners = [\n    \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Our+Purpose+Banner+1\",\n    \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Our+Purpose+Banner+2\",\n    \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Our+Purpose+Banner+3\",\n  ];\n  const [currentBannerIndex, setCurrentBannerIndex] = useState(0);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCurrentBannerIndex(prevIndex => (prevIndex + 1) % purposeBanners.length);\n    }, 3000); // Change banner every 3 seconds\n\n    return () => clearInterval(interval);\n  }, [purposeBanners.length]);\n\n  return (\n    <>\n      {/* Main Content Area */}\n      {/* Adjusted padding top for fixed header and nav bar */}\n      <main className=\"flex-grow w-full py-12 pt-[130px]\">\n        {/* Welcome Section (only for new users) */}\n        {!isLoggedIn && (\n          <section className=\"w-full bg-[var(--box-bg-color)] py-12 mb-8 rounded-lg shadow-lg border-2 border-[var(--border-color)] text-center px-4 md:px-12\"> {/* Adjusted padding */}\n            <h2 className=\"text-4xl font-bold text-[var(--primary-color)] mb-4\">Your Gifting Journey Starts Here!</h2>\n            <p className=\"text-lg text-[var(--primary-color)] max-w-2xl mx-auto mb-4\">\n              Discover and share the perfect gifts with ease. Create wishlists, get personalized recommendations, and make every occasion memorable.\n            </p>\n            <button\n              onClick={() => { onAboutUsClick(); playSound(clickSoundRef, 'click', soundSettings); }}\n              className=\"px-6 py-3 bg-[var(--button-bg-color)] text-white font-bold rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n            >\n              Learn More About WyshDrop\n            </button>\n          </section>\n        )}\n\n\n        {/* Animation on Our Purpose Section - Now fills the whole banner */}\n        {/* Changed to h-0 pb-[33.33%] for responsive aspect ratio, object-contain for image */}\n        <section className=\"w-full h-0 pb-[33.33%] mb-8 rounded-lg shadow-lg border-2 border-[var(--border-color)] overflow-hidden relative\">\n          <img\n            src={purposeBanners[currentBannerIndex]}\n            alt=\"WyshDrop Mission Banner\"\n            className=\"absolute inset-0 w-full h-full object-contain rounded-lg transition-opacity duration-1000\" // Added transition\n            onError={(e) => e.target.src = \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Image+Load+Error\"} // Fallback image\n          />\n        </section>\n\n        {/* All other sections now need horizontal padding */}\n        <div className=\"w-full mx-auto\"> {/* Adjusted margins to be smaller */}\n          {/* Trending Section */}\n          <ProductSection title=\"TRENDING\" onSeeMoreClick={onSeeMoreClick} onProductClick={onProductClick} onAddProductToWishlist={onAddProductToWishlist} soundSettings={soundSettings} clickSoundRef={clickSoundRef} />\n\n          {/* New Sections */}\n          <ProductSection title=\"Books\" onSeeMoreClick={onSeeMoreClick} onProductClick={onProductClick} onAddProductToWishlist={onAddProductToWishlist} soundSettings={soundSettings} clickSoundRef={clickSoundRef} />\n          <ProductSection title=\"Accessories\" onSeeMoreClick={onSeeMoreClick} onProductClick={onProductClick} onAddProductToWishlist={onAddProductToWishlist} soundSettings={soundSettings} clickSoundRef={clickSoundRef} />\n          <ProductSection title=\"DIY/Art\" onSeeMoreClick={onSeeMoreClick} onProductClick={onProductClick} onAddProductToWishlist={onAddProductToWishlist} soundSettings={soundSettings} clickSoundRef={clickSoundRef} />\n          <ProductSection title=\"Tech\" onSeeMoreClick={onSeeMoreClick} onProductClick={onProductClick} onAddProductToWishlist={onAddProductToWishlist} soundSettings={soundSettings} clickSoundRef={clickSoundRef} />\n          <ProductSection title=\"Cups/Drinks\" onSeeMoreClick={onSeeMoreClick} onProductClick={onProductClick} onAddProductToWishlist={onAddProductToWishlist} soundSettings={soundSettings} clickSoundRef={clickSoundRef} />\n          <ProductSection title=\"Stationary\" onSeeMoreClick={onSeeMoreClick} onProductClick={onProductClick} onAddProductToWishlist={onAddProductToWishlist} soundSettings={soundSettings} clickSoundRef={clickSoundRef} />\n          <ProductSection title=\"Music\" onSeeMoreClick={onSeeMoreClick} onProductClick={onProductClick} onAddProductToWishlist={onAddProductToWishlist} soundSettings={soundSettings} clickSoundRef={clickSoundRef} />\n          <ProductSection title=\"Figurines / Plushies\" onSeeMoreClick={onSeeMoreClick} onProductClick={onProductClick} onAddProductToWishlist={onAddProductToWishlist} soundSettings={soundSettings} clickSoundRef={clickSoundRef} />\n\n          {/* Discover Section */}\n          <section className=\"relative flex flex-col items-center justify-center py-12 bg-[var(--main-bg-color)] rounded-lg shadow-inner border-2 border-[var(--border-color)] mx-4 md:mx-12\"> {/* Adjusted padding and margin */}\n            <p className=\"text-[var(--primary-color)] text-lg mb-4 text-center\">You reached the end of this page &hearts;&hearts;&hearts;</p>\n            <button\n              onClick={() => { onDiscoverClick(); playSound(clickSoundRef, 'click', soundSettings); }} // Added onClick to navigate to search page\n              className=\"relative px-8 py-4 bg-[var(--button-bg-color)] text-white text-2xl font-bold rounded-full shadow-lg hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 overflow-hidden\"\n            >\n              <span className=\"relative z-10\">DISCOVER</span>\n              {/* Subtle background effect for the button */}\n              <span className=\"absolute inset-0 bg-gradient-to-r from-[var(--button-bg-color)] to-gray-700 opacity-0 hover:opacity-100 transition-opacity duration-300\"></span>\n            </button>\n          </section>\n        </div>\n      </main>\n    </>\n  );\n};\n\n// Quiz Modal Component\nconst QuizModal = ({ isOpen, onClose, onQuizComplete, soundSettings, clickSoundRef, user }) => { // Added 'user' prop\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [answers, setAnswers] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [quizResults, setQuizResults] = useState('');\n\n  const questions = [\n    {\n      id: 'recipient',\n      text: 'Who are you shopping for?',\n      type: 'radio-with-other',\n      options: ['Friend', 'Family Member', 'Partner', 'Colleague', 'Child'],\n      otherPlaceholder: 'e.g., My neighbor, My pet'\n    },\n    {\n      id: 'occasion',\n      text: 'What is the occasion?',\n      type: 'radio-with-other',\n      options: ['Birthday', 'Anniversary', 'Holiday', 'Graduation', 'Just Because'],\n      otherPlaceholder: 'e.g., Housewarming, Promotion'\n    },\n    {\n      id: 'interests',\n      text: 'What are their main interests or hobbies?',\n      type: 'text', // Keeping as text for free-form input\n      placeholder: 'e.g., Reading, Gaming, Cooking, Art, Outdoors'\n    },\n    {\n      id: 'budget',\n      text: 'What is your approximate budget?',\n      type: 'radio', // Simple radio for budget\n      options: ['Under $25', '$25 - $50', '$50 - $100', 'Over $100']\n    },\n    {\n      id: 'personality',\n      text: 'Describe their personality in a few words:',\n      type: 'text', // Keeping as text for free-form input\n      placeholder: 'e.g., Creative, Adventurous, Cozy, Practical, Humorous'\n    }\n  ];\n\n  useEffect(() => {\n    if (!isOpen) {\n      // Reset state when modal closes\n      setCurrentQuestionIndex(0);\n      setAnswers({});\n      setQuizResults('');\n      setIsLoading(false);\n    }\n  }, [isOpen]);\n\n  const handleAnswerChange = (questionId, value, isOtherInput = false) => {\n    setAnswers(prev => {\n      const newAnswer = { ...prev[questionId] };\n\n      if (isOtherInput) {\n        newAnswer.type = 'other';\n        newAnswer.value = value;\n      } else {\n        newAnswer.type = 'option';\n        newAnswer.value = value;\n      }\n      return { ...prev, [questionId]: newAnswer };\n    });\n  };\n\n  const handleNext = () => {\n    playSound(clickSoundRef, 'click', soundSettings); // Play click sound\n    const currentQuestion = questions[currentQuestionIndex];\n    const currentAnswer = answers[currentQuestion.id];\n\n    if (!currentAnswer || !currentAnswer.value || (currentAnswer.type === 'other' && currentAnswer.value.trim() === '')) {\n      alert(\"Please provide an answer before proceeding.\"); // Simple alert for required answer\n      return;\n    }\n\n    if (currentQuestionIndex < questions.length - 1) {\n      setCurrentQuestionIndex(prev => prev + 1);\n    } else {\n      handleSubmitQuiz();\n    }\n  };\n\n  const handleSubmitQuiz = async () => {\n    setIsLoading(true);\n    setQuizResults(''); // Clear previous results\n\n    // Construct prompt for LLM\n    let prompt = \"Generate 3-5 unique and creative gift ideas based on the following preferences. For each idea, provide a brief reason why it's a good fit. Format the output as a numbered list.\\n\\n\";\n    Object.keys(answers).forEach(key => {\n      const questionText = questions.find(q => q.id === key).text;\n      const answerValue = answers[key].value;\n      prompt += `${questionText}: ${answerValue}\\n`;\n    });\n\n    try {\n      let chatHistory = [];\n      chatHistory.push({ role: \"user\", parts: [{ text: prompt }] });\n      const payload = { contents: chatHistory };\n      const apiKey = \"\"; // API key is intentionally left empty for Canvas to provide at runtime.\n      const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;\n\n      const response = await fetch(apiUrl, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload)\n      });\n\n      const result = await response.json();\n      if (result.candidates && result.candidates.length > 0 &&\n          result.candidates[0].content && result.candidates[0].content.parts &&\n          result.candidates[0].content.parts.length > 0) {\n        const text = result.candidates[0].content.parts[0].text;\n        setQuizResults(text);\n\n        // --- SUPABASE INTEGRATION: Save quiz answers to user profile ---\n        if (user.id) {\n          const { error: updateError } = await supabase\n            .from('profiles')\n            .update({\n              has_taken_quiz: true,\n              quiz_answers: answers, // 'answers' state from the quiz\n              updated_at: new Date().toISOString()\n            })\n            .eq('id', user.id);\n\n          if (updateError) {\n            console.error('Error saving quiz answers to profile:', updateError);\n            alert('Failed to save quiz answers: ' + updateError.message);\n          } else {\n            console.log('Quiz answers saved to profile.');\n            onQuizComplete(answers); // Call parent handler to update hasTakenQuiz state in App.js\n          }\n        } else {\n          onQuizComplete(answers); // Still call parent even if not logged in, for local state update\n        }\n\n      } else {\n        setQuizResults(\"Could not generate gift ideas. Please try again.\");\n      }\n    } catch (error) {\n      console.error(\"Error calling Gemini API or saving quiz:\", error);\n      setQuizResults(\"Failed to generate gift ideas or save quiz. Please check your network connection or try again later.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  const currentQuestion = questions[currentQuestionIndex];\n  const currentAnswerValue = answers[currentQuestion.id]?.value;\n  const currentAnswerType = answers[currentQuestion.id]?.type;\n\n  const isNextDisabled = isLoading ||\n    !currentAnswerValue ||\n    (currentAnswerType === 'other' && currentAnswerValue.trim() === '');\n\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\" onClick={() => { onClose(); playSound(clickSoundRef, 'click', soundSettings); }}> {/* Click outside to close */}\n      <div className=\"bg-[var(--box-bg-color)] p-6 rounded-lg shadow-lg border-2 border-[var(--border-color)] w-full max-w-lg mx-auto flex flex-col max-h-[90vh] overflow-y-auto\" onClick={(e) => e.stopPropagation()}> {/* Prevent click from propagating to overlay */}\n        <h2 className=\"text-2xl font-bold text-[var(--primary-color)] mb-4 text-center\">Gift Idea Quiz ✨</h2>\n\n        {quizResults ? (\n          <div className=\"flex-grow overflow-y-auto custom-scrollbar p-2\">\n            <h3 className=\"text-xl font-semibold text-[var(--primary-color)] mb-3\">Your Personalized Gift Ideas:</h3>\n            <div className=\"prose prose-sm max-w-none text-[var(--primary-color)]\">\n              <p className=\"whitespace-pre-wrap\">{quizResults}</p>\n            </div>\n          </div>\n        ) : (\n          <div className=\"flex-grow flex flex-col\">\n            <p className=\"text-lg text-[var(--primary-color)] mb-4 text-center\">{currentQuestion.text}</p>\n            {currentQuestion.type === 'text' && (\n              <input\n                type=\"text\"\n                className=\"w-full p-3 border border-gray-300 rounded-md mb-4 bg-[var(--main-bg-color)] text-[var(--primary-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]\"\n                placeholder={currentQuestion.placeholder}\n                value={currentAnswerValue || ''}\n                onChange={(e) => handleAnswerChange(currentQuestion.id, e.target.value)}\n              />\n            )}\n            {currentQuestion.type === 'radio' && (\n              <div className=\"flex flex-col space-y-2 mb-4\">\n                {currentQuestion.options.map(option => (\n                  <label key={option} className=\"inline-flex items-center text-[var(--primary-color)]\">\n                    <input\n                      type=\"radio\"\n                      name={currentQuestion.id}\n                      value={option}\n                      checked={currentAnswerValue === option}\n                      onChange={() => handleAnswerChange(currentQuestion.id, option)}\n                      className=\"form-radio text-[var(--primary-color)] h-5 w-5\"\n                    />\n                    <span className=\"ml-2 text-lg\">{option}</span>\n                  </label>\n                ))}\n              </div>\n            )}\n            {currentQuestion.type === 'radio-with-other' && (\n              <div className=\"flex flex-col space-y-2 mb-4\">\n                {currentQuestion.options.map(option => (\n                  <label key={option} className=\"inline-flex items-center text-[var(--primary-color)]\">\n                    <input\n                      type=\"radio\"\n                      name={currentQuestion.id}\n                      value=\"option\"\n                      checked={currentAnswerType === 'option' && currentAnswerValue === option}\n                      onChange={() => handleAnswerChange(currentQuestion.id, option, false)}\n                      className=\"form-radio text-[var(--primary-color)] h-5 w-5\"\n                    />\n                    <span className=\"ml-2 text-lg\">{option}</span>\n                  </label>\n                ))}\n                <label className=\"inline-flex items-center text-[var(--primary-color)]\">\n                  <input\n                    type=\"radio\"\n                    name={currentQuestion.id}\n                    value=\"Other\"\n                    checked={currentAnswerType === 'other'}\n                    onChange={() => handleAnswerChange(currentQuestion.id, '', true)}\n                    className=\"form-radio text-[var(--primary-color)] h-5 w-5\"\n                  />\n                  <span className=\"ml-2 text-lg\">Other:</span>\n                </label>\n                {currentAnswerType === 'other' && (\n                  <input\n                    type=\"text\"\n                    className=\"w-full p-3 border border-gray-300 rounded-md mt-2 bg-[var(--main-bg-color)] text-[var(--primary-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]\"\n                    placeholder={currentQuestion.otherPlaceholder}\n                    value={currentAnswerValue || ''}\n                    onChange={(e) => handleAnswerChange(currentQuestion.id, e.target.value, true)}\n                  />\n                )}\n              </div>\n            )}\n            {isLoading && (\n              <div className=\"text-center text-[var(--primary-color)] my-4\">\n                <i className=\"fas fa-spinner fa-spin mr-2\"></i> Generating ideas...\n              </div>\n            )}\n          </div>\n        )}\n\n        <div className=\"flex justify-between mt-4\">\n          {!quizResults && currentQuestionIndex > 0 && (\n            <button\n              onClick={() => { setCurrentQuestionIndex(prev => prev - 1); playSound(clickSoundRef, 'click', soundSettings); }}\n              className=\"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n            >\n              Previous\n            </button>\n          )}\n          {!quizResults && (\n            <button\n              onClick={handleNext}\n              disabled={isNextDisabled}\n              className={`px-4 py-2 rounded-md transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 ${\n                isNextDisabled\n                  ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                  : 'bg-[var(--button-bg-color)] text-white hover:bg-opacity-90'\n              } ${currentQuestionIndex === questions.length - 1 && !isNextDisabled ? 'mx-auto' : ''}`}\n            >\n              {currentQuestionIndex === questions.length - 1 ? 'Get Ideas ✨' : 'Next'}\n            </button>\n          )}\n          {/* Cancel button for the quiz */}\n          {!quizResults && (\n            <button\n              onClick={() => { onClose(); playSound(clickSoundRef, 'click', soundSettings); }}\n              className=\"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n            >\n              Cancel\n            </button>\n          )}\n          {quizResults && (\n            <button\n              onClick={() => { onClose(); playSound(clickSoundRef, 'click', soundSettings); }}\n              className=\"px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 mx-auto\"\n            >\n              Close\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Search Page Component\nconst SearchPage = ({ handleCategoryClick, onSeeMoreClick, onProductClick, onAddProductToWishlist, onQuizMeClick, soundSettings, clickSoundRef }) => { // Added onProductClick prop\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showCategoryDropdown, setShowCategoryDropdown] = useState(false);\n  const [hoveredCategory, setHoveredCategory] = useState(null);\n  const [selectedBudget, setSelectedBudget] = useState('All'); // New state for budget filter\n\n  const categoriesData = [ // Renamed to avoid conflict with `categories` variable\n    { name: \"Trending\", icon: \"fas fa-fire\", subcategories: [\"What's Hot Now\", \"Viral Picks\", \"New Arrivals\", \"TikTok Trends\", \"Limited Editions\"] },\n    { name: \"Books\", icon: \"fas fa-book\", subcategories: [\"New Arrivals\", \"Bestsellers\", \"Fantasy & Sci-Fi\", \"Romance\", \"YA\", \"Romantacy\", \"Dark Romance\", \"Manga & Graphic Novels\", \"Book Club Picks\", \"Personal Development\", \"DIY books\", \"Non-Fiction\"] },\n    { name: \"Accessories\", icon: \"fas fa-gem\", subcategories: [\"Jewelry\", \"Bags & Totes\", \"Hair Accessories\", \"Tech Accessories\", \"Keychains & Charms\", \"Nails\"] },\n    { name: \"DIY / Art\", icon: \"fas fa-paint-brush\", subcategories: [\"Journaling & Scrapbooking\", \"Painting & Drawing\", \"Crochet & Knitting\", \"Jewelry Making\", \"Customization Kits\", \"Art Tech\", \"2D / 3D DIY\", \"Clay\", \"Legoes\"] },\n    { name: \"Tech\", icon: \"fas fa-laptop\", subcategories: [\"Portable Audio\", \"Photography & Vlogging Gear\", \"Gaming Essentials\", \"Smart Gadgets\", \"Digital Creation Tools\"] },\n    { name: \"Cups / Drinks\", icon: \"fas fa-mug-hot\", subcategories: [\"Tumblers & Water Bottles\", \"Travel Mugs\", \"Coffee & Tea Accessories\", \"Smoothie Cups\", \"Novelty Drinkware\", \"Blenders\"] },\n    { name: \"Stationary\", icon: \"fas fa-pencil-alt\", subcategories: [\"Aesthetic Notebooks & Journals\", \"Pens & Markers\", \"Stickers & Washi Tape\", \"Desk Organizers\", \"School Essentials\", \"Planner Essentials\", \"Chargers\"] },\n    { name: \"Music\", icon: \"fas fa-music\", subcategories: [\"Vinyl & \" + \"CDs\", \"Kpop Merch\", \"All-day project\", \"Hit Artist Artist Merch\", \"Headphones & Earbuds\", \"Portable Speakers\", \"Instruments & Learning\"] },\n    { name: \"Figurines / Plushies\", icon: \"fas fa-teddy-bear\", subcategories: [\"Anime Figurines\", \"Pop Culture Collectibles\", \"Aesthetic Plushies\", \"Blind Boxes & Mystery Packs\", \"Labubu / Skullpanda\", \"Sanrio & Kawaii Characters\"] },\n    { name: \"Gift Cards\", icon: \"fas fa-gift\", subcategories: [\"Digital & Entertainment\", \"Experience & Self-Care\", \"Fashion & Beauty\", \"Food & Drink\"] },\n    { name: \"Blooms\", icon: \"fas fa-seedling\", subcategories: [\"Personalized & Unique\", \"Aesthetic-Driven Bouquets\", \"Cottagecore Chic / Wildflower Blends\", \"Bold Monochromatic / Color Pop Bouquets\", \"Dried & Preserved Arrangements\", \"Textured & Unique Blooms\", \"Miniature & Petite Bouquets\", \"Purpose-Driven Blooms\", \"Mood Booster Bouquets\", \"Self-Care & Zen Bouquets\", \"Celebrating Wins Bouquets\", \"Just Because / Friendship Blooms\", \"Sustainable & Long-Lasting\", \"Potted Plants\"] },\n  ];\n\n  const budgetOptions = ['All', 'Under $25', '$25 - $50', '$50 - $100', 'Over $100'];\n\n  const handleBudgetChange = (budget) => {\n    setSelectedBudget(budget);\n    playSound(clickSoundRef, 'click', soundSettings);\n    // In a real app, you would trigger a product search/filter here\n    console.log(\"Filtering by budget:\", budget);\n  };\n\n\n  return (\n    <div className=\"flex-grow w-full py-4 pt-[130px]\"> {/* Adjusted padding top for fixed header and nav bar */}\n      {/* Search Input Field and Categories Dropdown */}\n      <section className=\"w-full mx-auto px-4 md:px-12 mb-8 mt-4 flex items-center\"> {/* Adjusted padding */}\n        <div className=\"relative flex-grow\"> {/* flex-grow to make input take available space */}\n          <input\n            type=\"text\"\n            placeholder=\"Search WyshDrop...\"\n            className=\"w-full p-3 pl-10 rounded-lg shadow-md border-2 border-[var(--border-color)] bg-[var(--box-bg-color)] text-[var(--primary-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n          />\n          <i className=\"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-[var(--primary-color)]\"></i>\n        </div>\n\n        {/* Categories Dropdown Button (for top-level categories) */}\n        <div className=\"relative ml-4\">\n          <button\n            onClick={() => { setShowCategoryDropdown(!showCategoryDropdown); playSound(clickSoundRef, 'click', soundSettings); }}\n            className=\"px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 flex items-center\"\n          >\n            Categories <i className=\"fas fa-chevron-down ml-2\"></i>\n          </button>\n\n          {showCategoryDropdown && (\n            <div\n              className=\"absolute left-0 mt-2 w-64 bg-[var(--box-bg-color)] rounded-md shadow-lg py-1 z-10 border border-[var(--border-color)]\"\n              onMouseLeave={() => setHoveredCategory(null)}\n            >\n              {categoriesData.map((category) => (\n                <div\n                  key={category.name}\n                  className=\"relative\"\n                  onMouseEnter={() => setHoveredCategory(category.name)}\n                  onMouseLeave={() => setHoveredCategory(null)}\n                >\n                  <button className=\"w-full text-left px-4 py-2 text-sm text-[var(--primary-color)] hover:bg-gray-100 flex justify-between items-center transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">\n                    {category.name}\n                    {category.subcategories && category.subcategories.length > 0 && (\n                      <i className=\"fas fa-chevron-left text-xs ml-auto\"></i>\n                    )}\n                  </button>\n                  {hoveredCategory === category.name && category.subcategories && category.subcategories.length > 0 && (\n                    <div className=\"absolute right-full top-0 mr-2 w-48 bg-[var(--box-bg-color)] rounded-md shadow-lg py-1 z-20 border border-[var(--border-color)]\">\n                      {category.subcategories.map((sub, idx) => (\n                        <a\n                          key={idx}\n                          href=\"#\"\n                          onClick={(e) => { e.preventDefault(); onSeeMoreClick(sub); setShowCategoryDropdown(false); playSound(clickSoundRef, 'click', soundSettings); }}\n                          className=\"block px-4 py-2 text-sm text-[var(--primary-color)] hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n                        >\n                          {sub}\n                        </a>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </section>\n\n      {/* New: Budget Filter Bar */}\n      <section className=\"w-full mx-auto px-4 md:px-12 mb-8\">\n        <h3 className=\"text-xl font-semibold text-[var(--primary-color)] mb-3\">Filter by Budget:</h3>\n        <div className=\"flex flex-wrap gap-3\">\n          {budgetOptions.map((option) => (\n            <button\n              key={option}\n              onClick={() => handleBudgetChange(option)}\n              className={`px-4 py-2 rounded-full shadow-md transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\n                ${selectedBudget === option ? 'bg-[var(--primary-color)] text-white' : 'bg-[var(--box-bg-color)] text-[var(--primary-color)] border border-[var(--border-color)] hover:bg-gray-100'}`}\n            >\n              {option}\n            </button>\n          ))}\n        </div>\n      </section>\n\n      {/* Popular/Most Searched Items Carousel */}\n      <div className=\"w-full mx-auto\"> {/* Adjusted margins */}\n        <ProductSection title=\"Popular / Most Searched Items\" onSeeMoreClick={onSeeMoreClick} onProductClick={onProductClick} onAddProductToWishlist={onAddProductToWishlist} soundSettings={soundSettings} clickSoundRef={clickSoundRef} />\n      </div>\n\n      {/* Existing Category List with Hover Dropdowns and Quiz Me / Recommended Section */}\n      <div className=\"w-full mx-auto px-4 md:px-12 py-12\"> {/* Adjusted padding */}\n        <div className=\"flex flex-col md:flex-row md:space-x-8\">\n          {/* Left Column: Category List */}\n          <div className=\"w-full md:w-1/2 flex flex-col space-y-4 mb-8 md:mb-0\">\n            {categoriesData.map((category) => (\n              <div\n                key={category.name}\n                className=\"relative\" // Keep relative for positioning the dropdown\n                onMouseEnter={() => setHoveredCategory(category.name)}\n                onMouseLeave={() => setHoveredCategory(null)}\n              >\n                <button\n                  className=\"w-full bg-[var(--box-bg-color)] p-4 rounded-lg shadow-md border-2 border-[var(--border-color)] flex items-center space-x-4 hover:bg-gray-50 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n                  onClick={() => playSound(clickSoundRef, 'click', soundSettings)} // Play sound on category button click\n                >\n                  <i className={`${category.icon} text-2xl text-[var(--primary-color)]`}></i>\n                  <span className=\"text-xl font-semibold text-[var(--primary-color)]\">{category.name}</span>\n                  {/* Arrow for subcategories */}\n                  {category.subcategories && category.subcategories.length > 0 && (\n                    <i className=\"fas fa-chevron-down text-xl ml-auto\"></i>\n                  )}\n                </button>\n                {hoveredCategory === category.name && category.subcategories && category.subcategories.length > 0 && (\n                  // Dropdown now appears below and pushes content down\n                  <div className=\"w-full bg-[var(--box-bg-color)] rounded-b-lg shadow-lg py-1 z-10 border-x border-b border-[var(--border-color)]\">\n                    {category.subcategories.map((sub, idx) => (\n                      <a\n                        key={idx}\n                        href=\"#\"\n                        onClick={(e) => { e.preventDefault(); onSeeMoreClick(sub); playSound(clickSoundRef, 'click', soundSettings); }} // Prevent default\n                        className=\"block px-4 py-2 text-sm text-[var(--primary-color)] hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n                      >\n                        {sub}\n                      </a>\n                    ))}\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n\n          {/* Right Column: Quiz Me & Recommended Products */}\n          <div className=\"w-full md:w-1/2 flex flex-col items-center space-y-8\">\n            {/* Quiz Me Section */}\n            <div className=\"flex flex-col items-center text-center mt-8 md:mt-0\"> {/* Adjusted top margin for md breakpoint */}\n              <p className=\"text-3xl font-handwritten text-[var(--primary-color)] mb-2\">QUIZ ME!</p>\n              {/* Placeholder for quiz illustration */}\n              <button\n                onClick={() => { onQuizMeClick(); playSound(clickSoundRef, 'click', soundSettings); }}\n                className=\"w-32 h-32 bg-[var(--button-bg-color)] text-white rounded-full flex items-center justify-center text-lg font-bold shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 group\"\n              >\n                Start Quiz ✨\n              </button>\n            </div>\n            {/* New: Recommendation Product Carousel at the bottom of Quiz Me on Search Page */}\n            <div className=\"w-full mt-8\"> {/* Added margin-top */}\n              <ProductSection title=\"Recommended for You\" onSeeMoreClick={onSeeMoreClick} onProductClick={onProductClick} onAddProductToWishlist={onAddProductToWishlist} soundSettings={soundSettings} clickSoundRef={clickSoundRef} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Bookmarks Page Component\nconst BookmarksPage = ({ bookmarkedProducts, soundSettings, clickSoundRef }) => {\n  return (\n    <div className=\"flex-grow w-full py-4 pt-[130px]\"> {/* Adjusted padding top for fixed header and nav bar */}\n      {/* Banner Image Placeholder - Full width */}\n      {/* Changed to h-0 pb-[33.33%] for responsive aspect ratio, object-contain for image */}\n      <section className=\"w-full h-0 pb-[33.33%] mb-8 rounded-lg shadow-lg border-2 border-[var(--border-color)] relative flex items-center justify-center\">\n        <img\n          src=\"https://placehold.co/1200x400/D3A173/FFFFFF?text=My+Wyshlist+Banner\" // Updated placeholder image\n          alt=\"My Wishlist Banner\"\n          className=\"absolute inset-0 w-full h-full object-contain rounded-lg\"\n          onError={(e) => e.target.src = \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Image+Load+Error\"}\n        />\n        {/* Removed text overlay */}\n      </section>\n\n      {/* Bookmarked Products Grid */}\n      <div className=\"w-full mx-auto px-4 md:px-12 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\"> {/* Adjusted padding */}\n        {bookmarkedProducts.length > 0 ? (\n          bookmarkedProducts.map((product) => (\n            <div key={product.id} className=\"bg-[var(--box-bg-color)] rounded-lg shadow-md border-2 border-[var(--border-color)] p-4 flex flex-col items-center transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">\n              {/* Made image and card bigger */}\n              <img src={product.image_url} alt={product.name} className=\"w-full h-56 object-cover rounded-md mb-4\" onError={(e) => e.target.src = `https://placehold.co/200x200/D3A173/FFFFFF?text=${product.name.replace(/\\s/g, '+')}`} />\n              <h3 className=\"text-xl font-semibold text-[var(--primary-color)] mb-2 text-center\">{product.name}</h3>\n              <p className=\"text-lg text-gray-700 mb-2\">${product.price}</p>\n              <button onClick={() => playSound(clickSoundRef, 'click', soundSettings)} className=\"mt-auto px-6 py-2 bg-[var(--button-bg-color)] text-white font-bold rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">\n                Hint\n              </button>\n            </div>\n          ))\n        ) : (\n          <div className=\"col-span-full text-center text-xl text-[var(--primary-color)] py-12\">\n            Your wishlist is empty! Start adding some amazing products.\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// Settings Page Component\nconst SettingsPage = ({ applyPalette, colorPalettes, isDarkMode, toggleDarkMode, soundSettings, setSoundSettings, clickSoundRef }) => {\n  const [hexInput, setHexInput] = useState(\"\"); // Initialize with empty string or current primary color\n\n  // Update hex input when primary color changes (e.e.g., when switching palettes)\n  useEffect(() => {\n    const rootStyle = getComputedStyle(document.documentElement);\n    setHexInput(rootStyle.getPropertyValue('--primary-color').trim());\n  }, [isDarkMode]); // Only update when dark mode changes, to reflect the current primary color\n\n  const handleHexChange = (e) => {\n    setHexInput(e.target.value);\n  };\n\n  const applyHexColor = () => {\n    playSound(clickSoundRef, 'click', soundSettings); // Play click sound\n    // Basic validation for hex color\n    if (/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(hexInput)) {\n      // Directly set the CSS variable for primary color\n      document.documentElement.style.setProperty('--primary-color', hexInput);\n    } else {\n      alert(\"Invalid hex code. Please use a format like #RRGGBB or #RGB.\");\n    }\n  };\n\n  const handleSoundToggle = (type) => {\n    // Play click sound for toggle itself, but only if all sounds are enabled or if it's the master toggle being turned on\n    if (soundSettings.isAllSoundEnabled || type === 'all') { // Corrected condition for playing sound on master toggle\n      playSound(clickSoundRef, 'click', soundSettings);\n    }\n\n    setSoundSettings(prev => {\n      if (type === 'all') {\n        const newState = !prev.isAllSoundEnabled;\n        return {\n          isAllSoundEnabled: newState,\n          isClickSoundEnabled: newState,\n          isScrollSoundEnabled: newState,\n          isPageTransitionSoundEnabled: newState,\n        };\n      } else {\n        const newIndividualState = {\n          ...prev,\n          [type]: !prev[type],\n        };\n\n        // Determine if 'all' should be enabled based on individual states\n        const anyIndividualEnabled = newIndividualState.isClickSoundEnabled ||\n                                     newIndividualState.isScrollSoundEnabled ||\n                                     newIndividualState.isPageTransitionSoundEnabled;\n\n        return {\n          ...newIndividualState,\n          isAllSoundEnabled: anyIndividualEnabled,\n        };\n      }\n    });\n  };\n\n\n  return (\n    <div className=\"flex-grow w-full py-4 pt-[130px]\"> {/* Adjusted padding top for fixed header and nav bar */}\n      {/* Banner Image Placeholder - Full width */}\n      {/* Changed to h-0 pb-[33.33%] for responsive aspect ratio, object-contain for image */}\n      <section className=\"w-full h-0 pb-[33.33%] mb-8 rounded-lg shadow-lg border-2 border-[var(--border-color)] relative flex items-center justify-center\">\n        <img\n          src=\"https://placehold.co/1200x400/D3A173/FFFFFF?text=Settings+Banner\" // Updated placeholder image\n          alt=\"Settings Banner\"\n          className=\"absolute inset-0 w-full h-full object-contain rounded-lg\"\n          onError={(e) => e.target.src = \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Image+Load+Error\"}\n        />\n        {/* Removed text overlay */}\n      </section>\n\n      <div className=\"w-full mx-auto px-4 md:px-12 py-12 bg-[var(--box-bg-color)] rounded-lg shadow-lg border-2 border-[var(--border-color)]\"> {/* Adjusted padding */}\n        <h2 className=\"text-3xl font-bold text-[var(--primary-color)] mb-6 text-center\">App Settings</h2>\n\n        {/* Dark Mode Toggle */}\n        <div className=\"flex items-center justify-between mb-6 p-4 border-b border-[var(--border-color)]\">\n          <span className=\"text-xl font-semibold text-[var(--primary-color)]\">Dark Mode</span>\n          <label className=\"relative inline-flex items-center cursor-pointer\">\n            <input type=\"checkbox\" value=\"\" className=\"sr-only peer\" checked={isDarkMode} onChange={() => { toggleDarkMode(); playSound(clickSoundRef, 'click', soundSettings); }} />\n            <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-[var(--primary-color)]\"></div>\n          </label>\n        </div>\n\n        {/* Sound Settings */}\n        <div className=\"mb-6 p-4 border-b border-[var(--border-color)]\">\n          <h3 className=\"text-xl font-semibold text-[var(--primary-color)] mb-4\">Sound Settings</h3>\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-lg text-[var(--primary-color)]\">Enable All Sounds</span>\n              <label className=\"relative inline-flex items-center cursor-pointer\">\n                <input type=\"checkbox\" className=\"sr-only peer\" checked={soundSettings.isAllSoundEnabled} onChange={() => handleSoundToggle('all')} />\n                <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-[var(--primary-color)]\"></div>\n              </label>\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-lg text-[var(--primary-color)]\">Click Sound</span>\n              <label className=\"relative inline-flex items-center cursor-pointer\">\n                <input type=\"checkbox\" className=\"sr-only peer\" checked={soundSettings.isClickSoundEnabled} onChange={() => handleSoundToggle('isClickSoundEnabled')} disabled={!soundSettings.isAllSoundEnabled && !soundSettings.isClickSoundEnabled} />\n                <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-[var(--primary-color)]\"></div>\n              </label>\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-lg text-[var(--primary-color)]\">Scroll Sound</span>\n              <label className=\"relative inline-flex items-center cursor-pointer\">\n                <input type=\"checkbox\" className=\"sr-only peer\" checked={soundSettings.isScrollSoundEnabled} onChange={() => handleSoundToggle('isScrollSoundEnabled')} disabled={!soundSettings.isAllSoundEnabled && !soundSettings.isScrollSoundEnabled} />\n                <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-[var(--primary-color)]\"></div>\n              </label>\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-lg text-[var(--primary-color)]\">Page Transition Sound</span>\n              <label className=\"relative inline-flex items-center cursor-pointer\">\n                <input type=\"checkbox\" className=\"sr-only peer\" checked={soundSettings.isPageTransitionSoundEnabled} onChange={() => handleSoundToggle('isPageTransitionSoundEnabled')} disabled={!soundSettings.isAllSoundEnabled && !soundSettings.isPageTransitionSoundEnabled} />\n                <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-[var(--primary-color)]\"></div>\n              </label>\n            </div>\n          </div>\n        </div>\n\n        {/* Color Scheme Selection */}\n        <div className=\"mb-6 p-4 border-b border-[var(--border-color)]\">\n          <h3 className=\"text-xl font-semibold text-[var(--primary-color)] mb-4\">Change Color Scheme</h3>\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-4 mb-4\">\n            {colorPalettes.map((palette) => (\n              <button\n                key={palette.name}\n                className=\"flex flex-col items-center p-2 rounded-lg border-2 border-[var(--border-color)] hover:border-[var(--primary-color)] transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n                onClick={() => { applyPalette(palette); playSound(clickSoundRef, 'click', soundSettings); }}\n              >\n                <div className=\"w-full h-12 rounded-md mb-2\" style={{ backgroundColor: isDarkMode ? palette.dark.mainBg : palette.light.mainBg, border: `1px solid ${isDarkMode ? palette.dark.border : palette.light.border}` }}></div>\n                <span className=\"text-sm font-medium text-[var(--primary-color)]\">{palette.name}</span>\n              </button>\n            ))}\n          </div>\n          <div className=\"flex flex-col space-y-2\">\n            <label htmlFor=\"hexColor\" className=\"block text-lg text-[var(--primary-color)]\">Or enter Hex Code for Primary Color:</label>\n            <input\n              type=\"text\"\n              id=\"hexColor\"\n              value={hexInput}\n              onChange={handleHexChange}\n              placeholder=\"#9A6E45\"\n              className=\"p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]\"\n            />\n            <button\n              onClick={applyHexColor}\n              className=\"px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n            >\n              Apply Hex Color\n            </button>\n          </div>\n        </div>\n\n        {/* Other settings can go here */}\n        <div className=\"p-4\">\n          <h3 className=\"text-xl font-semibold text-[var(--primary-color)] mb-2\">Other Settings</h3>\n          <p className=\"text-[var(--primary-color)]\">More customization options coming soon!</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Feedback Modal Component\nconst FeedbackModal = ({ isOpen, onClose, onSubmit, onSkip, purpose, soundSettings, clickSoundRef }) => {\n  const [feedback, setFeedback] = useState('');\n\n  if (!isOpen) return null;\n\n  const modalTitle = purpose === 'account-deletion' ? \"Aw it's sad to see you go, what could we have done better.\" : 'Send Us Feedback';\n  const textareaPlaceholder = purpose === 'account-deletion' ? \"Tell us why you're deleting your account...\" : \"Share your thoughts or suggestions...\";\n  const submitButtonText = purpose === 'account-deletion' ? 'Submit Feedback' : 'Submit';\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\" onClick={() => { onClose(); playSound(clickSoundRef, 'click', soundSettings); }}> {/* Click outside to close */}\n      <div className=\"bg-[var(--box-bg-color)] p-8 rounded-lg shadow-lg border-2 border-[var(--border-color)] w-full max-w-md mx-4\" onClick={(e) => e.stopPropagation()}> {/* Prevent click from propagating to overlay */}\n        <h2 className=\"text-2xl font-bold text-[var(--primary-color)] mb-4 text-center\">{modalTitle}</h2>\n        <textarea\n          className=\"w-full p-3 border border-gray-300 rounded-md mb-4 bg-[var(--main-bg-color)] text-[var(--primary-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]\"\n          rows=\"5\"\n          placeholder={textareaPlaceholder}\n          value={feedback}\n          onChange={(e) => setFeedback(e.target.value)}\n        ></textarea>\n        <div className=\"flex justify-between space-x-4\">\n          <button\n            onClick={() => { onSubmit(feedback); onClose(); playSound(clickSoundRef, 'click', soundSettings); }}\n            className=\"flex-1 px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n          >\n            {submitButtonText}\n          </button>\n          <button\n            onClick={() => { onSkip ? onSkip() : onClose(); onClose(); playSound(clickSoundRef, 'click', soundSettings); }} // If onSkip exists, call it, otherwise just close\n            className=\"flex-1 px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n          >\n            {purpose === 'account-deletion' ? 'Skip' : 'Nevermind'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Profile Page Component\nconst ProfilePage = ({ user, onSignOut, onAboutUsClick, giftingContacts, setGiftingContacts, soundSettings, clickSoundRef }) => {\n  const [profileImage, setProfileImage] = useState(user.profile_image_url || \"https://placehold.co/150x150/D3A173/FFFFFF?text=PFP\");\n  const [isFeedbackModalOpen, setIsFeedbackModalOpen] = useState(false);\n  const [newContactName, setNewContactName] = useState('');\n  const [newContactEmail, setNewContactEmail] = useState('');\n  const [showAddContactForm, setShowAddContactForm] = useState(false);\n\n  // Update local state when user prop changes (e.g., after initial load or profile update)\n  useEffect(() => {\n    if (user.isLoggedIn) {\n      setProfileImage(user.profile_image_url || \"https://placehold.co/150x150/D3A173/FFFFFF?text=PFP\");\n    }\n  }, [user]);\n\n  // Dummy data for recent bookmarked (will be replaced by actual data later)\n  const recentBookmarks = [\n    { id: 1, name: \"Cute Sticker Set\", image_url: \"https://placehold.co/150x150/D3A173/FFFFFF?text=Item1\" },\n    { id: 2, name: \"Fantasy Novel\", image_url: \"https://placehold.co/150x150/D3A173/FFFFFF?text=Item2\" },\n    { id: 3, name: \"Mini Backpack\", image_url: \"https://placehold.co/150x150/D3A173/FFFFFF?text=Item3\" },\n  ];\n\n  const recommendedProducts = [\n    { id: 1, name: \"Customized Mug\", image_url: \"https://placehold.co/150x150/D3A173/FFFFFF?text=Rec1\" },\n    { id: 2, name: \"DIY Painting Kit\", image_url: \"https://placehold.co/150x150/D3A173/FFFFFF?text=Rec2\" },\n    { id: 3, name: \"Smart Watch\", image_url: \"https://placehold.co/150x150/D3A173/FFFFFF?text=Rec3\" },\n  ];\n\n  const handleImageUpload = (event) => {\n    playSound(clickSoundRef, 'click', soundSettings); // Play click sound\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setProfileImage(reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  // --- SUPABASE INTEGRATION: Save Profile Changes (only image for now) ---\n  const handleSaveChanges = async () => {\n    playSound(clickSoundRef, 'click', soundSettings);\n    if (!user.id) {\n      alert(\"Please sign in to save changes.\");\n      return;\n    }\n\n    try {\n      const { data, error } = await supabase\n        .from('profiles')\n        .update({\n          profile_image_url: profileImage, // If you implement image upload to storage\n          updated_at: new Date().toISOString()\n        })\n        .eq('id', user.id)\n        .select()\n        .single();\n\n      if (error) {\n        console.error('Error updating profile:', error);\n        alert('Failed to save changes: ' + error.message);\n      } else {\n        console.log('Profile updated successfully:', data);\n        alert('Profile updated successfully!');\n        // Optionally, update the global user state in App.js if needed\n      }\n    } catch (error) {\n      console.error('Unexpected error saving profile:', error);\n      alert('An unexpected error occurred.');\n    }\n  };\n\n  const handleDeleteAccount = () => {\n    playSound(clickSoundRef, 'click', soundSettings); // Play click sound\n    setIsFeedbackModalOpen(true);\n  };\n\n  const handleFeedbackSubmit = async (feedback) => {\n    console.log(\"Feedback submitted:\", feedback);\n    // --- SUPABASE INTEGRATION: Delete Account (and associated profile data via CASCADE) ---\n    if (!user.id) {\n      alert(\"No user is logged in to delete.\");\n      return;\n    }\n    try {\n      // Supabase auth.signOut() will also trigger the onAuthStateChange listener\n      // which will then clean up local state.\n      // The profile table entry will be deleted via RLS CASCADE on auth.users delete.\n      const { error: authError } = await supabase.auth.admin.deleteUser(user.id); // Admin delete for full cleanup\n\n      if (authError) {\n        console.error('Error deleting user account:', authError);\n        alert('Failed to delete account: ' + authError.message);\n      } else {\n        console.log(\"Account deleted with feedback.\");\n        onSignOut(); // This will log out the user and redirect to cover page\n      }\n    } catch (error) {\n      console.error('Unexpected error during account deletion:', error);\n      alert('An unexpected error occurred during account deletion.');\n    }\n  };\n\n  const handleFeedbackSkip = async () => {\n    console.log(\"Feedback skipped.\");\n    // --- SUPABASE INTEGRATION: Delete Account (without feedback) ---\n    if (!user.id) {\n      alert(\"No user is logged in to delete.\");\n      return;\n    }\n    try {\n      const { error: authError } = await supabase.auth.admin.deleteUser(user.id);\n\n      if (authError) {\n        console.error('Error deleting user account (skipped feedback):', authError);\n        alert('Failed to delete account: ' + authError.message);\n      } else {\n        console.log(\"Account deleted without feedback.\");\n        onSignOut();\n      }\n    } catch (error) {\n      console.error('Unexpected error during account deletion (skipped feedback):', error);\n      alert('An unexpected error occurred during account deletion.');\n    }\n  };\n\n  // --- SUPABASE INTEGRATION: Add Gifting Contact ---\n  const handleAddContact = async () => {\n    playSound(clickSoundRef, 'click', soundSettings);\n    if (!newContactName.trim() || !newContactEmail.trim()) {\n      alert('Please enter both name and email for the new contact.');\n      return;\n    }\n    if (!user.id) {\n      alert(\"Please sign in to add contacts.\");\n      return;\n    }\n\n    try {\n      const { data, error } = await supabase\n        .from('gifting_contacts')\n        .insert([\n          {\n            user_id: user.id,\n            contact_name: newContactName.trim(),\n            contact_email: newContactEmail.trim(),\n            created_at: new Date().toISOString()\n          }\n        ])\n        .select() // Select the inserted row to get its ID\n        .single();\n\n      if (error) {\n        console.error('Error adding contact:', error);\n        alert('Failed to add contact: ' + error.message);\n      } else {\n        setGiftingContacts(prev => [...prev, data]); // Add the new contact with its ID from Supabase\n        setNewContactName('');\n        setNewContactEmail('');\n        setShowAddContactForm(false);\n        alert('Contact added successfully!');\n      }\n    } catch (error) {\n      console.error('Unexpected error adding contact:', error);\n      alert('An unexpected error occurred.');\n    }\n  };\n\n  return (\n    <div className=\"flex-grow w-full py-4 pt-[130px]\"> {/* Adjusted padding top for fixed header and nav bar */}\n      {/* Banner Image Placeholder - Full width */}\n      {/* Changed to h-0 pb-[33.33%] for responsive aspect ratio, object-contain for image */}\n      <section className=\"w-full h-0 pb-[33.33%] mb-8 rounded-lg shadow-lg border-2 border-[var(--border-color)] relative flex items-center justify-center\">\n        <img\n          src=\"https://placehold.co/1200x400/D3A173/FFFFFF?text=My+Profile+Banner\" // Updated placeholder image\n          alt=\"My Profile Banner\"\n          className=\"absolute inset-0 w-full h-full object-contain rounded-lg\"\n          onError={(e) => e.target.src = \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Image+Load+Error\"}\n        />\n        {/* Removed text overlay */}\n      </section>\n\n      <div className=\"w-full mx-auto px-4 md:px-12 py-12 bg-[var(--box-bg-color)] rounded-lg shadow-lg border-2 border-[var(--border-color)] flex flex-col items-center\"> {/* Adjusted padding */}\n        <h2 className=\"text-3xl font-bold text-[var(--primary-color)] mb-6 text-center\">User Profile</h2>\n\n        {!user.isLoggedIn ? (\n          <div className=\"w-full max-w-md text-center space-y-4\">\n            <p className=\"text-lg text-[var(--primary-color)]\">Please sign in to view your profile details.</p>\n            {/* These buttons will be handled by the parent App component's routing */}\n            <button\n              onClick={() => { onSignOut(); playSound(clickSoundRef, 'click', soundSettings); }} // Re-use onSignOut for redirecting to cover/sign-in\n              className=\"w-full px-6 py-3 bg-[var(--button-bg-color)] text-white font-bold rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n            >\n              Sign In\n            </button>\n          </div>\n        ) : (\n          <>\n            {/* Profile Picture Section */}\n            <div className=\"flex flex-col items-center mb-8\">\n              <div className=\"w-32 h-32 rounded-full overflow-hidden border-4 border-[var(--primary-color)] mb-4\">\n                <img src={profileImage} alt=\"Profile\" className=\"w-full h-32 object-cover\" />\n              </div>\n              <input\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={handleImageUpload}\n                className=\"hidden\"\n                id=\"profileImageUpload\"\n              />\n              <label\n                htmlFor=\"profileImageUpload\"\n                className=\"px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md cursor-pointer hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n              >\n                Change Profile Picture\n              </label>\n            </div>\n\n            {/* Profile Details (display only) */}\n            <div className=\"w-full max-w-md space-y-4 mb-8\">\n              <div>\n                <label className=\"block text-lg font-semibold text-[var(--primary-color)] mb-1\">Username:</label>\n                <p className=\"w-full p-3 border border-gray-300 rounded-md bg-[var(--main-bg-color)] text-[var(--primary-color)]\">\n                  {user.username}\n                </p>\n              </div>\n              <div>\n                <label className=\"block text-lg font-semibold text-[var(--primary-color)] mb-1\">Email:</label>\n                <p className=\"w-full p-3 border border-gray-300 rounded-md bg-[var(--main-bg-color)] text-[var(--primary-color)]\">\n                  {user.email}\n                </p>\n              </div>\n              <div>\n                <label htmlFor=\"password\" className=\"block text-lg font-semibold text-[var(--primary-color)] mb-1\">Password:</label>\n                {/* Removed password input field */}\n                <button onClick={() => playSound(clickSoundRef, 'click', soundSettings)} className=\"mt-2 text-sm text-[var(--primary-color)] hover:underline transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">Change Password</button>\n              </div>\n              <button onClick={handleSaveChanges} className=\"w-full px-6 py-3 bg-[var(--button-bg-color)] text-white font-bold rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">\n                Save Changes\n              </button>\n            </div>\n\n            {/* Recent Bookmarked Items */}\n            <div className=\"w-full max-w-lg mb-8\"> {/* Increased max-w-md to max-w-lg */}\n              <h3 className=\"text-2xl font-bold text-[var(--primary-color)] mb-4\">Recent Bookmarked Items</h3>\n              <div className=\"flex overflow-x-auto pb-4 space-x-4 custom-scrollbar\">\n                {recentBookmarks.map(item => (\n                  <div key={item.id} className=\"flex-shrink-0 w-48 text-center transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"> {/* Increased width */}\n                    <img src={item.image_url} alt={item.name} className=\"w-full h-48 object-cover rounded-md mb-2 border-2 border-[var(--border-color)]\" /> {/* Increased height */}\n                    <p className=\"text-sm text-[var(--primary-color)]\">{item.name}</p>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Gifting Contacts */}\n            <div className=\"w-full max-w-md mb-8\">\n              <h3 className=\"text-2xl font-bold text-[var(--primary-color)] mb-4\">Gifting Contacts</h3>\n              {giftingContacts.length > 0 ? (\n                <ul className=\"space-y-2 mb-4\">\n                  {giftingContacts.map(contact => (\n                    <li key={contact.id} className=\"flex justify-between items-center bg-[var(--main-bg-color)] p-3 rounded-md border border-[var(--border-color)] transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">\n                      <span className=\"text-[var(--primary-color)] font-medium\">{contact.contact_name}</span>\n                      <span className=\"text-sm text-gray-500\">{contact.contact_email}</span>\n                    </li>\n                  ))}\n                </ul>\n              ) : (\n                <p className=\"text-[var(--primary-color)] mb-4 text-center\">No gifting contacts added yet.</p>\n              )}\n              {showAddContactForm ? (\n                <div className=\"space-y-3 p-4 bg-[var(--main-bg-color)] rounded-md border border-[var(--border-color)]\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"Contact Name\"\n                    value={newContactName}\n                    onChange={(e) => setNewContactName(e.target.value)}\n                    className=\"w-full p-2 border border-gray-300 rounded-md bg-[var(--box-bg-color)] text-[var(--primary-color)]\"\n                  />\n                  <input\n                    type=\"email\"\n                    placeholder=\"Contact Email\"\n                    value={newContactEmail}\n                    onChange={(e) => setNewContactEmail(e.target.value)}\n                    className=\"w-full p-2 border border-gray-300 rounded-md bg-[var(--box-bg-color)] text-[var(--primary-color)]\"\n                  />\n                  <div className=\"flex justify-end space-x-2\">\n                    <button\n                      onClick={handleAddContact}\n                      className=\"px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md hover:bg-opacity-90\"\n                    >\n                      Add Contact\n                    </button>\n                    <button\n                      onClick={() => { setShowAddContactForm(false); playSound(clickSoundRef, 'click', soundSettings); }}\n                      className=\"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600\"\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                </div>\n              ) : (\n                <button\n                  onClick={() => { setShowAddContactForm(true); playSound(clickSoundRef, 'click', soundSettings); }}\n                  className=\"mt-4 px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n                >\n                  Add New Contact\n                </button>\n              )}\n            </div>\n\n            {/* Recommended Products */}\n            <div className=\"w-full max-w-lg mb-8\"> {/* Increased max-w-md to max-w-lg */}\n              <h3 className=\"text-2xl font-bold text-[var(--primary-color)] mb-4\">Recommended Products</h3>\n              <div className=\"flex overflow-x-auto pb-4 space-x-4 custom-scrollbar\">\n                {recommendedProducts.map(item => (\n                  <div key={item.id} className=\"flex-shrink-0 w-48 text-center transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"> {/* Increased width */}\n                    <img src={item.image_url} alt={item.name} className=\"w-full h-48 object-cover rounded-md mb-2 border-2 border-[var(--border-color)]\" /> {/* Increased height */}\n                    <p className=\"text-sm text-[var(--primary-color)]\">{item.name}</p>\n                  </div>\n                ))}\n              </div>\n              <p className=\"text-xs text-gray-500 mt-2 text-center\">\n                Recommendations are based on your quiz results and search history. Your privacy is important to us.\n              </p>\n            </div>\n\n            {/* Sign Out and Delete Account */}\n            <div className=\"w-full max-w-md flex flex-col space-y-4 mt-8\">\n              <button\n                onClick={() => { onSignOut(); playSound(clickSoundRef, 'click', soundSettings); }}\n                className=\"w-full px-6 py-3 bg-red-500 text-white font-bold rounded-md shadow-md hover:bg-red-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n              >\n                Sign Out\n              </button>\n              <button\n                onClick={handleDeleteAccount}\n                className=\"w-full px-6 py-3 bg-gray-700 text-white font-bold rounded-md shadow-md hover:bg-gray-800 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n              >\n                Delete Account\n              </button>\n            </div>\n          </>\n        )}\n      </div>\n\n      <FeedbackModal\n        isOpen={isFeedbackModalOpen}\n        onClose={() => setIsFeedbackModalOpen(false)}\n        onSubmit={handleFeedbackSubmit}\n        onSkip={handleFeedbackSkip}\n        purpose=\"account-deletion\"\n        soundSettings={soundSettings}\n        clickSoundRef={clickSoundRef}\n      />\n    </div>\n  );\n};\n\n// Generic Page Component for sidebar items\nconst GenericPage = ({ title, content, soundSettings, clickSoundRef }) => {\n  return (\n    <div className=\"flex-grow w-full py-4 pt-[130px]\"> {/* Adjusted padding top for fixed header and nav bar */}\n      {/* Changed to h-0 pb-[33.33%] for responsive aspect ratio, object-contain for image */}\n      <section className=\"w-full h-0 pb-[33.33%] mb-8 rounded-lg shadow-lg border-2 border-[var(--border-color)] relative flex items-center justify-center\">\n        <img\n          src={`https://placehold.co/1200x400/D3A173/FFFFFF?text=${title.replace(/\\s/g, '+')}+Banner`} // Dynamic placeholder\n          alt={`${title} Banner`}\n          className=\"absolute inset-0 w-full h-full object-contain rounded-lg\"\n          onError={(e) => e.target.src = \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Image+Load+Error\"}\n        />\n        {/* Removed text overlay */}\n      </section>\n      <div className=\"w-full mx-auto px-4 md:px-12 py-12 bg-[var(--box-bg-color)] rounded-lg shadow-lg border-2 border-[var(--border-color)]\"> {/* Adjusted padding */}\n        <h2 className=\"text-3xl font-bold text-[var(--primary-color)] mb-6 text-center\">{title}</h2>\n        {/* Render content using dangerouslySetInnerHTML to allow for basic HTML/Markdown formatting */}\n        <div className=\"text-[var(--primary-color)] text-lg leading-relaxed\" dangerouslySetInnerHTML={{ __html: content }}></div>\n      </div>\n    </div>\n  );\n};\n\n// New Subcategory Page Component\nconst SubcategoryPage = ({ subcategoryName, onProductClick, onAddProductToWishlist, soundSettings, clickSoundRef }) => { // Added onProductClick prop\n  const [isLoading, setIsLoading] = useState(true);\n  const [subcategoryProducts, setSubcategoryProducts] = useState([]); // State for products\n\n  // --- SUPABASE INTEGRATION: Fetch products for subcategory ---\n  useEffect(() => {\n    const fetchSubcategoryProducts = async () => {\n      setIsLoading(true);\n      const { data, error } = await supabase\n        .from('products')\n        .select('*')\n        .eq('subcategory', subcategoryName) // Filter by subcategory name\n        .limit(20); // Limit results for performance\n\n      if (error) {\n        console.error(`Error fetching products for ${subcategoryName}:`, error);\n      } else {\n        setSubcategoryProducts(data);\n      }\n      setIsLoading(false);\n    };\n\n    fetchSubcategoryProducts();\n  }, [subcategoryName]);\n\n  return (\n    <div className=\"flex-grow w-full py-4 pt-[130px]\">\n      {/* Changed to h-0 pb-[33.33%] for responsive aspect ratio, object-contain for image */}\n      <section className=\"w-full h-0 pb-[33.33%] mb-8 rounded-lg shadow-lg border-2 border-[var(--border-color)] relative flex items-center justify-center\">\n        <img\n          src={`https://placehold.co/1200x400/D3A173/FFFFFF?text=${subcategoryName.replace(/\\s/g, '+')}+Banner`} // Dynamic placeholder\n          alt={`${subcategoryName} Banner`}\n          className=\"absolute inset-0 w-full h-full object-contain rounded-lg\"\n          onError={(e) => e.target.src = \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Image+Load+Error\"}\n        />\n        {/* Removed text overlay */}\n      </section>\n      <div className=\"w-full mx-auto px-4 md:px-12\"> {/* Adjusted padding */}\n        {isLoading ? (\n          <div className=\"text-center text-xl text-[var(--primary-color)]\">Loading products...</div>\n        ) : subcategoryProducts.length > 0 ? (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {subcategoryProducts.map((product) => (\n              <div key={product.id} className=\"bg-[var(--box-bg-color)] rounded-lg shadow-md border-2 border-[var(--border-color)] p-1 cursor-pointer transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">\n                <div className=\"w-full h-84 bg-[var(--main-bg-color)] rounded-md flex flex-col items-center justify-center text-[var(--primary-color)] text-lg relative mb-2\"\n                  onClick={() => { onProductClick(product); playSound(clickSoundRef, 'click', soundSettings); }}> {/* Adjusted padding and added onClick */}\n                  <img src={product.image_url} alt={product.name} className=\"w-full h-full object-cover rounded-md\" onError={(e) => e.target.src = `https://placehold.co/240x280/D3A173/FFFFFF?text=${product.name.replace(/\\s/g, '+')}`} />\n                  {/* Price inside the image box */}\n                  <p className=\"absolute bottom-2 text-white bg-black bg-opacity-50 px-2 py-1 rounded-md text-sm\">${product.price}</p>\n                </div>\n                <h3 className=\"text-xl font-semibold text-[var(--primary-color)] text-center mb-2\">{product.name}</h3>\n                <div className=\"flex flex-col space-y-3 w-full px-2\"> {/* Increased space-y from 2 to 3 */}\n                  <button\n                    onClick={() => { onAddProductToWishlist(product); playSound(clickSoundRef, 'click', soundSettings); }}\n                    className=\"px-6 py-2 bg-gray-500 text-white rounded-md shadow-md hover:bg-gray-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 w-full\">\n                    Add to Wyshlist\n                  </button>\n                  <a\n                    href={product.amazon_link}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    onClick={() => playSound(clickSoundRef, 'click', soundSettings)}\n                    className=\"px-6 py-2 bg-[var(--button-bg-color)] text-white font-bold rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 text-center w-full\"\n                  >\n                    Go Buy <i className=\"fas fa-external-link-alt ml-1\"></i>\n                  </a>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className=\"text-center text-xl text-[var(--primary-color)]\">No products found for this subcategory.</div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n\n// New Category Page Component\nconst CategoryPage = ({ categoryName, onSeeMoreClick, onProductClick, onAddProductToWishlist, soundSettings, clickSoundRef }) => {\n  // Define subcategories based on the main category\n  const getSubcategories = (name) => {\n    switch (name) {\n      case \"Trending\":\n        return [\"What's Hot Now\", \"Viral Picks\", \"New Arrivals\", \"TikTok Trends\", \"Limited Editions\"];\n      case \"Books\":\n        return [\"New Arrivals\", \"Bestsellers\", \"Fantasy & Sci-Fi\", \"Romance\", \"YA\", \"Romantacy\", \"Dark Romance\", \"Manga & Graphic Novels\", \"Book Club Picks\", \"Personal Development\", \"DIY books\", \"Non-Fiction\"];\n      case \"Accessories\":\n        return [\"Jewelry\", \"Bags & Totes\", \"Hair Accessories\", \"Tech Accessories\", \"Keychains & Charms\", \"Nails\"];\n      case \"DIY / Art\":\n        return [\"Journaling & Scrapbooking\", \"Painting & Drawing\", \"Crochet & Knitting\", \"Jewelry Making\", \"Customization Kits\", \"Art Tech\", \"2D / 3D DIY\", \"Clay\", \"Legoes\"];\n      case \"Tech\":\n        return [\"Portable Audio\", \"Photography & Vlogging Gear\", \"Gaming Essentials\", \"Smart Gadgets\", \"Digital Creation Tools\"];\n      case \"Cups / Drinks\":\n        return [\"Tumblers & Water Bottles\", \"Travel Mugs\", \"Coffee & Tea Accessories\", \"Smoothie Cups\", \"Novelty Drinkware\", \"Blenders\"];\n      case \"Stationary\":\n        return [\"Aesthetic Notebooks & Journals\", \"Pens & Markers\", \"Stickers & Washi Tape\", \"Desk Organizers\", \"School Essentials\", \"Planner Essentials\", \"Chargers\"];\n      case \"Music\":\n        return [\"Vinyl & \" + \"CDs\", \"Kpop Merch\", \"All-day project\", \"Hit Artist Merch\", \"Headphones & Earbuds\", \"Portable Speakers\", \"Instruments & Learning\"];\n      case \"Figurines / Plushies\":\n        return [\"Anime Figurines\", \"Pop Culture Collectibles\", \"Aesthetic Plushies\", \"Blind Boxes & Mystery Packs\", \"Labubu / Skullpanda\", \"Sanrio & Kawaii Characters\"];\n      case \"Gift Cards\":\n        return [\"Digital & Entertainment\", \"Experience & Self-Care\", \"Fashion & Beauty\", \"Food & Drink\"];\n      case \"Blooms\":\n        return [\"Personalized & Unique\", \"Aesthetic-Driven Bouquets\", \"Cottagecore Chic / Wildflower Blends\", \"Bold Monochromatic / Color Pop Bouquets\", \"Dried & Preserved Arrangements\", \"Textured & Unique Blooms\", \"Miniature & Petite Bouquets\", \"Purpose-Driven Blooms\", \"Mood Booster Bouquets\", \"Self-Care & Zen Bouquets\", \"Celebrating Wins Bouquets\", \"Just Because / Friendship Blooms\", \"Sustainable & Long-Lasting\", \"Potted Plants\"];\n      default:\n        return [`Popular ${name}`, `New ${name} Arrivals`, `${name} Essentials`];\n    }\n  };\n\n  const subcategories = getSubcategories(categoryName);\n\n  return (\n    <div className=\"flex-grow w-full py-4 pt-[130px]\"> {/* Adjusted padding top for fixed header and nav bar */}\n      {/* Banner Image Placeholder - Full width */}\n      {/* Changed to h-0 pb-[33.33%] for responsive aspect ratio, object-contain for image */}\n      <section className=\"w-full h-0 pb-[33.33%] mb-8 rounded-lg shadow-lg border-2 border-[var(--border-color)] relative flex items-center justify-center\">\n        <img\n          src={`https://placehold.co/1200x400/D3A173/FFFFFF?text=${categoryName.replace(/\\s/g, '+')}+Banner`} // Dynamic placeholder\n          alt={`${categoryName} Banner`}\n          className=\"absolute inset-0 w-full h-full object-contain rounded-lg\"\n          onError={(e) => e.target.src = \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Image+Load+Error\"}\n        />\n        {/* Removed text overlay */}\n      </section>\n\n      <div className=\"w-full mx-auto\"> {/* Adjusted margins */}\n        {subcategories.map((sub, index) => (\n          <ProductSection key={index} title={sub} onSeeMoreClick={onSeeMoreClick} onProductClick={onProductClick} onAddProductToWishlist={onAddProductToWishlist} soundSettings={soundSettings} clickSoundRef={clickSoundRef} />\n        ))}\n      </div>\n    </div>\n  );\n};\n\n// New Hint Modal Component\nconst HintModal = ({ isOpen, onClose, product, giftingContacts, setGiftingContacts, soundSettings, clickSoundRef, user }) => { // Added user prop\n  const [selectedContacts, setSelectedContacts] = useState([]);\n  const [showAddContactForm, setShowAddContactForm] = useState(false);\n  const [newContactName, setNewContactName] = useState('');\n  const [newContactEmail, setNewContactEmail] = useState('');\n  const [agreedToTerms, setAgreedToTerms] = useState(false);\n\n  useEffect(() => {\n    if (!isOpen) {\n      // Reset state when modal closes\n      setSelectedContacts([]);\n      setShowAddContactForm(false);\n      setNewContactName('');\n      setNewContactEmail('');\n      setAgreedToTerms(false);\n    }\n  }, [isOpen]);\n\n  const handleContactToggle = (contactId) => {\n    playSound(clickSoundRef, 'click', soundSettings); // Play click sound\n    setSelectedContacts(prev =>\n      prev.includes(contactId)\n        ? prev.filter(id => id !== contactId)\n        : [...prev, contactId]\n    );\n  };\n\n  // --- SUPABASE INTEGRATION: Add Gifting Contact from Hint Modal ---\n  const handleAddContact = async () => {\n    playSound(clickSoundRef, 'click', soundSettings); // Play click sound\n    if (!newContactName.trim() || !newContactEmail.trim()) {\n      alert('Please enter both name and email for the new contact.');\n      return;\n    }\n    if (!user.id) {\n      alert(\"Please sign in to add contacts.\");\n      return;\n    }\n\n    try {\n      const { data, error } = await supabase\n        .from('gifting_contacts')\n        .insert([\n          {\n            user_id: user.id,\n            contact_name: newContactName.trim(),\n            contact_email: newContactEmail.trim(),\n            created_at: new Date().toISOString()\n          }\n        ])\n        .select()\n        .single();\n\n      if (error) {\n        console.error('Error adding contact:', error);\n        alert('Failed to add contact: ' + error.message);\n      } else {\n        setGiftingContacts(prev => [...prev, data]);\n        setNewContactName('');\n        setNewContactEmail('');\n        setShowAddContactForm(false);\n        setSelectedContacts(prev => [...prev, data.id]); // Automatically select the new contact\n        alert('Contact added successfully!');\n      }\n    } catch (error) {\n      console.error('Unexpected error adding contact:', error);\n      alert('An unexpected error occurred.');\n    }\n  };\n\n  const handleSendHint = () => {\n    playSound(clickSoundRef, 'click', soundSettings); // Play click sound\n    if (!agreedToTerms) {\n      alert('Please agree to the Hinting Terms & Conditions.');\n      return;\n    }\n    if (selectedContacts.length === 0) {\n      alert('Please select at least one contact to send the hint to.');\n      return;\n    }\n\n    const contactsToSend = giftingContacts.filter(contact => selectedContacts.includes(contact.id));\n    console.log(`Sending hint for \"${product.name}\" to:`, contactsToSend);\n    alert(`Hint for \"${product.name}\" sent to selected contacts!`);\n    onClose();\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\" onClick={() => { onClose(); playSound(clickSoundRef, 'click', soundSettings); }}>\n      <div className=\"bg-[var(--box-bg-color)] p-6 rounded-lg shadow-lg border-2 border-[var(--border-color)] w-full max-w-md mx-auto flex flex-col max-h-[90vh] overflow-y-auto\" onClick={(e) => e.stopPropagation()}>\n        <h2 className=\"text-2xl font-bold text-[var(--primary-color)] mb-4 text-center\">Send a Hint for \"{product.name}\"</h2>\n\n        {giftingContacts.length === 0 && !showAddContactForm ? (\n          <div className=\"text-center py-4\">\n            <p className=\"text-[var(--primary-color)] mb-4\">You don't have any hinting contacts yet.</p>\n            <button\n              onClick={() => { setShowAddContactForm(true); playSound(clickSoundRef, 'click', soundSettings); }}\n              className=\"px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n            >\n              Add New Contact\n            </button>\n          </div>\n        ) : (\n          <>\n            {showAddContactForm ? (\n              <div className=\"space-y-3 p-4 bg-[var(--main-bg-color)] rounded-md border border-[var(--border-color)] mb-4\">\n                <h3 className=\"text-xl font-semibold text-[var(--primary-color)] mb-2\">Add New Contact</h3>\n                <input\n                  type=\"text\"\n                  placeholder=\"Contact Name\"\n                  value={newContactName}\n                  onChange={(e) => setNewContactName(e.target.value)}\n                  className=\"w-full p-2 border border-gray-300 rounded-md bg-[var(--box-bg-color)] text-[var(--primary-color)]\"\n                />\n                <input\n                  type=\"email\"\n                  placeholder=\"Contact Email\"\n                  value={newContactEmail}\n                  onChange={(e) => setNewContactEmail(e.target.value)}\n                  className=\"w-full p-2 border border-gray-300 rounded-md bg-[var(--box-bg-color)] text-[var(--primary-color)]\"\n                />\n                <div className=\"flex justify-end space-x-2\">\n                  <button\n                    onClick={handleAddContact}\n                    className=\"px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md hover:bg-opacity-90\"\n                  >\n                    Add Contact\n                  </button>\n                  <button\n                    onClick={() => { setShowAddContactForm(false); playSound(clickSoundRef, 'click', soundSettings); }}\n                    className=\"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </div>\n            ) : (\n              <>\n                <h3 className=\"text-xl font-semibold text-[var(--primary-color)] mb-3\">Select Contacts:</h3>\n                <div className=\"flex-grow overflow-y-auto custom-scrollbar p-2 border border-[var(--border-color)] rounded-md mb-4\">\n                  {giftingContacts.length > 0 ? (\n                    <ul className=\"space-y-2\">\n                      {giftingContacts.map(contact => (\n                        <li key={contact.id} className=\"flex items-center space-x-2 text-[var(--primary-color)]\">\n                          <input\n                            type=\"checkbox\"\n                            id={`contact-${contact.id}`}\n                            checked={selectedContacts.includes(contact.id)}\n                            onChange={(e) => { handleContactToggle(contact.id); playSound(clickSoundRef, 'click', soundSettings); }}\n                            className=\"form-checkbox h-5 w-5 text-[var(--primary-color)]\"\n                          />\n                          <label htmlFor={`contact-${contact.id}`} className=\"text-lg\">{contact.contact_name} ({contact.contact_email})</label>\n                        </li>\n                      ))}\n                    </ul>\n                  ) : (\n                    <p className=\"text-[var(--primary-color)] italic text-center\">No contacts available. Add one above!</p>\n                  )}\n                </div>\n                <button\n                  onClick={() => { setShowAddContactForm(true); playSound(clickSoundRef, 'click', soundSettings); }}\n                  className=\"px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 self-start mb-4\"\n                >\n                  Add New Contact\n                </button>\n              </>\n            )}\n          </>\n        )}\n\n        <div className=\"mt-4 p-4 border-t border-[var(--border-color)]\">\n          <h3 className=\"text-xl font-semibold text-[var(--primary-color)] mb-3\">Hinting Terms & Conditions</h3>\n          <div className=\"text-sm text-[var(--primary-color)] space-y-2 mb-4 max-h-32 overflow-y-auto custom-scrollbar\">\n            <p>By sending a hint, you agree to the following:</p>\n            <ul className=\"list-disc list-inside\">\n              <li>Hints are sent as a suggestion and do not guarantee a gift.</li>\n              <li>WyshDrop is not responsible for the fulfillment of gifts.</li>\n              <li>Your contact's email will be used solely for sending this hint.</li>\n              <li>Do not send excessive or spammy hints.</li>\n            </ul>\n          </div>\n          <label className=\"inline-flex items-center text-[var(--primary-color)]\">\n            <input\n              type=\"checkbox\"\n              checked={agreedToTerms}\n              onChange={(e) => { setAgreedToTerms(e.target.checked); playSound(clickSoundRef, 'click', soundSettings); }}\n              className=\"form-checkbox h-5 w-5 text-[var(--primary-color)]\"\n            />\n            <span className=\"ml-2 text-lg\">I agree to the terms and conditions.</span>\n          </label>\n        </div>\n\n        <div className=\"flex justify-end space-x-4 mt-6\">\n          <button\n            onClick={handleSendHint}\n            disabled={!agreedToTerms || selectedContacts.length === 0}\n            className={`px-6 py-3 rounded-md shadow-md transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 ${\n              !agreedToTerms || selectedContacts.length === 0\n                ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                : 'bg-[var(--button-bg-color)] text-white hover:bg-opacity-90'\n            }`}\n          >\n            Send Hint\n          </button>\n          <button\n            onClick={() => { onClose(); playSound(clickSoundRef, 'click', soundSettings); }}\n            className=\"px-6 py-3 bg-red-500 text-white rounded-md shadow-md hover:bg-red-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n          >\n            Cancel\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Custom Confirmation Modal Component\nconst ConfirmationModal = ({ isOpen, onClose, onConfirm, message, soundSettings, clickSoundRef }) => {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\" onClick={() => { onClose(); playSound(clickSoundRef, 'click', soundSettings); }}>\n      <div className=\"bg-[var(--box-bg-color)] p-6 rounded-lg shadow-lg border-2 border-[var(--border-color)] w-full max-w-sm mx-auto text-center\" onClick={(e) => e.stopPropagation()}>\n        <h3 className=\"text-xl font-bold text-[var(--primary-color)] mb-4\">Confirm Action</h3>\n        <p className=\"text-[var(--primary-color)] mb-6\">{message}</p>\n        <div className=\"flex justify-center space-x-4\">\n          <button\n            onClick={() => { onConfirm(); onClose(); playSound(clickSoundRef, 'click', soundSettings); }}\n            className=\"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n          >\n            Confirm\n          </button>\n          <button\n            onClick={() => { onClose(); playSound(clickSoundRef, 'click', soundSettings); }}\n            className=\"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n          >\n            Cancel\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n\n// New Product Detail Page Component\nconst ProductDetailPage = ({ product, onProductClick, onAddProductToWishlist, onHintClick, soundSettings, bookmarkedProducts, setBookmarkedProducts, user, clickSoundRef }) => {\n  // State for comments and new comment input\n  const [productComments, setProductComments] = useState([]); // Initialize as empty, fetch from Supabase\n  const [newCommentText, setNewCommentText] = useState('');\n\n  // State to manage which comments are expanded\n  const [expandedComments, setExpandedComments] = useState({});\n\n  // State for delete confirmation modal\n  const [showDeleteConfirmModal, setShowDeleteConfirmModal] = useState(false);\n  const [commentToDeleteId, setCommentToDeleteId] = useState(null);\n\n  // --- SUPABASE INTEGRATION: Fetch comments for the current product ---\n  useEffect(() => {\n    const fetchComments = async () => {\n      if (!product || !product.id) return;\n\n      const { data, error } = await supabase\n        .from('product_comments')\n        .select(`\n          *,\n          profiles (username) // Join to get the username from the profiles table\n        `)\n        .eq('product_id', product.id)\n        .order('created_at', { ascending: true }); // Order by creation time\n\n      if (error) {\n        console.error('Error fetching comments:', error);\n      } else {\n        // Map data to include username directly\n        setProductComments(data.map(comment => ({\n          ...comment,\n          user: comment.profiles ? comment.profiles.username : 'Anonymous' // Use username from profile, or 'Anonymous'\n        })));\n      }\n    };\n\n    fetchComments();\n  }, [product]); // Re-fetch when product changes\n\n  // Toggle expansion for a specific comment\n  const toggleCommentExpansion = (commentId) => {\n    setExpandedComments(prev => ({\n      ...prev,\n      [commentId]: !prev[commentId]\n    }));\n  };\n\n  if (!product) {\n    return <GenericPage title=\"Product Not Found\" content=\"The product you are looking for could not be found.\" />;\n  }\n\n  // Check if the current product is bookmarked\n  const isBookmarked = bookmarkedProducts.some(item => item.id === product.id);\n\n  // --- SUPABASE INTEGRATION: Toggle Bookmark ---\n  const handleBookmarkToggle = async () => {\n    playSound(clickSoundRef, 'click', soundSettings);\n    if (!user.isLoggedIn || !user.id) {\n      alert(\"Please sign in to manage your wishlist.\");\n      return;\n    }\n\n    try {\n      if (isBookmarked) {\n        // Remove from bookmarks\n        const { error } = await supabase\n          .from('wishlists')\n          .delete()\n          .eq('user_id', user.id)\n          .eq('product_id', product.id);\n\n        if (error) {\n          console.error('Error removing from wishlist:', error);\n          alert('Failed to remove from wishlist: ' + error.message);\n        } else {\n          setBookmarkedProducts(prev => prev.filter(item => item.id !== product.id));\n          alert(`${product.name} removed from wishlist!`);\n        }\n      } else {\n        // Add to bookmarks\n        const { error } = await supabase\n          .from('wishlists')\n          .insert([\n            {\n              user_id: user.id,\n              product_id: product.id,\n              added_at: new Date().toISOString()\n            }\n          ]);\n\n        if (error) {\n          console.error('Error adding to wishlist:', error);\n          alert('Failed to add to wishlist: ' + error.message);\n        } else {\n          setBookmarkedProducts(prev => [...prev, product]);\n          alert(`${product.name} added to wishlist!`);\n        }\n      }\n    } catch (error) {\n      console.error('Unexpected error toggling bookmark:', error);\n      alert('An unexpected error occurred.');\n    }\n  };\n\n  const handleGiftClick = () => {\n    playSound(clickSoundRef, 'click', soundSettings);\n    alert(`You've clicked to gift \"${product.name}\"! (This would lead to a checkout or external purchase link in a real app)`);\n    // In a real application, this would redirect to a checkout page or an external retailer.\n  };\n\n  // --- SUPABASE INTEGRATION: Submit Comment ---\n  const handleSubmitComment = async () => {\n    playSound(clickSoundRef, 'click', soundSettings);\n    if (newCommentText.trim() === '') {\n      alert('Comment cannot be empty.');\n      return;\n    }\n    if (!user.isLoggedIn || !user.id) {\n      alert(\"Please sign in to add comments.\");\n      return;\n    }\n\n    try {\n      const { data, error } = await supabase\n        .from('product_comments')\n        .insert([\n          {\n            product_id: product.id,\n            user_id: user.id, // Use the actual user ID\n            comment_text: newCommentText.trim(),\n            created_at: new Date().toISOString()\n          }\n        ])\n        .select(`\n            *,\n            profiles (username)\n        `) // Select the inserted row with profile data\n        .single();\n\n      if (error) {\n        console.error('Error submitting comment:', error);\n        alert('Failed to submit comment: ' + error.message);\n      } else {\n        // Add the new comment to local state, including the fetched username\n        setProductComments(prevComments => [...prevComments, {\n            ...data,\n            user: data.profiles ? data.profiles.username : 'Anonymous'\n        }]);\n        setNewCommentText('');\n      }\n    } catch (error) {\n      console.error('Unexpected error submitting comment:', error);\n      alert('An unexpected error occurred.');\n    }\n  };\n\n  // --- SUPABASE INTEGRATION: Delete Comment ---\n  const handleDeleteCommentClick = (commentId) => {\n    playSound(clickSoundRef, 'click', soundSettings);\n    setCommentToDeleteId(commentId);\n    setShowDeleteConfirmModal(true);\n  };\n\n  const confirmDeleteComment = async () => {\n    playSound(clickSoundRef, 'click', soundSettings);\n    if (!user.id || !commentToDeleteId) {\n        console.error(\"User or comment ID missing for deletion.\");\n        return;\n    }\n\n    try {\n        const { error } = await supabase\n            .from('product_comments')\n            .delete()\n            .eq('id', commentToDeleteId)\n            .eq('user_id', user.id); // Ensure only the owner can delete\n\n        if (error) {\n            console.error('Error deleting comment:', error);\n            alert('Failed to delete comment: ' + error.message);\n        } else {\n            setProductComments(prevComments => prevComments.filter(comment => comment.id !== commentToDeleteId));\n            alert('Comment deleted successfully!');\n        }\n    } catch (error) {\n        console.error('Unexpected error deleting comment:', error);\n        alert('An unexpected error occurred.');\n    } finally {\n        setCommentToDeleteId(null);\n        setShowDeleteConfirmModal(false);\n    }\n  };\n\n  // Dummy recommended products for this page (will be replaced by actual data later)\n  const recommendedProducts = [...Array(4)].map((_, i) => ({\n    id: `rec-product-${i + 1}`,\n    name: `Recommended Item ${i + 1}`,\n    image_url: `https://placehold.co/240x280/A1D3B3/FFFFFF?text=Recommended+Item+${i + 1}`, // Adjusted height for more room\n    price: (15 + i * 10).toFixed(2),\n    description: `A great recommended item.`,\n    rating: Math.floor(Math.random() * 2) + 4,\n    comments: [],\n    amazon_link: `https://www.amazon.com/dp/B07PFV1QCH?tag=yourtag-${i}` // Placeholder Amazon link\n  }));\n\n  return (\n    <div className=\"flex-grow w-full py-4 pt-[130px]\">\n      {/* Changed to h-0 pb-[33.33%] for responsive aspect ratio, object-contain for image */}\n      <section className=\"w-full h-0 pb-[33.33%] mb-8 rounded-lg shadow-lg border-2 border-[var(--border-color)] relative flex items-center justify-center\">\n        <img\n          src={`https://placehold.co/1200x400/D3A173/FFFFFF?text=${product.name.replace(/\\s/g, '+')}+Banner`} // Dynamic placeholder\n          alt={`${product.name} Banner`}\n          className=\"absolute inset-0 w-full h-full object-contain rounded-lg\"\n          onError={(e) => e.target.src = \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Image+Load+Error\"}\n        />\n        {/* Removed text overlay */}\n      </section>\n\n      <div className=\"w-full mx-auto px-4 md:px-12 py-12 bg-[var(--box-bg-color)] rounded-lg shadow-lg border-2 border-[var(--border-color)] flex flex-col lg:flex-row items-start lg:space-x-8\">\n        {/* Product Image */}\n        <div className=\"w-full lg:w-1/2 flex justify-center mb-8 lg:mb-0\">\n          <div className=\"w-80 h-[400px] bg-[var(--main-bg-color)] rounded-lg flex items-center justify-center text-[var(--primary-color)] text-xl\"> {/* Adjusted height for 4:5 ratio */}\n            <img src={product.image_url} alt={product.name} className=\"w-full h-full object-cover rounded-lg\" onError={(e) => e.target.src = `https://placehold.co/300x450/D3A173/FFFFFF?text=${product.name.replace(/\\s/g, '+')}`} />\n          </div>\n        </div>\n\n        {/* Product Details */}\n        <div className=\"w-full lg:w-1/2 flex flex-col space-y-4\">\n          <h2 className=\"text-4xl font-bold text-[var(--primary-color)]\">{product.name}</h2>\n          <div className=\"flex items-center text-3xl font-semibold text-gray-700\">\n            <span>${product.price}</span>\n            <button\n              onClick={handleBookmarkToggle}\n              className=\"ml-4 text-[var(--primary-color)] hover:text-gray-700 focus:outline-none transition-all duration-200 ease-in-out hover:scale-110 active:scale-95\"\n              aria-label={isBookmarked ? \"Remove from bookmarks\" : \"Add to bookmarks\"}\n            >\n              <i className={`fas fa-bookmark ${isBookmarked ? 'text-[var(--primary-color)]' : 'text-gray-400'}`}></i>\n            </button>\n          </div>\n          <p className=\"text-lg text-[var(--primary-color)]\">{product.description}</p>\n\n          {/* Rating */}\n          <div className=\"flex items-center space-x-1 text-yellow-500 text-xl\">\n            {[...Array(5)].map((_, i) => (\n              <i key={i} className={`fas fa-star ${i < product.rating ? '' : 'text-gray-300'}`}></i>\n            ))}\n            <span className=\"text-gray-600 ml-2 text-base\">({product.rating}.0 / 5 stars)</span>\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\"> {/* Changed to grid layout */}\n            <button onClick={handleGiftClick} className=\"px-6 py-3 bg-[var(--button-bg-color)] text-white font-bold rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 w-full\">\n              Gift\n            </button>\n            <button\n              onClick={() => { onHintClick(product); playSound(clickSoundRef, 'click', soundSettings); }} // Call onHintClick\n              className=\"px-6 py-3 bg-purple-500 text-white font-bold rounded-md shadow-md hover:bg-purple-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 w-full\">\n              <i className=\"fas fa-lightbulb mr-2\"></i> Hint\n            </button>\n            <a\n              href={product.amazon_link}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              onClick={() => playSound(clickSoundRef, 'click', soundSettings)}\n              className=\"px-6 py-3 bg-green-500 text-white font-bold rounded-md shadow-md hover:bg-green-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 text-center w-full\"\n            >\n              Go Buy <i className=\"fas fa-external-link-alt ml-1\"></i>\n            </a>\n          </div>\n\n          {/* Comments Section */}\n          <div className=\"mt-8\">\n            <h3 className=\"text-2xl font-bold text-[var(--primary-color)] mb-4\">User Comments</h3>\n            <textarea\n              className=\"w-full p-3 border border-gray-300 rounded-md mt-4 bg-[var(--main-bg-color)] text-[var(--primary-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]\"\n              rows=\"3\"\n              placeholder=\"Add your comment...\"\n              value={newCommentText}\n              onChange={(e) => setNewCommentText(e.target.value)}\n            ></textarea>\n            <button onClick={handleSubmitComment} className=\"mt-2 px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">\n              Submit Comment\n            </button>\n\n            {/* Display existing comments */}\n            <div className=\"mt-6 space-y-4\">\n              {productComments.length > 0 ? (\n                productComments.map((comment) => (\n                  <div key={comment.id} className=\"bg-[var(--main-bg-color)] p-4 rounded-md border border-[var(--border-color)]\">\n                    <div className=\"flex justify-between items-center mb-1\">\n                      <p className=\"text-sm font-semibold text-[var(--primary-color)]\">{comment.user}</p>\n                      {user.id === comment.user_id && ( // Only show delete if current user owns the comment\n                        <button\n                          onClick={() => handleDeleteCommentClick(comment.id)}\n                          className=\"text-gray-500 hover:text-red-500 transition-colors duration-200\"\n                          aria-label=\"Delete comment\"\n                        >\n                          <i className=\"fas fa-trash-alt\"></i>\n                        </button>\n                      )}\n                    </div>\n                    <p className={`text-[var(--primary-color)] ${expandedComments[comment.id] ? '' : 'line-clamp-3'}`}>\n                      {comment.text}\n                    </p>\n                    {comment.text.length > 150 && ( // Arbitrary length to show \"Read More\"\n                      <button\n                        onClick={() => toggleCommentExpansion(comment.id)}\n                        className=\"text-sm text-[var(--primary-color)] hover:underline mt-2\"\n                      >\n                        {expandedComments[comment.id] ? 'Read Less' : 'Read More'}\n                      </button>\n                    )}\n                  </div>\n                ))\n              ) : (\n                <p className=\"text-[var(--primary-color)] italic\">No comments yet. Be the first to review!</p>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Recommended Products Section */}\n      <div className=\"w-full mx-auto mt-8 px-4 md:px-12\">\n        <h3 className=\"text-3xl font-bold text-[var(--primary-color)] mb-6 text-center\">Recommended for You</h3>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n          {recommendedProducts.map((recProduct) => (\n            <div key={recProduct.id} className=\"bg-[var(--box-bg-color)] rounded-lg shadow-md border-2 border-[var(--border-color)] p-1 cursor-pointer transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n              onClick={() => { onProductClick(recProduct); playSound(clickSoundRef, 'click', soundSettings); }}>\n              <div className=\"w-full h-60 bg-[var(--main-bg-color)] rounded-md flex flex-col items-center justify-center text-[var(--primary-color)] text-lg relative mb-2\"> {/* New 4:5 ratio */}\n                <img src={recProduct.image_url} alt={recProduct.name} className=\"w-full h-full object-cover rounded-md\" onError={(e) => e.target.src = `https://placehold.co/240x280/A1D3B3/FFFFFF?text=${recProduct.name.replace(/\\s/g, '+')}`} />\n                {/* Price inside the image box */}\n                <p className=\"absolute bottom-2 text-white bg-black bg-opacity-50 px-2 py-1 rounded-md text-sm\">${recProduct.price}</p>\n              </div>\n              <h4 className=\"text-lg font-semibold text-[var(--primary-color)] text-center mb-2\">{recProduct.name}</h4>\n              <button onClick={() => { onProductClick(recProduct); playSound(clickSoundRef, 'click', soundSettings); }} className=\"mt-auto px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 w-full\">\n                View Item\n              </button>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Delete Confirmation Modal */}\n      <ConfirmationModal\n        isOpen={showDeleteConfirmModal}\n        onClose={() => setShowDeleteConfirmModal(false)}\n        onConfirm={confirmDeleteComment}\n        message=\"Are you sure you want to delete this comment?\"\n        soundSettings={soundSettings}\n        clickSoundRef={clickSoundRef}\n      />\n    </div>\n  );\n};\n\n// New Recommended Page Component\nconst RecommendedPage = ({ user, hasTakenQuiz, onQuizMeClick, onSignInClick, onProductClick, onAddProductToWishlist, soundSettings, clickSoundRef }) => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [recommendedProducts, setRecommendedProducts] = useState([]); // State for products\n\n  // --- SUPABASE INTEGRATION: Fetch recommended products ---\n  useEffect(() => {\n    const fetchRecommendedProducts = async () => {\n      if (!user.isLoggedIn || !hasTakenQuiz || !user.id) {\n        setRecommendedProducts([]); // Clear recommendations if not logged in or quiz not taken\n        setIsLoading(false);\n        return;\n      }\n\n      setIsLoading(true);\n      // Fetch quiz answers from profile\n      const { data: profile, error: profileError } = await supabase\n        .from('profiles')\n        .select('quiz_answers')\n        .eq('id', user.id)\n        .single();\n\n      if (profileError || !profile || !profile.quiz_answers) {\n        console.error('Error fetching quiz answers for recommendations:', profileError);\n        setRecommendedProducts([]);\n        setIsLoading(false);\n        return;\n      }\n\n      const quizAnswers = profile.quiz_answers;\n      // In a real scenario, you would use quizAnswers to filter/order products more intelligently.\n      // For this demo, we'll just fetch some random products or top-rated ones.\n      const { data, error } = await supabase\n        .from('products')\n        .select('*')\n        .limit(10) // Fetch a limited number of products\n        .order('rating', { ascending: false }); // Example: order by rating\n\n      if (error) {\n        console.error('Error fetching recommended products:', error);\n      } else {\n        setRecommendedProducts(data);\n      }\n      setIsLoading(false);\n    };\n\n    fetchRecommendedProducts();\n  }, [user.isLoggedIn, hasTakenQuiz, user.id]); // Re-fetch when these dependencies change\n\n  const handleTakeQuizPrompt = () => {\n    playSound(clickSoundRef, 'click', soundSettings); // Play click sound\n    // This will trigger the Quiz Modal from the App component\n    onQuizMeClick();\n  };\n\n  return (\n    <div className=\"flex-grow w-full py-4 pt-[130px]\">\n      {/* Changed to h-0 pb-[33.33%] for responsive aspect ratio, object-contain for image */}\n      <section className=\"w-full h-0 pb-[33.33%] mb-8 rounded-lg shadow-lg border-2 border-[var(--border-color)] relative flex items-center justify-center\">\n        <img\n          src=\"https://placehold.co/1200x400/D3A173/FFFFFF?text=Recommended+Banner\" // Updated placeholder image\n          alt=\"Recommended for You Banner\"\n          className=\"absolute inset-0 w-full h-full object-contain rounded-lg\"\n          onError={(e) => e.target.src = \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Image+Load+Error\"}\n        />\n        {/* Removed text overlay */}\n      </section>\n      <div className=\"w-full mx-auto px-4 md:px-12\">\n        {!user.isLoggedIn ? (\n          <div className=\"text-center text-xl text-[var(--primary-color)] py-12 bg-[var(--box-bg-color)] rounded-lg shadow-lg border-2 border-[var(--border-color)]\">\n            <p className=\"mb-4\">Please sign in to get personalized recommendations.</p>\n            <button\n              onClick={() => { onSignInClick(); playSound(clickSoundRef, 'click', soundSettings); }}\n              className=\"px-6 py-3 bg-[var(--button-bg-color)] text-white font-bold rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n            >\n              Sign In\n            </button>\n          </div>\n        ) : !hasTakenQuiz ? (\n          <div className=\"text-center text-xl text-[var(--primary-color)] py-12 bg-[var(--box-bg-color)] rounded-lg shadow-lg border-2 border-[var(--border-color)]\">\n            <p className=\"mb-4\">Recommendations are provided through quiz answers.</p>\n            <button\n              onClick={handleTakeQuizPrompt}\n              className=\"px-6 py-3 bg-[var(--button-bg-color)] text-white font-bold rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n            >\n              Want to take your quiz now? ✨\n            </button>\n          </div>\n        ) : isLoading ? (\n          <div className=\"text-center text-xl text-[var(--primary-color)]\">Loading recommendations...</div>\n        ) : (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {recommendedProducts.map((product) => (\n              <div key={product.id} className=\"bg-[var(--box-bg-color)] rounded-lg shadow-md border-2 border-[var(--border-color)] p-1 cursor-pointer transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">\n                <div className=\"w-full h-84 bg-[var(--main-bg-color)] rounded-md flex flex-col items-center justify-center text-[var(--primary-color)] text-lg relative mb-2\"\n                  onClick={() => { onProductClick(product); playSound(clickSoundRef, 'click', soundSettings); }}>\n                  <img src={product.image_url} alt={product.name} className=\"w-full h-full object-cover rounded-md\" onError={(e) => e.target.src = `https://placehold.co/240x280/A1D3B3/FFFFFF?text=${product.name.replace(/\\s/g, '+')}`} />\n                  <p className=\"absolute bottom-2 text-white bg-black bg-opacity-50 px-2 py-1 rounded-md text-sm\">${product.price}</p>\n                </div>\n                <h3 className=\"text-xl font-semibold text-[var(--primary-color)] text-center mb-2\">{product.name}</h3>\n                <div className=\"flex flex-col space-y-3 w-full px-2\"> {/* Increased space-y from 2 to 3 */}\n                  <button\n                    onClick={() => { onAddProductToWishlist(product); playSound(clickSoundRef, 'click', soundSettings); }}\n                    className=\"px-6 py-2 bg-gray-500 text-white rounded-md shadow-md hover:bg-gray-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 w-full\">\n                    Add to Wyshlist\n                  </button>\n                  <a\n                    href={product.amazon_link}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    onClick={() => playSound(clickSoundRef, 'click', soundSettings)}\n                    className=\"px-6 py-2 bg-[var(--button-bg-color)] text-white font-bold rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 text-center w-full\"\n                  >\n                    Go Buy <i className=\"fas fa-external-link-alt ml-1\"></i>\n                  </a>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n\n// New Cover Page Component\nconst CoverPage = ({ onGuestSignIn, onSignInClick, onTermsAndConditionsClick, isDarkMode, onSocialSignIn, isTransitioningOut, showApiKeyError, onCreateAccountClick, soundSettings, clickSoundRef }) => {\n  const [agreedToTerms, setAgreedToTerms] = useState(false);\n\n  // Determine background color based on dark mode\n  const backgroundColor = isDarkMode ? '#000000' : '#FFDDBD'; // Black for dark, light brown for light\n\n  return (\n    <div className={`fixed inset-0 flex flex-col items-center justify-center p-4 z-50 transition-all duration-1000 ease-in-out ${isTransitioningOut ? 'opacity-0 translate-y-full' : 'opacity-100 translate-y-0'}`} style={{ backgroundColor }}>\n      <div className=\"w-full max-w-md p-8 rounded-lg shadow-lg text-center\" style={{ backgroundColor: 'var(--box-bg-color)', border: '2px solid var(--border-color)' }}>\n        <img src=\"https://placehold.co/80x80/transparent/9A6E45?text=Logo\" alt=\"WyshDrop Logo\" className=\"h-20 w-20 mx-auto mb-6 object-contain\" />\n        <h2 className=\"text-4xl font-bold text-[var(--primary-color)] mb-8\">Create an account</h2>\n\n        {showApiKeyError && (\n          <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4\" role=\"alert\">\n            <strong className=\"font-bold\">Supabase Error!</strong>\n            <span className=\"block sm:inline\"> Your Supabase URL or Anon Key is invalid. Please update `supabaseUrl` and `supabaseAnonKey` in `App.jsx` with your actual project details from the Supabase Dashboard.</span>\n          </div>\n        )}\n\n        <div className=\"space-y-4 mb-6\">\n          <button\n            onClick={() => { onSocialSignIn('google'); playSound(clickSoundRef, 'click', soundSettings); }} // Changed to 'google' for Supabase\n            className=\"w-full flex items-center justify-center px-6 py-3 bg-white text-gray-800 rounded-lg shadow-md hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n          >\n            <i className=\"fab fa-google text-xl mr-3\"></i> Sign up with Google\n          </button>\n          {/* Removed Apple and Microsoft Sign-up Buttons */}\n        </div>\n\n        <div className=\"flex items-center my-6\">\n          <hr className=\"flex-grow border-t border-gray-300\" />\n          <span className=\"px-4 text-[var(--primary-color)]\">OR</span>\n          <hr className=\"flex-grow border-t border-gray-300\" />\n        </div>\n\n        <button onClick={() => { onCreateAccountClick(); playSound(clickSoundRef, 'click', soundSettings); }} className=\"w-full px-6 py-3 bg-[var(--button-bg-color)] text-white font-bold rounded-lg shadow-md hover:bg-opacity-90 mb-4 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">\n          Create account\n        </button>\n\n        <div className=\"flex items-center justify-center mb-6 text-sm text-[var(--primary-color)]\">\n          <input\n            type=\"checkbox\"\n            id=\"terms-checkbox\"\n            checked={agreedToTerms}\n            onChange={(e) => { setAgreedToTerms(e.target.checked); playSound(clickSoundRef, 'click', soundSettings); }}\n            className=\"mr-2 h-4 w-4 text-[var(--primary-color)] focus:ring-[var(--primary-color)] border-gray-300 rounded\"\n          />\n          <label htmlFor=\"terms-checkbox\">\n            By signing up, you agree to the <a href=\"#\" onClick={(e) => { e.preventDefault(); onTermsAndConditionsClick(); playSound(clickSoundRef, 'click', soundSettings); }} className=\"text-[var(--primary-color)] hover:underline\">Terms of Service</a> and <a href=\"#\" className=\"text-[var(--primary-color)] hover:underline\">Privacy Policy</a>, including <a href=\"#\" className=\"text-[var(--primary-color)] hover:underline\">Cookie Use</a>.\n          </label>\n        </div>\n\n        <button\n          onClick={() => { onGuestSignIn(); playSound(clickSoundRef, 'click', soundSettings); }}\n          disabled={!agreedToTerms}\n          className={`w-full px-6 py-3 font-bold rounded-lg shadow-md transition-all duration-200 ease-in-out ${\n            agreedToTerms\n              ? 'bg-gray-600 text-white hover:bg-gray-700 hover:scale-105 active:scale-95'\n              : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n          }`}\n        >\n          Sign in as Guest\n        </button>\n\n        <div className=\"mt-8\">\n          <p className=\"text-[var(--primary-color)] mb-4\">Already have an account?</p>\n          <button\n            onClick={() => { onSignInClick(); playSound(clickSoundRef, 'click', soundSettings); }}\n            className=\"w-full px-6 py-3 bg-[var(--box-bg-color)] text-[var(--primary-color)] font-bold rounded-lg shadow-md border-2 border-[var(--border-color)] hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n          >\n            Sign in\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// New Terms and Conditions Page Component\nconst TermsAndConditionsPage = ({ onBack, soundSettings, clickSoundRef }) => {\n  return (\n    <div className=\"flex-grow w-full py-4 pt-[130px]\"> {/* Adjusted padding top for fixed header and nav bar */}\n      {/* Changed to h-0 pb-[33.33%] for responsive aspect ratio, object-contain for image */}\n      <section className=\"w-full h-0 pb-[33.33%] mb-8 rounded-lg shadow-lg border-2 border-[var(--border-color)] relative flex items-center justify-center\">\n        <img\n          src=\"https://placehold.co/1200x400/D3A173/FFFFFF?text=Terms+Banner\" // Updated placeholder image\n          alt=\"Terms and Conditions Banner\"\n          className=\"absolute inset-0 w-full h-full object-contain rounded-lg\"\n          onError={(e) => e.target.src = \"https://placehold.co/1200x400/D3A173/FFFFFF?text=Image+Load+Error\"}\n        />\n        {/* Removed text overlay */}\n      </section>\n      <div className=\"w-full mx-auto px-4 md:px-12 py-12 bg-[var(--box-bg-color)] rounded-lg shadow-lg border-2 border-[var(--border-color)]\"> {/* Adjusted padding */}\n        <h2 className=\"text-3xl font-bold text-[var(--primary-color)] mb-6 text-center\">WyshDrop Terms of Service</h2>\n        <div className=\"text-[var(--primary-color)] text-lg leading-relaxed space-y-4\">\n          <p>Welcome to WyshDrop! These Terms of Service (\"Terms\")... (content truncated for brevity)</p>\n        </div>\n        <div className=\"text-center mt-8\">\n          <button\n            onClick={() => { onBack(); playSound(clickSoundRef, 'click', soundSettings); }}\n            className=\"px-6 py-3 bg-[var(--button-bg-color)] text-white font-bold rounded-md shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n          >\n            Back to Home\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// New Wishlist Success Popup Component\nconst WishlistSuccessPopup = ({ isVisible, productName, onCheckBookmarks, onClose, soundSettings, clickSoundRef }) => {\n  if (!isVisible) return null;\n\n  return (\n    <div className=\"fixed top-4 right-4 z-50 flex items-center bg-[var(--box-bg-color)] p-4 rounded-lg shadow-lg border-2 border-[var(--border-color)] animate-fade-in-out\">\n      <div className=\"flex flex-col items-end\">\n        <p className=\"text-sm text-[var(--primary-color)] mb-1\">\n          Added {productName} to wishlist!\n        </p>\n        <button\n          onClick={() => { onCheckBookmarks(); playSound(clickSoundRef, 'click', soundSettings); }}\n          className=\"text-xs text-[var(--primary-color)] hover:underline flex items-center space-x-1\"\n        >\n          <span>Check it out here</span>\n          <i className=\"fas fa-arrow-right transform rotate-45 text-lg ml-1\" style={{ transform: 'rotate(-45deg)' }}></i> {/* Arrow pointing towards bookmark */}\n        </button>\n      </div>\n      <button onClick={() => { onClose(); playSound(clickSoundRef, 'click', soundSettings); }} className=\"ml-4 text-gray-500 hover:text-gray-700\">\n        <i className=\"fas fa-times\"></i>\n      </button>\n      <style>{`\n        @keyframes fadeInOut {\n          0% { opacity: 0; transform: translateY(-20px); }\n          10% { opacity: 1; transform: translateY(0); }\n          90% { opacity: 1; transform: translateY(0); }\n          100% { opacity: 0; transform: translateY(-20px); }\n        }\n        .animate-fade-in-out {\n          animation: fadeInOut 3s forwards;\n        }\n      `}</style>\n    </div>\n  );\n};\n\n// New Create Account Page Component\nconst CreateAccountPage = ({ onCreateAccount, onBackToSignIn, soundSettings, clickSoundRef }) => {\n  const [email, setEmail] = useState('');\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState(''); // Added password field\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    playSound(clickSoundRef, 'click', soundSettings);\n    if (!email || !firstName || !lastName || !username || !password) {\n      alert('Please fill in all fields.');\n      return;\n    }\n\n    // --- SUPABASE INTEGRATION: Sign Up with Email/Password ---\n    try {\n      const { data, error } = await supabase.auth.signUp({\n        email: email,\n        password: password,\n        options: {\n          data: {\n            first_name: firstName,\n            last_name: lastName,\n            username: username,\n          },\n        },\n      });\n\n      if (error) {\n        alert(\"Account creation failed: \" + error.message);\n        console.error(\"Supabase signup error:\", error);\n      } else if (data.user) {\n        alert(\"Account created successfully! Please check your email to confirm your account.\");\n        // Supabase's onAuthStateChange listener in App.js will handle setting user state and navigation\n        onCreateAccount({ email, firstName, lastName, username }); // Trigger parent to possibly update UI/state\n      }\n    } catch (error) {\n      console.error(\"Unexpected error during Supabase signup:\", error);\n      alert(\"An unexpected error occurred during account creation.\");\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 flex flex-col items-center justify-center p-4 z-50\" style={{ backgroundColor: 'var(--main-bg-color)' }}>\n      <div className=\"w-full max-w-md p-8 rounded-lg shadow-lg text-center\" style={{ backgroundColor: 'var(--box-bg-color)', border: '2px solid var(--border-color)' }}>\n        <img src=\"https://placehold.co/80x80/transparent/9A6E45?text=Logo\" alt=\"WyshDrop Logo\" className=\"h-20 w-20 mx-auto mb-6 object-contain\" />\n        <h2 className=\"text-4xl font-bold text-[var(--primary-color)] mb-8\">Create Your Account</h2>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div>\n            <input\n              type=\"email\"\n              placeholder=\"Email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              className=\"w-full p-3 rounded-lg shadow-sm border-2 border-[var(--border-color)] bg-[var(--main-bg-color)] text-[var(--primary-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]\"\n              required\n            />\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <input\n              type=\"text\"\n              placeholder=\"First Name\"\n              value={firstName}\n              onChange={(e) => setFirstName(e.target.value)}\n              className=\"w-full p-3 rounded-lg shadow-sm border-2 border-[var(--border-color)] bg-[var(--main-bg-color)] text-[var(--primary-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]\"\n              required\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Last Name\"\n              value={lastName}\n              onChange={(e) => setLastName(e.target.value)}\n              className=\"w-full p-3 rounded-lg shadow-sm border-2 border-[var(--border-color)] bg-[var(--main-bg-color)] text-[var(--primary-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]\"\n              required\n            />\n          </div>\n          <div>\n            <input\n              type=\"text\"\n              placeholder=\"Username\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n              className=\"w-full p-3 rounded-lg shadow-sm border-2 border-[var(--border-color)] bg-[var(--main-bg-color)] text-[var(--primary-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]\"\n              required\n            />\n          </div>\n          <div>\n            <input\n              type=\"password\"\n              placeholder=\"Password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              className=\"w-full p-3 rounded-lg shadow-sm border-2 border-[var(--border-color)] bg-[var(--main-bg-color)] text-[var(--primary-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]\"\n              required\n            />\n          </div>\n          <button\n            type=\"submit\"\n            className=\"w-full px-6 py-3 bg-[var(--button-bg-color)] text-white font-bold rounded-lg shadow-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n          >\n            Create Account\n          </button>\n        </form>\n\n        <div className=\"mt-8\">\n          <p className=\"text-[var(--primary-color)] mb-4\">Already have an account?</p>\n          <button\n            onClick={() => { onBackToSignIn(); playSound(clickSoundRef, 'click', soundSettings); }}\n            className=\"w-full px-6 py-3 bg-[var(--box-bg-color)] text-[var(--primary-color)] font-bold rounded-lg shadow-md border-2 border-[var(--border-color)] hover:bg-gray-100 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n          >\n            Back to Sign In\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n\n// Main App component\nconst App = () => {\n  console.log(\"App component is rendering.\"); // Added for debugging\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [currentPage, setCurrentPage] = useState('cover'); // Start with the cover page\n  const [currentCategory, setCurrentCategory] = useState(''); // To store the clicked category name\n  const [currentSubcategory, setCurrentSubcategory] = useState(''); // To store the clicked subcategory name\n  // --- SUPABASE INTEGRATION: Updated user state to include 'id' and 'profile_image_url' ---\n  const [user, setUser] = useState({ isLoggedIn: false, username: 'Guest', email: '', id: null, profile_image_url: null }); // User state\n  const [hasTakenQuiz, setHasTakenQuiz] = useState(false); // New state for quiz status\n  const [bookmarkedProducts, setBookmarkedProducts] = useState([]); // State for bookmarked products\n  const [isGeneralFeedbackModalOpen, setIsGeneralFeedbackModalOpen] = useState(false);\n  const [isHeaderVisible, setIsHeaderVisible] = useState(true); // State for header visibility\n  const [lastScrollY, setLastScrollY] = useState(0); // To track scroll position\n  const [selectedProduct, setSelectedProduct] = useState(null); // State to hold the product for detail page\n  const [isCoverPageTransitioningOut, setIsCoverPageTransitioningOut] = useState(false); // New state for cover page animation\n  const [showApiKeyError, setShowApiKeyError] = useState(false); // New state for API key error message\n  const [showQuizModal, setShowQuizModal] = useState(false); // State for Quiz Modal (moved here for global access)\n  const [showQuizPromptModal, setShowQuizPromptModal] = useState(false); // New state for quiz prompt modal\n  const [showWishlistSuccessPopup, setShowWishlistSuccessPopup] = useState(false); // New state for wishlist popup\n  const [wishlistPopupProductName, setWishlistPopupProductName] = useState(''); // Product name for wishlist popup\n  const [showHintModal, setShowHintModal] = useState(false); // New state for Hint Modal\n  // --- SUPABASE INTEGRATION: Gifting contacts will be fetched from DB, initialize as empty ---\n  const [giftingContacts, setGiftingContacts] = useState([]);\n\n  // Refs for Tone.js players\n  const clickSoundRef = useRef(null);\n  const scrollSoundRef = useRef(null); // Still needed for the scroll debounce, even if sound is off\n  const pageTransitionSoundRef = useRef(null); // Still needed, even if sound is off\n\n  // Sound settings state\n  const [soundSettings, setSoundSettings] = useState({\n    isAllSoundEnabled: true,\n    isClickSoundEnabled: true,\n    isScrollSoundEnabled: false, // Changed to false\n    isPageTransitionSoundEnabled: false, // Changed to false\n  });\n\n  // Effect to load Tone.js and initialize players\n  useEffect(() => {\n    const script = document.createElement('script');\n    script.src = \"https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.min.js\";\n    script.async = true;\n    script.onload = () => {\n      console.log(\"Tone.js loaded successfully via CDN.\");\n      if (window.Tone) { // Check if Tone is available on window\n        // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n        // IMPORTANT: YOU MUST REPLACE THESE EMPTY STRINGS WITH DIRECT, RAW LINKS TO YOUR OWN HOSTED SOUND FILES.\n        // Generic placeholder URLs (like soundhelix.com) often do not work due to CORS policies or direct linking restrictions.\n        // You need to host your MP3/WAV files yourself (e.g., on Firebase Storage, AWS S3, or another CDN)\n        // and provide the direct, publicly accessible URLs here.\n        //\n        // For GitHub, ensure you are using the \"Raw\" link (e.g., raw.githubusercontent.com/your-username/your-repo/main/sounds/click.mp3)\n        // NOT the regular github.com link.\n        //\n        // Example: \"https://raw.githubusercontent.com/your-username/your-repo/main/sounds/click.mp3\"\n        // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n        clickSoundRef.current = new window.Tone.Player({\n          url: \"YOUR_RAW_GITHUB_URL_FOR_CLICK_SOUND.mp3\", // <--- REPLACE THIS WITH YOUR ACTUAL RAW GITHUB URL for click sound\n          onload: () => console.log(\"Click sound loaded\"),\n          onerror: (e) => console.error(\"Error loading click sound:\", e)\n        }).toDestination();\n\n        // Scroll and page transition sounds are disabled by default, but still need players initialized\n        scrollSoundRef.current = new window.Tone.Player({\n          url: \"YOUR_RAW_GITHUB_URL_FOR_SCROLL_SOUND.mp3\", // <--- REPLACE THIS WITH YOUR ACTUAL RAW GITHUB URL for scroll sound\n          onload: () => console.log(\"Scroll sound loaded\"),\n          onerror: (e) => console.error(\"Error loading scroll sound:\", e)\n        }).toDestination();\n\n        pageTransitionSoundRef.current = new window.Tone.Player({\n          url: \"YOUR_RAW_GITHUB_URL_FOR_PAGE_TRANSITION_SOUND.mp3\", // <--- REPLACE THIS WITH YOUR ACTUAL RAW GITHUB URL for page transition sound\n          onload: () => console.log(\"Page transition sound loaded\"),\n          onerror: (e) => console.error(\"Error loading page transition sound:\", e)\n        }).toDestination();\n      }\n    };\n    script.onerror = (e) => console.error(\"Error loading Tone.js via CDN:\", e);\n    document.body.appendChild(script);\n\n    return () => {\n      // Cleanup Tone.js players and script on unmount\n      if (clickSoundRef.current) clickSoundRef.current.dispose();\n      if (scrollSoundRef.current) scrollSoundRef.current.dispose();\n      if (pageTransitionSoundRef.current) pageTransitionSoundRef.current.dispose();\n      if (document.body.contains(script)) {\n        document.body.removeChild(script);\n      }\n    };\n  }, []); // Empty dependency array means it runs once on mount\n\n\n  // Color scheme states - these will hold the *currently active* colors\n  const [currentMainBgColor, setCurrentMainBgColor] = useState(\"#FFDDBD\");\n  const [currentPrimaryColor, setCurrentPrimaryColor] = useState(\"#9A6E45\");\n  const [currentBorderColor, setCurrentBorderColor] = useState(\"#D3A173\");\n  const [currentBoxBgColor, setCurrentBoxBgColor] = useState(\"#FFFFFF\");\n  const [currentButtonBgColor, setCurrentButtonBgColor] = useState(\"#9A6E45\");\n  const [currentFooterBgColor, setCurrentFooterBgColor] = useState(\"#9A6E45\");\n\n  const [isDarkMode, setIsDarkMode] = useState(false);\n\n  // Define color palettes with both light and dark modes\n  const colorPalettes = [\n    {\n      name: \"Default\",\n      light: { mainBg: \"#FFDDBD\", primary: \"#9A6E45\", border: \"#D3A173\", boxBg: \"#FFFFFF\", buttonBg: \"#9A6E45\", footerBg: \"#9A6E45\" },\n      dark: { mainBg: \"#000000\", primary: \"#FFFFFF\", border: \"#5A5BA6\", boxBg: \"#343570\", buttonBg: \"#272882\", footerBg: \"#343570\" }\n    },\n    {\n      name: \"Ocean Blue\", // Desaturated pastel\n      light: { mainBg: \"#E0F2F7\", primary: \"#2C5282\", border: \"#A7D9EB\", boxBg: \"#FFFFFF\", buttonBg: \"#4299E1\", footerBg: \"#2C5282\" },\n      dark: { mainBg: \"#CCE0E8\", primary: \"#2C5282\", border: \"#A7D9EB\", boxBg: \"#E0F2F7\", buttonBg: \"#4299E1\", footerBg: \"#E0F2F7\" } // Slightly darker pastel for dark mode\n    },\n    {\n      name: \"Forest Green\", // Desaturated forest green\n      light: { mainBg: \"#EAF4E4\", primary: \"#4F7942\", border: \"#C8DCCB\", boxBg: \"#FFFFFF\", buttonBg: \"#6B8E23\", footerBg: \"#4F7942\" },\n      dark: { mainBg: \"#D7E0D2\", primary: \"#4F7942\", border: \"#C8DCCB\", boxBg: \"#EAF4E4\", buttonBg: \"#6B8E23\", footerBg: \"#EAF4E4\" }\n    },\n    {\n      name: \"Lavender\", // Light lavender\n      light: { mainBg: \"#F8F0FF\", primary: \"#9370DB\", border: \"#E1CCF7\", boxBg: \"#FFFFFF\", buttonBg: \"#A58EDF\", footerBg: \"#9370DB\" },\n      dark: { mainBg: \"#EFE5F9\", primary: \"#9370DB\", border: \"#E1CCF7\", boxBg: \"#F8F0FF\", buttonBg: \"#A58EDF\", footerBg: \"#F8F0FF\" }\n    },\n  ];\n\n  // Function to apply a palette (either light or dark version based on current mode)\n  const applyPalette = (palette) => {\n    const selectedColors = isDarkMode ? palette.dark : palette.light;\n    setCurrentMainBgColor(selectedColors.mainBg);\n    setCurrentPrimaryColor(selectedColors.primary);\n    setCurrentBorderColor(selectedColors.border);\n    setCurrentBoxBgColor(selectedColors.boxBg);\n    setCurrentButtonBgColor(selectedColors.buttonBg);\n    setCurrentFooterBgColor(selectedColors.footerBg);\n  };\n\n  // Initial application of default palette on mount\n  useEffect(() => {\n    applyPalette(colorPalettes[0]);\n  }, []);\n\n  // Update CSS variables whenever current colors or dark mode changes\n  useEffect(() => {\n    document.documentElement.style.setProperty('--main-bg-color', currentMainBgColor);\n    document.documentElement.style.setProperty('--primary-color', currentPrimaryColor);\n    document.documentElement.style.setProperty('--border-color', currentBorderColor);\n    document.documentElement.style.setProperty('--box-bg-color', currentBoxBgColor);\n    document.documentElement.style.setProperty('--button-bg-color', currentButtonBgColor);\n    document.documentElement.style.setProperty('--footer-bg-color', currentFooterBgColor);\n    document.documentElement.style.setProperty('--text-color', isDarkMode ? '#FFFFFF' : currentPrimaryColor); // Text color logic\n  }, [currentMainBgColor, currentPrimaryColor, currentBorderColor, currentBoxBgColor, currentButtonBgColor, currentFooterBgColor, isDarkMode]);\n\n  const toggleDarkMode = () => {\n    setIsDarkMode(prevMode => {\n      const newMode = !prevMode;\n      // Find the current palette based on its light or dark colors\n      const currentPaletteData = colorPalettes.find(p =>\n        (p.light.mainBg === currentMainBgColor && !prevMode) || (p.dark.mainBg === currentMainBgColor && prevMode)\n      ) || colorPalettes[0]; // Fallback to default if not found\n\n      if (newMode) { // Switching to dark mode\n        setCurrentMainBgColor(currentPaletteData.dark.mainBg);\n        setCurrentPrimaryColor(currentPaletteData.dark.primary);\n        setCurrentBorderColor(currentPaletteData.dark.border);\n        setCurrentBoxBgColor(currentPaletteData.dark.boxBg);\n        setCurrentButtonBgColor(currentPaletteData.dark.buttonBg);\n        setCurrentFooterBgColor(currentPaletteData.dark.footerBg);\n      } else { // Switching to light mode\n        setCurrentMainBgColor(currentPaletteData.light.mainBg);\n        setCurrentPrimaryColor(currentPaletteData.light.primary);\n        setCurrentBorderColor(currentPaletteData.light.border);\n        setCurrentBoxBgColor(currentPaletteData.light.boxBg);\n        setCurrentButtonBgColor(currentPaletteData.light.buttonBg);\n        setCurrentFooterBgColor(currentPaletteData.light.footerBg);\n      }\n      return newMode;\n    });\n  };\n\n  const toggleSidebar = () => {\n    setIsSidebarOpen(!isSidebarOpen);\n  };\n\n  const categories = [\n    \"Trending\", \"Books\", \"Accessories\", \"DIY/Art\", \"Tech\",\n    \"Cups / Drinks\", \"Stationary\", \"Music\", \"Figurines / Plushies\",\n    \"Gift Cards\", \"Blooms\", \"Recommended\", \"Quiz Me\", \"Donate\" // Added Recommended\n  ];\n\n  // Handlers for navigation\n  const handleSearchClick = () => setCurrentPage('search');\n  const handleBookmarkClick = () => setCurrentPage('bookmarks');\n  const handleSettingsClick = () => setCurrentPage('settings');\n  const handleProfileClick = () => setCurrentPage('profile');\n  const handleBack = () => {\n    // Simple back logic: if on product detail, go to home (or previous category/search if implemented)\n    if (currentPage === 'product-detail') {\n      setCurrentPage('home'); // For simplicity, always go back to home for now\n      setSelectedProduct(null);\n    } else if (['subcategory', 'recommended'].includes(currentPage) || categories.includes(currentPage)) {\n      setCurrentPage('home');\n    } else if (currentPage === 'terms-conditions') {\n      setCurrentPage('cover'); // Go back to cover page from T&C\n    } else if (currentPage === 'create-account') { // Back from create account page\n      setCurrentPage('cover');\n    }\n    else {\n      setCurrentPage('home');\n    }\n  };\n\n  const handleCategoryClick = (event, category) => {\n    if (event) event.preventDefault(); // Prevent default link behavior if event is provided\n    if (category === \"Quiz Me\") {\n      setShowQuizModal(true); // Open quiz modal directly\n    } else if (category === \"Donate\") {\n      handleDonateClick(); // Trigger donate action\n    } else if (category === \"Recommended\") {\n      handleRecommendedClick();\n    }\n    else {\n      setCurrentPage(category);\n      setCurrentCategory(category);\n    }\n  };\n\n  const handleSubcategoryClick = (subcategory) => {\n    setCurrentPage('subcategory');\n    setCurrentSubcategory(subcategory);\n  };\n\n  const handleProductClick = (product) => {\n    setSelectedProduct(product);\n    setCurrentPage('product-detail');\n  };\n\n  const handleWyshDropClick = () => {\n    setCurrentPage('home');\n  };\n\n  const handleSidebarNavigation = (pageName) => {\n    setCurrentPage(pageName);\n    setIsSidebarOpen(false); // Close sidebar after navigation\n  };\n\n  const handleDonateClick = () => {\n    console.log(\"Donate button clicked!\");\n    // Implement donation logic (e.g., redirect to a donation page or show a modal)\n    setIsSidebarOpen(false); // Close sidebar\n    alert(\"Thank you for your interest in donating! Donation features are coming soon.\"); // Simple alert for now\n  };\n\n  const handleGeneralFeedbackSubmit = (feedback) => {\n    console.log(\"General feedback submitted:\", feedback);\n    // Implement feedback submission logic\n  };\n\n  // Function to show wishlist success popup\n  const handleShowWishlistSuccess = (productName) => {\n    setWishlistPopupProductName(productName);\n    setShowWishlistSuccessPopup(true);\n    setTimeout(() => {\n      setShowWishlistSuccessPopup(false);\n      setWishlistPopupProductName('');\n    }, 3000); // Disappear after 3 seconds\n  };\n\n  // --- SUPABASE INTEGRATION: Add Product to Wishlist ---\n  const handleAddProductToWishlist = async (product) => {\n    if (!user.isLoggedIn || !user.id) {\n      alert(\"Please sign in to add items to your wishlist.\");\n      return;\n    }\n\n    // Check if product already exists in local state (for immediate UI update)\n    const isAlreadyBookmarked = bookmarkedProducts.some(item => item.id === product.id);\n    if (isAlreadyBookmarked) {\n      alert(`${product.name} is already in your wishlist!`);\n      return;\n    }\n\n    try {\n      const { data, error } = await supabase\n        .from('wishlists')\n        .insert([\n          {\n            user_id: user.id,\n            product_id: product.id,\n            added_at: new Date().toISOString()\n          }\n        ]);\n\n      if (error) {\n        console.error('Error adding to wishlist:', error);\n        alert('Failed to add to wishlist: ' + error.message);\n      } else {\n        console.log('Added to wishlist:', data);\n        // Update local state to reflect the change\n        setBookmarkedProducts(prev => [...prev, product]);\n        handleShowWishlistSuccess(product.name);\n      }\n    } catch (error) {\n      console.error('Unexpected error adding to wishlist:', error);\n      alert('An unexpected error occurred.');\n    }\n  };\n\n  // Handler for opening the Hint modal\n  const handleHintClick = (product) => {\n    setSelectedProduct(product); // Ensure the product is set for the modal\n    setShowHintModal(true);\n  };\n\n\n  // Header visibility logic\n  const toggleHeaderVisibility = useCallback(() => {\n    setIsHeaderVisible(prev => !prev);\n  }, []);\n\n  useEffect(() => {\n    const handleScroll = debounce(() => { // Debounce the scroll handler\n      const currentScrollY = window.scrollY;\n\n      // Only play scroll sound if there's actual scrolling and sound is enabled\n      // The scroll sound is now disabled by default, so this will not play unless enabled in settings.\n      if (Math.abs(currentScrollY - lastScrollY) > 20) { // Threshold to prevent sound on minor movements\n        playSound(scrollSoundRef, 'scroll', soundSettings);\n      }\n\n      // If at the very top, always show header\n      if (currentScrollY === 0) {\n        setIsHeaderVisible(true);\n      } else if (currentScrollY > lastScrollY) {\n        // Scrolling down\n        setIsHeaderVisible(false);\n      } else {\n        // Scrolling up\n        setIsHeaderVisible(true);\n      }\n      setLastScrollY(currentScrollY);\n    }, 100); // Debounce for 100ms\n\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, [lastScrollY, soundSettings, scrollSoundRef]); // Add soundSettings and scrollSoundRef to dependency array\n\n  // --- SUPABASE INTEGRATION: Helper function to fetch user-specific data ---\n  const fetchUserSpecificData = async (userId) => {\n      if (!userId) return; // Only fetch if user is logged in\n\n      // Fetch Wishlist\n      const { data: wishlistData, error: wishlistError } = await supabase\n        .from('wishlists')\n        .select('product_id, products(*)') // Select product details via join\n        .eq('user_id', userId);\n\n      if (wishlistError) {\n        console.error('Error fetching wishlist:', wishlistError);\n      } else {\n        // Supabase returns nested data for the join, flatten it for your state\n        setBookmarkedProducts(wishlistData.map(item => item.products));\n      }\n\n      // Fetch Gifting Contacts\n      const { data: contactsData, error: contactsError } = await supabase\n        .from('gifting_contacts')\n        .select('*')\n        .eq('user_id', userId);\n\n      if (contactsError) {\n        console.error('Error fetching gifting contacts:', contactsError);\n      } else {\n        setGiftingContacts(contactsData);\n      }\n  };\n\n\n  // --- SUPABASE INTEGRATION: Auth Listener and Initial Session Check ---\n  useEffect(() => {\n    const { data: authListener } = supabase.auth.onAuthStateChange(\n      async (event, session) => {\n        if (session) {\n          const userEmail = session.user.email;\n          const userName = session.user.user_metadata?.username || session.user.user_metadata?.full_name || session.user.email?.split('@')[0] || 'User';\n          const userId = session.user.id;\n\n          // 1. Fetch/Create User Profile in 'profiles' table\n          let { data: profile, error: profileError } = await supabase\n            .from('profiles')\n            .select('*')\n            .eq('id', userId)\n            .single(); // Use .single() as it's a one-to-one relationship\n\n          if (profileError && profileError.code === 'PGRST116') { // No rows found (profile doesn't exist)\n            console.log(\"Profile not found, creating new profile...\");\n            const { data: newProfile, error: insertError } = await supabase\n              .from('profiles')\n              .insert([\n                {\n                  id: userId,\n                  username: userName,\n                  first_name: session.user.user_metadata?.first_name || null,\n                  last_name: session.user.user_metadata?.last_name || null,\n                  email: userEmail,\n                  profile_image_url: session.user.user_metadata?.avatar_url || null, // Use avatar from social login if available\n                  has_taken_quiz: false, // Default to false for new users\n                  quiz_answers: {}\n                }\n              ])\n              .select()\n              .single();\n\n            if (insertError) {\n              console.error('Error creating profile:', insertError);\n              // Handle error, maybe sign out or show a message\n            } else {\n              profile = newProfile; // Use the newly created profile\n              console.log(\"New profile created:\", profile);\n            }\n          } else if (profileError) {\n            console.error('Error fetching profile:', profileError);\n            // Handle other profile fetch errors\n          }\n\n          // Update user state with profile data\n          setUser({\n            isLoggedIn: true,\n            username: profile?.username || userName,\n            email: profile?.email || userEmail,\n            id: userId, // Store the Supabase user ID\n            profile_image_url: profile?.profile_image_url || session.user.user_metadata?.avatar_url || null\n          });\n          setHasTakenQuiz(profile?.has_taken_quiz || false); // Update quiz status from profile\n\n          // 2. Fetch user-specific data (wishlist, contacts)\n          await fetchUserSpecificData(userId);\n\n          setCurrentPage('home'); // Navigate to home after successful login\n          setShowApiKeyError(false); // Clear any API key errors\n        } else {\n          // User is logged out\n          setUser({ isLoggedIn: false, username: 'Guest', email: '', id: null, profile_image_url: null });\n          setHasTakenQuiz(false);\n          setBookmarkedProducts([]); // Clear data on logout\n          setGiftingContacts([]); // Clear data on logout\n          // Only redirect to cover if not already on it (to prevent infinite loops)\n          if (currentPage !== 'cover' && currentPage !== 'create-account') {\n            setCurrentPage('cover');\n          }\n        }\n        setIsCoverPageTransitioningOut(false); // Ensure transition state is reset after auth check\n      }\n    );\n\n    // Initial check for session when the app loads\n    supabase.auth.getSession().then(async ({ data: { session } }) => {\n      if (session) {\n        const userEmail = session.user.email;\n        const userName = session.user.user_metadata?.username || session.user.user_metadata?.full_name || session.user.email?.split('@')[0] || 'User';\n        const userId = session.user.id;\n\n        // Fetch profile on initial session check\n        const { data: profile, error: profileError } = await supabase\n          .from('profiles')\n          .select('*')\n          .eq('id', userId)\n          .single();\n\n        if (profileError) {\n            console.error('Error fetching profile on initial session:', profileError);\n            // If profile doesn't exist on initial load, it will be created on next auth change\n        }\n\n        setUser({\n          isLoggedIn: true,\n          username: profile?.username || userName,\n          email: profile?.email || userEmail,\n          id: userId,\n          profile_image_url: profile?.profile_image_url || session.user.user_metadata?.avatar_url || null\n        });\n        setHasTakenQuiz(profile?.has_taken_quiz || false);\n\n        await fetchUserSpecificData(userId); // Fetch user-specific data\n        setCurrentPage('home');\n      } else {\n        setUser({ isLoggedIn: false, username: 'Guest', email: '', id: null, profile_image_url: null });\n        setCurrentPage('cover');\n      }\n      setIsCoverPageTransitioningOut(false); // Reset transition state after initial session check\n    }).catch(error => {\n      console.error(\"Error getting initial Supabase session:\", error.message);\n      // If there's an error getting session, assume not logged in and show cover page\n      setUser({ isLoggedIn: false, username: 'Guest', email: '', id: null, profile_image_url: null });\n      setCurrentPage('cover');\n      setShowApiKeyError(true); // Indicate a potential Supabase config issue\n      setIsCoverPageTransitioningOut(false);\n    });\n\n    return () => {\n      authListener.subscription.unsubscribe();\n    };\n  }, []); // Empty dependency array to run once on mount\n\n\n  // Handle guest sign-in (no change needed for Supabase as it's not a direct auth method)\n  const handleGuestSignIn = () => {\n    setIsCoverPageTransitioningOut(true); // Trigger transition out\n    setTimeout(() => {\n      setUser({ isLoggedIn: true, username: 'Guest', email: 'guest@wyshdrop.com', id: 'guest-user-id', profile_image_url: null }); // Assign a dummy ID for guest\n      setCurrentPage('home'); // Navigate to home page after guest sign-in\n      setIsCoverPageTransitioningOut(false); // Reset transition state\n    }, 1000); // Match CSS transition duration\n  };\n\n  // Handle sign-in button click on cover page (for future authentication flow)\n  // This will now lead to email/password or social sign-in via Supabase\n  const handleCoverSignInClick = () => {\n    // For a real app, this would show an email/password login form or redirect to a dedicated login page.\n    // For now, we'll just simulate a successful login for demo purposes.\n    // In a real app, you'd likely navigate to a dedicated login form or trigger a modal.\n    alert(\"This would lead to an email/password login form or social login options.\");\n    // For now, we'll just let the user try social sign-in or create account.\n  };\n\n  // --- SUPABASE INTEGRATION: Handle social sign-in (Google) using Supabase ---\n  const handleSocialSignIn = async (providerName) => {\n    setIsCoverPageTransitioningOut(true); // Start transition out before redirect\n    try {\n      const { error } = await supabase.auth.signInWithOAuth({\n        provider: providerName, // 'google'\n        options: {\n          redirectTo: window.location.origin, // Redirect back to the current origin\n        },\n      });\n\n      if (error) {\n        console.error(`Error during ${providerName} Sign-In:`, error.message);\n        alert(`${providerName} Sign-In failed: ` + error.message);\n        setShowApiKeyError(true); // Indicate a potential Supabase config issue\n        setIsCoverPageTransitioningOut(false); // Reset transition state if an error occurs\n      }\n      // Supabase handles the redirect automatically, so no need for further logic here.\n      // The onAuthStateChange listener will pick up the session after redirect.\n    } catch (error) {\n      console.error(`Unexpected error during ${providerName} Sign-In:`, error);\n      alert(`An unexpected error occurred during ${providerName} Sign-In.`);\n      setIsCoverPageTransitioningOut(false); // Reset transition state\n    }\n  };\n\n  // --- SUPABASE INTEGRATION: Function to sign out using Supabase ---\n  const handleSignOut = async () => {\n    try {\n      const { error } = await supabase.auth.signOut();\n      if (error) {\n        console.error(\"Error signing out:\", error.message);\n        alert(\"Failed to sign out. Please try again.\");\n      } else {\n        console.log(\"User signed out.\");\n        setUser({ isLoggedIn: false, username: 'Guest', email: '', id: null, profile_image_url: null });\n        setHasTakenQuiz(false);\n        setBookmarkedProducts([]);\n        setGiftingContacts([]);\n        setIsCoverPageTransitioningOut(true); // Trigger transition out for a moment before going back to cover\n        setTimeout(() => {\n          setCurrentPage('cover');\n          setIsCoverPageTransitioningOut(false); // Reset transition state\n        }, 1000); // Match CSS transition duration\n      }\n    } catch (error) {\n      console.error(\"Error during Supabase signOut:\", error);\n      alert(\"An unexpected error occurred during sign out.\");\n    }\n  };\n\n  // Handle Terms and Conditions navigation from CoverPage\n  const handleTermsAndConditionsClick = () => {\n    setCurrentPage('terms-conditions');\n  };\n\n  // Handle \"Recommended\" navigation\n  const handleRecommendedClick = () => {\n    if (!user.isLoggedIn) {\n      setCurrentPage('cover'); // Redirect to cover page if not logged in\n    } else if (!hasTakenQuiz) {\n      setShowQuizPromptModal(true); // Show quiz prompt if logged in but no quiz taken\n    } else {\n      setCurrentPage('recommended'); // Go to recommended page\n    }\n  };\n\n  const handleQuizComplete = (answers) => {\n    setHasTakenQuiz(true); // This will be updated by the profile fetch if logged in\n    setShowQuizModal(false); // Close the quiz modal\n    console.log(\"Quiz completed with answers:\", answers);\n    // The quiz answers are saved to Supabase profile directly in QuizModal\n  };\n\n  // Handle account creation from CreateAccountPage (email/password signup)\n  // The actual supabase.auth.signUp call is now in CreateAccountPage component\n  const handleCreateAccount = (accountDetails) => {\n    // This function is now primarily for updating App.js state or triggering navigation\n    // after the signup in CreateAccountPage is initiated.\n    console.log(\"Create account initiated from CreateAccountPage:\", accountDetails);\n    // The onAuthStateChange listener will handle the actual user state update and navigation to 'home'\n  };\n\n\n  return (\n    <div className={`min-h-screen font-inter flex flex-col items-center transition-colors duration-300`}\n         style={{ backgroundColor: `var(--main-bg-color)`, color: `var(--text-color)` }}>\n      {/* Font Awesome for icons */}\n      <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css\" />\n\n      {/* Conditional rendering of CoverPage or Main App content */}\n      {currentPage === 'cover' ? (\n        <CoverPage\n          onGuestSignIn={handleGuestSignIn}\n          onSignInClick={handleCoverSignInClick}\n          onTermsAndConditionsClick={handleTermsAndConditionsClick}\n          isDarkMode={isDarkMode}\n          onSocialSignIn={handleSocialSignIn} // Pass the new handler\n          isTransitioningOut={isCoverPageTransitioningOut} // Pass transition state\n          showApiKeyError={showApiKeyError} // Pass API key error state\n          onCreateAccountClick={() => setCurrentPage('create-account')} // New handler for create account\n          soundSettings={soundSettings} // Pass sound settings\n          clickSoundRef={clickSoundRef}\n        />\n      ) : currentPage === 'create-account' ? (\n        <CreateAccountPage\n          onCreateAccount={handleCreateAccount}\n          onBackToSignIn={() => setCurrentPage('cover')}\n          soundSettings={soundSettings} // Pass sound settings\n          clickSoundRef={clickSoundRef}\n        />\n      ) : (\n        <>\n          {/* Header (now reusable and passed props) */}\n          <Header\n            toggleSidebar={toggleSidebar}\n            onSearchClick={handleSearchClick}\n            onBookmarkClick={handleBookmarkClick}\n            onSettingsClick={handleSettingsClick}\n            onProfileClick={handleProfileClick}\n            onBack={handleBack}\n            currentPage={currentPage}\n            onWyshDropClick={handleWyshDropClick}\n            isHeaderVisible={isHeaderVisible}\n            toggleHeaderVisibility={toggleHeaderVisibility}\n            user={user} // Pass user object\n            onQuizMeClick={() => setShowQuizModal(true)} // Direct quiz modal open\n            onDonateClick={handleDonateClick}\n            onFeedbackClick={() => setIsGeneralFeedbackModalOpen(true)}\n            onSignInClick={handleCoverSignInClick} // For profile dropdown sign-in\n            onSignUpClick={handleCoverSignInClick} // For profile dropdown sign-up (same as sign-in for demo)\n            soundSettings={soundSettings} // Pass sound settings\n            clickSoundRef={clickSoundRef}\n          />\n\n          {/* Category Navigation Bar (now always rendered) */}\n          {/* Positioned relative to header's height (approx 64px based on p-4) */}\n          <nav className={`w-full bg-[var(--border-color)] py-2 px-4 md:px-12 overflow-x-auto whitespace-nowrap shadow-md custom-scrollbar-horizontal transition-transform duration-300 ${isHeaderVisible ? 'top-16' : '-translate-y-full'} fixed left-0 z-20`}>\n            <div className=\"flex space-x-6 justify-center md:justify-start\">\n              {categories.map((category) => (\n                <a\n                  key={category}\n                  href=\"#\"\n                  onClick={(e) => { handleCategoryClick(e, category); playSound(clickSoundRef, 'click', soundSettings); }} // Pass event and category\n                  className=\"text-white text-sm font-semibold hover:text-[var(--primary-color)] hover:bg-white px-3 py-1 rounded-md transition-all duration-200 ease-in-out hover:scale-105 active:scale-95 flex-shrink-0\" // Added flex-shrink-0\n                >\n                  {category}\n                </a>\n              ))}\n            </div>\n          </nav>\n\n          {/* Sidebar Overlay */}\n          {isSidebarOpen && (\n            <div\n              className=\"fixed inset-0 bg-black bg-opacity-50 z-40\"\n              onClick={() => { toggleSidebar(); playSound(clickSoundRef, 'click', soundSettings); }}\n              aria-hidden=\"true\"\n            ></div>\n          )}\n\n          {/* Sidebar Menu */}\n          <div\n            className={`fixed top-0 left-0 h-full w-64 bg-[var(--box-bg-color)] shadow-xl z-50 transform transition-transform duration-300 ease-in-out\n              ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full'}`}\n          >\n            <div className=\"p-4 flex justify-between items-center border-b border-[var(--border-color)]\">\n              <h2 className=\"text-2xl font-handwritten text-[var(--primary-color)]\">Menu</h2>\n              <button\n                onClick={() => { toggleSidebar(); playSound(clickSoundRef, 'click', soundSettings); }}\n                aria-label=\"Close menu\"\n                className=\"text-[var(--primary-color)] hover:text-gray-700 focus:outline-none transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n              >\n                <i className=\"fas fa-times text-xl\"></i>\n              </button>\n            </div>\n            <nav className=\"p-4 flex flex-col space-y-4 flex-grow\"> {/* flex-grow to push donate/feedback to bottom */}\n              <a href=\"#\" onClick={() => { handleSidebarNavigation('home'); playSound(clickSoundRef, 'click', soundSettings); }} className=\"text-lg text-[var(--primary-color)] hover:text-gray-700 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">Home</a>\n              <a href=\"#\" onClick={() => { setShowQuizModal(true); playSound(clickSoundRef, 'click', soundSettings); }} className=\"text-lg text-[var(--primary-color)] hover:text-gray-700 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">Quiz Me</a> {/* Added to sidebar */}\n              {/* Removed \"Gift Ideas\" */}\n              <a href=\"#\" onClick={() => { handleSidebarNavigation('how-it-works'); playSound(clickSoundRef, 'click', soundSettings); }} className=\"text-lg text-[var(--primary-color)] hover:text-gray-700 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">How it Works</a>\n              <a href=\"#\" onClick={() => { handleSidebarNavigation('my-hints'); playSound(clickSoundRef, 'click', soundSettings); }} className=\"text-lg text-[var(--primary-color)] hover:text-gray-700 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">My Hints</a>\n              <a href=\"#\" onClick={() => { handleSidebarNavigation('about-us'); playSound(clickSoundRef, 'click', soundSettings); }} className=\"text-lg text-[var(--primary-color)] hover:text-gray-700 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">About us</a> {/* New About us link */}\n              <a href=\"#\" onClick={() => { handleSidebarNavigation('contact-us'); playSound(clickSoundRef, 'click', soundSettings); }} className=\"text-lg text-[var(--primary-color)] hover:text-gray-700 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">Contact Us</a>\n              <a href=\"#\" onClick={() => { handleSidebarNavigation('faqs'); playSound(clickSoundRef, 'click', soundSettings); }} className=\"text-lg text-[var(--primary-color)] hover:text-gray-700 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">FAQs</a> {/* New FAQ link */}\n              <a href=\"#\" onClick={() => { handleSidebarNavigation('careers'); playSound(clickSoundRef, 'click', soundSettings); }} className=\"text-lg text-[var(--primary-color)] hover:text-gray-700 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">Careers</a> {/* New Careers link */}\n            </nav>\n            {/* Donate and Feedback buttons at the bottom of the sidebar */}\n            <div className=\"p-4 border-t border-[var(--border-color)] flex flex-col space-y-2\">\n              <button\n                onClick={() => { handleDonateClick(); playSound(clickSoundRef, 'click', soundSettings); }}\n                className=\"w-full px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n              >\n                Donate\n              </button>\n              <button\n                onClick={() => { setIsGeneralFeedbackModalOpen(true); setIsSidebarOpen(false); playSound(clickSoundRef, 'click', soundSettings); }}\n                className=\"w-full px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n              >\n                Feedback\n              </button>\n            </div>\n          </div>\n\n          {/* Conditional Page Rendering */}\n          {currentPage === 'home' && (\n            <HomeContent\n              onSeeMoreClick={handleSubcategoryClick}\n              onDiscoverClick={handleSearchClick}\n              isLoggedIn={user.isLoggedIn}\n              onAboutUsClick={() => handleSidebarNavigation('about-us')}\n              onProductClick={handleProductClick}\n              onAddProductToWishlist={handleAddProductToWishlist}\n              soundSettings={soundSettings}\n              clickSoundRef={clickSoundRef}\n            />\n          )}\n          {currentPage === 'search' && (\n            <SearchPage\n              handleCategoryClick={handleCategoryClick}\n              onSeeMoreClick={handleSubcategoryClick}\n              onProductClick={handleProductClick}\n              onAddProductToWishlist={handleAddProductToWishlist}\n              onQuizMeClick={() => setShowQuizModal(true)} // Pass quiz me handler\n              soundSettings={soundSettings}\n              clickSoundRef={clickSoundRef}\n            />\n          )}\n          {currentPage === 'bookmarks' && (\n            <BookmarksPage bookmarkedProducts={bookmarkedProducts} soundSettings={soundSettings} clickSoundRef={clickSoundRef} />\n          )}\n          {currentPage === 'settings' && (\n            <SettingsPage\n              applyPalette={applyPalette} // Pass applyPalette function\n              colorPalettes={colorPalettes} // Pass all color palettes\n              isDarkMode={isDarkMode}\n              toggleDarkMode={toggleDarkMode}\n              soundSettings={soundSettings} // Pass sound settings\n              setSoundSettings={setSoundSettings} // Pass setter for sound settings\n              clickSoundRef={clickSoundRef}\n            />\n          )}\n          {currentPage === 'profile' && (\n            <ProfilePage\n              user={user}\n              onSignOut={handleSignOut}\n              onAboutUsClick={() => handleSidebarNavigation('about-us')}\n              giftingContacts={giftingContacts} // Pass gifting contacts\n              setGiftingContacts={setGiftingContacts} // Pass setter for contacts\n              soundSettings={soundSettings}\n              clickSoundRef={clickSoundRef}\n            />\n          )}\n          {currentPage === 'how-it-works' && (\n            <GenericPage\n              title=\"How WyshDrop Works\"\n              content=\"Learn how WyshDrop simplifies gifting! From creating wishlists to sending hints, we make every step easy and fun. Get started in minutes!\"\n              soundSettings={soundSettings}\n              clickSoundRef={clickSoundRef}\n            />\n          )}\n          {currentPage === 'my-hints' && (\n            <GenericPage\n              title=\"My Hints\"\n              content=\"This is where you can manage all the hints you've sent or received. Keep track of your gifting journey!\"\n              soundSettings={soundSettings}\n              clickSoundRef={clickSoundRef}\n            />\n          )}\n          {currentPage === 'contact-us' && (\n            <GenericPage\n              title=\"Contact Us\"\n              content={`\n                <h3 class=\"text-3xl font-bold text-[var(--primary-color)] mb-4 text-center\">Get in Touch!</h3>\n                <p class=\"mb-4 text-center\">We'd love to hear from you. Whether you have questions, feedback, or just want to say hello, feel to reach out!</p>\n\n                <div class=\"flex flex-col items-center space-y-4 mb-8\">\n                  <div class=\"flex items-center space-x-2 text-lg\">\n                    <i class=\"fas fa-envelope text-[var(--primary-color)]\"></i>\n                    <a href=\"mailto:info@wyshdrop.com\" class=\"text-[var(--primary-color)] hover:underline\">info@wyshdrop.com</a>\n                  </div>\n                  <div class=\"flex items-center space-x-2 text-lg text-[var(--primary-color)]\">\n                    <i class=\"fas fa-phone text-[var(--primary-color)]\"></i>\n                    <span>Phone number coming soon!</span>\n                  </div>\n                </div>\n\n                <h3 class=\"text-3xl font-bold text-[var(--primary-color)] mb-4 text-center\">Find Us on Social Media!</h3>\n                <div class=\"flex justify-center space-x-6 text-4xl mb-8\">\n                  <a href=\"https://www.youtube.com/channel/Lydia&Crim\" target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"YouTube\" class=\"text-red-600 hover:text-red-700 transition-all duration-200 ease-in-out hover:scale-110\">\n                    <i class=\"fab fa-youtube\"></i>\n                  </a>\n                  <a href=\"#\" aria-label=\"Instagram\" class=\"text-pink-500 hover:text-pink-600 transition-all duration-200 ease-in-out hover:scale-110\">\n                    <i class=\"fab fa-instagram\"></i>\n                  </a>\n                  <a href=\"#\" aria-label=\"TikTok\" class=\"text-black hover:text-gray-800 transition-all duration-200 ease-in-out hover:scale-110\">\n                    <i class=\"fab fa-tiktok\"></i>\n                  </a>\n                </div>\n              `}\n              soundSettings={soundSettings}\n              clickSoundRef={clickSoundRef}\n            />\n          )}\n          {currentPage === 'about-us' && (\n            <GenericPage\n              title=\"About Us\"\n              content={`\n                <h3 class=\"text-3xl font-bold text-[var(--primary-color)] mb-4 text-center\">Our Goal</h3>\n                <p class=\"mb-8 text-center\">At WyshDrop, our goal is simple: to transform the art of gifting into an effortless and joyful experience for everyone. We believe that giving and receiving gifts should be a source of happiness, free from stress and uncertainty. Our platform is designed to help you find the perfect gift every time, fostering stronger connections and creating memorable moments.</p>\n\n                <h3 class=\"text-3xl font-bold text-[var(--primary-color)] mb-4 text-center\">The Three Scenarios We Hope to Uncover</h3>\n                <p class=\"mb-6 text-center\">WyshDrop is built to cater to diverse gifting needs and challenges:</p>\n                <ol class=\"list-decimal list-inside space-y-4 mb-12 px-4 md:px-8\">\n                  <li><strong>The Thoughtful Giver:</strong> For those who genuinely want to give a meaningful and desired gift but struggle with ideas or knowing what someone truly wants. WyshDrop provides personalized recommendations and easy access to wishlists, ensuring your thoughtful gesture hits the mark.</li>\n                  <li><strong>The Hint-Dropper:</strong> For individuals who wish to receive gifts they truly desire without having to explicitly ask or risk getting something they don't need. Our platform allows users to create and manage wishlists, subtly share them, and ensure their loved ones have a clear idea of their preferences.</li>\n                  <li><strong>The Last-Minute Shopper:</strong> We understand that life gets busy! For those who need a quick, yet thoughtful gift solution, WyshDrop offers efficient search, curated categories, and personalized suggestions to help you find the ideal present even when time is short.</li>\n                </ol>\n\n                <h3 class=\"text-3xl font-bold text-[var(--primary-color)] mb-6 text-center\">The Creators</h3>\n                <div class=\"flex flex-col md:flex-row justify-center items-stretch gap-8 mb-12\">\n                  <div class=\"flex-1 flex flex-col items-center text-center bg-[var(--main-bg-color)] p-6 rounded-lg shadow-md border-2 border-[var(--border-color)]\">\n                    <img src=\"https://placehold.co/150x150/A1D3B3/FFFFFF?text=Crim\" alt=\"Crim's Profile\" class=\"w-32 h-32 rounded-full object-cover mb-4 border-4 border-[var(--primary-color)]\"/>\n                    <h4 class=\"text-2xl font-bold text-[var(--primary-color)] mb-2\">Crim</h4>\n                    <p>Crim is the visionary behind WyshDrop's user experience and design. With a keen eye for aesthetics and a deep understanding of user psychology, Crim ensures that every interaction on the platform is intuitive, delightful, and visually appealing. Their passion for seamless digital experiences is at the heart of WyshDrop's inviting interface.</p>\n                  </div>\n                  <div class=\"flex-1 flex flex-col items-center text-center bg-[var(--main-bg-color)] p-6 rounded-lg shadow-md border-2 border-[var(--border-color)]\">\n                    <img src=\"https://placehold.co/150x150/D3A173/FFFFFF?text=Lydia\" alt=\"Lydia's Profile\" class=\"w-32 h-32 rounded-full object-cover mb-4 border-4 border-[var(--primary-color)]\"/>\n                    <h4 class=\"text-2xl font-bold text-[var(--primary-color)] mb-2\">Lydia</h4>\n                    <p>Lydia is the technical architect and driving force behind WyshDrop's robust functionality. With expertise in backend systems and data management, Lydia ensures the platform is secure, scalable, and performs flawlessly. Their dedication to innovative technology makes WyshDrop a reliable and powerful tool for all your gifting needs.</p>\n                  </div>\n                </div>\n              `}\n              soundSettings={soundSettings}\n              clickSoundRef={clickSoundRef}\n            />\n          )}\n          {currentPage === 'faqs' && (\n            <GenericPage\n              title=\"Frequently Asked Questions\"\n              content=\"Find answers to common questions about WyshDrop, our features, and how to get the most out of your gifting experience.\"\n              soundSettings={soundSettings}\n              clickSoundRef={clickSoundRef}\n            />\n          )}\n          {currentPage === 'careers' && (\n            <GenericPage\n              title=\"Careers\"\n              content=\"Join the WyshDrop team! We're looking for passionate individuals to help us revolutionize the world of gifting. Check out our open positions.\"\n              soundSettings={soundSettings}\n              clickSoundRef={clickSoundRef}\n            />\n          )}\n          {currentPage === 'terms-conditions' && (\n            <TermsAndConditionsPage onBack={handleBack} soundSettings={soundSettings} clickSoundRef={clickSoundRef} />\n          )}\n          {currentPage === 'privacy-consent' && (\n            <GenericPage\n              title=\"Privacy & Consent\"\n              content=\"Your privacy is paramount to us. This page details how WyshDrop collects, uses, and protects your personal information, and your rights regarding your data.\"\n              soundSettings={soundSettings}\n              clickSoundRef={clickSoundRef}\n            />\n          )}\n          {categories.includes(currentPage) && currentPage !== 'Recommended' && currentPage !== 'Quiz Me' && currentPage !== 'Donate' && (\n            <CategoryPage\n              categoryName={currentCategory}\n              onSeeMoreClick={handleSubcategoryClick}\n              onProductClick={handleProductClick}\n              onAddProductToWishlist={handleAddProductToWishlist}\n              soundSettings={soundSettings}\n              clickSoundRef={clickSoundRef}\n            />\n          )}\n          {currentPage === 'subcategory' && (\n            <SubcategoryPage\n              subcategoryName={currentSubcategory}\n              onProductClick={handleProductClick}\n              onAddProductToWishlist={handleAddProductToWishlist}\n              soundSettings={soundSettings}\n              clickSoundRef={clickSoundRef}\n            />\n          )}\n          {currentPage === 'product-detail' && selectedProduct && (\n            <ProductDetailPage\n              product={selectedProduct}\n              onProductClick={handleProductClick}\n              onAddProductToWishlist={handleAddProductToWishlist}\n              onHintClick={handleHintClick} // Pass the hint click handler\n              soundSettings={soundSettings}\n              bookmarkedProducts={bookmarkedProducts} // Pass bookmark state\n              setBookmarkedProducts={setBookmarkedProducts} // Pass bookmark setter\n              user={user} // Pass user object for comments\n              clickSoundRef={clickSoundRef} // Pass clickSoundRef\n            />\n          )}\n          {currentPage === 'recommended' && (\n            <RecommendedPage\n              user={user}\n              hasTakenQuiz={hasTakenQuiz}\n              onQuizMeClick={() => setShowQuizModal(true)}\n              onSignInClick={handleCoverSignInClick}\n              onProductClick={handleProductClick}\n              onAddProductToWishlist={handleAddProductToWishlist}\n              soundSettings={soundSettings}\n              clickSoundRef={clickSoundRef}\n            />\n          )}\n\n          {/* Feedback Rectangle (always visible) */}\n          <div className=\"fixed bottom-4 right-4 bg-[var(--box-bg-color)] p-3 rounded-md shadow-lg border border-[var(--border-color)] text-sm text-[var(--primary-color)] z-50 cursor-pointer transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">\n            <a onClick={() => { setIsGeneralFeedbackModalOpen(true); playSound(clickSoundRef, 'click', soundSettings); }} className=\"hover:underline\">Feedback?</a>\n          </div>\n\n          {/* General Feedback Modal (opened from sidebar) */}\n          <FeedbackModal\n            isOpen={isGeneralFeedbackModalOpen}\n            onClose={() => setIsGeneralFeedbackModalOpen(false)}\n            onSubmit={handleGeneralFeedbackSubmit}\n            purpose=\"general-feedback\"\n            soundSettings={soundSettings}\n            clickSoundRef={clickSoundRef}\n          />\n\n          {/* Quiz Modal (globally accessible) */}\n          <QuizModal\n            isOpen={showQuizModal}\n            onClose={() => setShowQuizModal(false)}\n            onQuizComplete={handleQuizComplete}\n            soundSettings={soundSettings}\n            clickSoundRef={clickSoundRef}\n            user={user} // Pass user to QuizModal\n          />\n\n          {/* Quiz Prompt Modal (for Recommended page) */}\n          {showQuizPromptModal && (\n            <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\" onClick={() => { setShowQuizPromptModal(false); playSound(clickSoundRef, 'click', soundSettings); }}>\n              <div className=\"bg-[var(--box-bg-color)] p-6 rounded-lg shadow-lg border-2 border-[var(--border-color)] w-full max-w-sm mx-auto text-center\" onClick={(e) => e.stopPropagation()}>\n                <h3 className=\"text-xl font-bold text-[var(--primary-color)] mb-4\">Get Personalized Recommendations!</h3>\n                <p className=\"text-[var(--primary-color)] mb-6\">Recommendations are provided through quiz answers. Want to take your quiz now?</p>\n                <div className=\"flex justify-center space-x-4\">\n                  <button\n                    onClick={() => { setShowQuizModal(true); setShowQuizPromptModal(false); playSound(clickSoundRef, 'click', soundSettings); }}\n                    className=\"px-4 py-2 bg-[var(--button-bg-color)] text-white rounded-md hover:bg-opacity-90 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n                  >\n                    Take Quiz ✨\n                  </button>\n                  <button\n                    onClick={() => { setShowQuizPromptModal(false); playSound(clickSoundRef, 'click', soundSettings); }}\n                    className=\"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\"\n                  >\n                    No, Thanks\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Wishlist Success Popup */}\n          <WishlistSuccessPopup\n            isVisible={showWishlistSuccessPopup}\n            productName={wishlistPopupProductName}\n            onCheckBookmarks={() => { setCurrentPage('bookmarks'); setShowWishlistSuccessPopup(false); playSound(clickSoundRef, 'click', soundSettings); }}\n            onClose={() => { setShowWishlistSuccessPopup(false); playSound(clickSoundRef, 'click', soundSettings); }}\n            soundSettings={soundSettings}\n            clickSoundRef={clickSoundRef}\n          />\n\n          {/* Hint Modal */}\n          {selectedProduct && ( // Only render if a product is selected for hinting\n            <HintModal\n              isOpen={showHintModal}\n              onClose={() => setShowHintModal(false)}\n              product={selectedProduct}\n              giftingContacts={giftingContacts}\n              setGiftingContacts={setGiftingContacts}\n              soundSettings={soundSettings}\n              clickSoundRef={clickSoundRef}\n              user={user} // Pass user to HintModal\n            />\n          )}\n\n          {/* Footer Section (now always rendered) */}\n          <footer className=\"w-full bg-[var(--footer-bg-color)] text-white p-8 mt-8 rounded-t-xl shadow-inner\">\n            <div className=\"flex flex-col md:flex-row justify-between items-center md:items-start space-y-4 md:space-y-0\">\n              <nav className=\"flex flex-col space-y-2 text-center md:text-left\">\n                <a href=\"#\" onClick={() => { handleSidebarNavigation('about-us'); playSound(clickSoundRef, 'click', soundSettings); }} className=\"hover:underline text-lg transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">About us</a>\n                {/* Contact us with dropdown */}\n                <div\n                  className=\"relative\"\n                  // Removed onMouseEnter/onMouseLeave to simplify, as showContactDropdown is not defined\n                >\n                  <a href=\"#\" onClick={() => { handleSidebarNavigation('contact-us'); playSound(clickSoundRef, 'click', soundSettings); }} className=\"hover:underline text-lg transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">Contact us</a>\n                </div>\n                <a href=\"#\" onClick={() => { handleSidebarNavigation('privacy-consent'); playSound(clickSoundRef, 'click', soundSettings); }} className=\"hover:underline text-lg transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">Privacy / consent</a>\n                <a href=\"#\" onClick={() => { handleSidebarNavigation('terms-conditions'); playSound(clickSoundRef, 'click', soundSettings); }} className=\"hover:underline text-lg transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">Terms & Conditions</a>\n                <a href=\"#\" onClick={() => { handleSidebarNavigation('faqs'); playSound(clickSoundRef, 'click', soundSettings); }} className=\"hover:underline text-lg transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">FAQs</a> {/* Added to footer */}\n                <a href=\"#\" onClick={() => { handleSidebarNavigation('careers'); playSound(clickSoundRef, 'click', soundSettings); }} className=\"hover:underline text-lg transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">Careers</a> {/* Added to footer */}\n              </nav>\n              <div className=\"flex space-x-6 text-2xl\">\n                {/* Social Media Icons */}\n                <a href=\"https://www.youtube.com/channel/Lydia&Crim\" target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"YouTube\" className=\"hover:text-gray-200 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">\n                  <i className=\"fab fa-youtube\"></i>\n                </a>\n                <a href=\"#\" aria-label=\"Instagram\" className=\"hover:text-gray-200 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">\n                  <i className=\"fab fa-instagram\"></i>\n                </a>\n                <a href=\"#\" aria-label=\"TikTok\" className=\"hover:text-gray-200 transition-all duration-200 ease-in-out hover:scale-105 active:scale-95\">\n                  <i className=\"fab fa-tiktok\"></i>\n                </a>\n              </div>\n            </div>\n            <div className=\"text-center text-sm mt-6 text-gray-200 flex items-center justify-center space-x-2\">\n              <span>&copy; {new Date().getFullYear()} WyshDrop. All rights reserved.</span>\n            </div>\n          </footer>\n        </>\n      )}\n\n      {/* Custom Styles for Handwritten Font and Scrollbar */}\n      <style>\n        {`\n        @import url('https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap');\n        .font-handwritten {\n          font-family: 'Permanent Marker', cursive;\n        }\n        .font-inter {\n          font-family: 'Inter', sans-serif;\n        }\n        /* Custom scrollbar for product sections */\n        .custom-scrollbar::-webkit-scrollbar {\n          height: 8px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-track {\n          background: #f1f1f1;\n          border-radius: 10px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb {\n          background: transparent; /* Made transparent by default */\n          border-radius: 10px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n          background: var(--border-color); /* Show on hover */\n        }\n        /* Custom scrollbar for horizontal category bar */\n        .custom-scrollbar-horizontal::-webkit-scrollbar {\n          height: 6px;\n        }\n        .custom-scrollbar-horizontal::-webkit-scrollbar-track {\n          background: #f1f1f1;\n          border-radius: 3px;\n        }\n        .custom-scrollbar-horizontal::-webkit-scrollbar-thumb {\n          background: transparent; /* Made transparent by default */\n          border-radius: 3px;\n        }\n        .custom-scrollbar-horizontal::-webkit-scrollbar-thumb:hover {\n          background: var(--primary-color); /* Show on hover */\n        }\n        /* Line clamp for comments */\n        .line-clamp-3 {\n          display: -webkit-box;\n          -webkit-line-clamp: 3;\n          -webkit-box-orient: vertical;\n          overflow: hidden;\n        }\n        `}\n      </style>\n    </div>\n  );\n};\n\nexport default App;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}